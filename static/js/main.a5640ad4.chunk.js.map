{"version":3,"sources":["images/mockback_white.svg","images/mockback_black.svg","reducers/AuthReducer.ts","reducers/ProfileReducer.ts","reducers/UserReducer.ts","reducers/SpaceReducer.ts","reducers/ProjectReducer.ts","reducers/EndpointReducer.ts","reducers/index.ts","actions/types.ts","store.ts","events/MessageService.ts","oakui/OakSpinner.tsx","components/Notification/NotificationMessage.tsx","components/Notification/index.tsx","components/Lib/RestTemplate.ts","components/Constants.ts","actions/UserActions.ts","actions/EndpointActions.ts","components/App/Init.tsx","actions/ProjectActions.ts","actions/ProfileActions.ts","components/Navigation/Links.tsx","components/Navigation/DarkModeIcon.tsx","components/Navigation/NavAccountIcon.tsx","actions/AuthActions.ts","components/Topbar/RightNav.tsx","components/Topbar/ExpandIcon.tsx","components/Logo/index.tsx","components/Topbar/index.tsx","components/App/TopbarContainer.tsx","components/Sidebar/Header.tsx","components/Sidebar/NavItem.tsx","components/Sidebar/NavElements.tsx","components/Sidebar/index.tsx","components/App/SidebarContainer.tsx","oakui/OakHeadingLink.tsx","oakui/OakHeading.tsx","oakui/OakSection.tsx","oakui/OakSubheading.tsx","components/Home/index.tsx","components/Auth/OaLogin.tsx","components/Landing/SpaceItem.tsx","components/Landing/ListSpaces.tsx","oakui/OakPage.tsx","oakui/OakButton.tsx","components/Landing/GettingStartedSpace.tsx","components/Landing/index.tsx","components/Utils.ts","oakui/OakText.tsx","components/Auth/AuthService.ts","components/Tenant/index.tsx","components/Auth/OakRoute.tsx","components/Auth/Unauthorized.tsx","components/Login/OneAuth/SpaceItem.tsx","components/Login/OneAuth/index.tsx","components/Login/LoginMethod.tsx","components/Login/index.tsx","components/Project/ListProject/ProjectLink.tsx","components/Project/ListProject/index.tsx","oakui/OakForm.tsx","oakui/OakFooter.tsx","components/Project/service.ts","components/Project/CreateProject/index.tsx","components/Project/ViewProject/DetailSection.tsx","oakui/OakTab.tsx","oakui/OakAutoComplete.tsx","components/Project/ViewProject/MemberLink.tsx","components/Project/ViewProject/MemberSection.tsx","components/Project/ViewProject/index.tsx","components/Endpoint/service.ts","oakui/OakModal.tsx","oakui/OakSelect.tsx","oakui/OakCheckbox.tsx","components/DataStructure/EditAttribute.tsx","components/DataStructure/FieldElement.tsx","components/DataStructure/DataStructureBuilder.tsx","components/Endpoint/CustomEndpoint/index.tsx","components/Endpoint/ApiSpecification/ApiSpecificationLink.tsx","components/Endpoint/ApiSpecification/index.tsx","components/Endpoint/ViewEndpointCustom/ListApiSpecification.tsx","components/Endpoint/ViewEndpointCustom/index.tsx","components/Endpoint/DomainEndpoint/index.tsx","components/Endpoint/ViewEndpointDomain/ListApiSpecification.tsx","components/Endpoint/ViewEndpointDomain/index.tsx","components/Endpoint/CreateEndpoint/index.tsx","components/Endpoint/ListEndpoint/EndpointLink.tsx","oakui/OakFormRow.tsx","components/Endpoint/ListEndpoint/index.tsx","components/App/RouterView.tsx","components/App/BodyContainer.tsx","components/App/Content.tsx","actions/SpaceActions.ts","components/App/index.tsx","serviceWorker.js","index.tsx"],"names":["module","exports","initialState","isAuth","firstname","lastname","theme","textSize","themeColor","sidebar","hideSidebarOnDesktop","users","assets","projects","endpoints","combineReducers","authorization","state","action","type","console","log","payload","profile","user","space","project","endpoint","middleware","thunk","store","createStore","rootReducer","compose","applyMiddleware","subject","Subject","sendMessage","name","signal","data","next","receiveMessage","asObservable","newMessageId","Math","random","newId","uuidv4","OakSpinner","className","NotificationMessage","props","notification","message","onClick","handleRemove","Notification","useState","spinner","setSpinner","notificationList","setNotificationList","removeNotification","notificationData","filter","item","id","useEffect","eventBus","subscribe","localCopy","unshift","duration","setTimeout","addNotification","unsubscribe","length","slice","reverse","map","key","data-test","httpGet","headers","url","axios","get","getTargetUrl","httpPost","post","httpPut","put","targetUrl","process","startsWith","constants","API_URL_TENANT","API_URL_TENANT_BANNER","API_URL_TENANT_CREATE","API_TENANT_URL","API_URL_PRESIGNUP","API_URL_RESET","API_URL_CODE","API_URL_USER_DETAILS","API_URL_STAGE","API_URL_PREDICT","API_URL_CATEGORY","API_URL_FAQ","API_URL_SR","API_URL_USER","API_URL","API_SIGNIN","API_SIGNUP","API_KEYS","API_JWT","API_URL_PROJECT","API_URL_PROJECTMEMBER","API_URL_ENDPOINT_DOMAIN","API_URL_ENDPOINT_CUSTOM","API_URL_ENDPOINT","fetchAllUsers","tenant","dispatch","Authorization","token","then","response","fetchAllEndpoints","Init","useSelector","setPreviousAuthorizationState","setSpace","useDispatch","initialize","event","fetchAllProjects","setProfile","Links","to","activeClassName","DarkModeIcon","WbSunny","NightsStay","NavAccountIcon","logout","login","firstName","lastName","PowerSettingsNew","Fingerprint","addAuth","RightNav","history","useHistory","cookies","remove","REACT_APP_ONEAUTH_APPSPACE_ID","push","ExpandIcon","MenuOpen","Logo","src","mockbackBlack","alt","mockbackWhite","Topbar","TopbarContainer","Header","NavItem","closeAfterRouteChange","label","NavElements","Sidebar","SidebarContainer","OakHeadingLink","link","icon","size","OakHeading","title","subtitle","links","index","linkSize","children","OakSection","outer","OakSubheading","Home","queryString","require","OaLogin","location","search","query","parse","set","authKey","from","SpaceItem","window","href","spaceId","description","ListSpaces","spaceList","spaces","OakPage","OakButton","style","includes","variant","shape","align","getStyle","disabled","GettingStartedSpace","Landing","isEmptyOrSpaces","str","undefined","toString","match","OakText","multiline","autoComplete","errorFields","value","onChange","handleChange","onFocus","handleFocus","htmlFor","errorData","Warning","encrypt","password","salt","config","cipher","iter","ks","CryptoJS","enc","Base64","stringify","Utf8","sjcl","Tenant","email","repeatPassword","jwtPassword","pageNo","created","setData","banner","setBanner","setErrorFields","getProfile","currentTarget","setError","fieldName","createTenantAction","preSignupData","formData","FormData","append","tenantName","solution","Promise","resolve","createTenant","status","catch","error","e","accept","target","files","required","preventDefault","test","preSignup","OakRoute","runMidleware","middlewareName","readAuthenticationSpace","authenticateSpace","isAdmin","authenticate","a","redirect","params","cookieKey","baseAuthUrl","sessionResponse","secret","userId","redirectToLogin","redirectToUnauthorized","forEach","middlewares","component","Unauthorized","OneAuth","view","setView","text","searchCriteria","setSearchCriteria","queryParam","existingSpace","criteria","toLowerCase","indexOf","goBack","getHeadingLinks","_id","LoginMethod","svgIcon","Login","setFrom","ProjectLink","ListProject","OakForm","OakFooter","saveProject","addProjectMember","getProjectMembers","projectId","removeProjectMember","httpDelete","delete","CreateProject","reference","setState","save","jobId","replace","DetailSection","isEdited","setIsEdited","OakTab","activeTab","setActiveTab","slots","setSlots","useLocation","initializeViews","meta","noBookmarking","hash","slotName","substr","newSlots","React","Children","toArray","node","slot","Object","keys","pathname","OakAutoComplete","searchOn","setSearchOn","setCriteria","dropdownFiltered","setDropdownFiltered","updateSearchResults","objects","addEventListener","document","getElementById","contains","placeholder","MemberLink","showConfirm","setShowConfirm","member","refresh","MemberSection","userMap","setUserMap","localMap","addUser","members","ViewProject","find","setMembers","fetchMembers","saveEndpoint","OakModal","visible","setVisible","escFunction","removeEventListener","keyCode","toggleVisibility","getmodalStyle","noheader","fullscreen","donotMobilize","Close","OakSelect","show","setShow","changeSelection","newValue","elements","firstAction","OakCheckbox","checked","EditAttribute","datatype","lower","upper","startSequenceFrom","enumValues","delimiter","array","handleNumberChange","parseInt","onSave","emptyField","FieldElement","currentField","setCurrentField","setChildren","showEditDialog","setShowEditDialog","parentReference","editNodeData","setEditNodeData","child","updatedNode","DataStructureBuilder","CustomEndpoint","responseType","payloadType","method","alias","actionType","changeData","newData","ApiSpecificationLink","copied","setCopied","identifier","baseUrl","extendedUrl","handleRemoveAlias","navigator","clipboard","writeText","ApiSpecification","addNewAlias","removeAlias","pathKey","path","reset","noAlias","ListApiSpecification","ViewEndpointCustom","setQuery","customEndpoint","DomainEndpoint","keyList","setKeyList","setBaseUrl","minAliasLength","ViewEndpointDomain","domainEndpoint","CreateEndpoint","projectElements","setProjectElements","localState","EndpointLink","toUpperCase","OakFormRow","ListEndpoint","setEndpoints","allEndpoints","RouterView","render","propsLocal","exact","BodyContainer","withCookies","Chart","defaults","global","defaultFontColor","App","Boolean","hostname","ReactDOM","CookiesProvider","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.a5640ad4.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/mockback_white.182166ff.svg\";","module.exports = __webpack_public_path__ + \"static/media/mockback_black.fb9493fe.svg\";","import { GET_AUTH, ADD_AUTH, REMOVE_AUTH } from '../actions/types';\r\n\r\nconst initialState = {\r\n  isAuth: false,\r\n  firstname: '',\r\n  lastname: '',\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_AUTH:\r\n      console.log('GET_AUTH reducer');\r\n      return {\r\n        ...state,\r\n      };\r\n    case ADD_AUTH:\r\n      console.log('ADD_AUTH reducer');\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n\r\n    case REMOVE_AUTH:\r\n      console.log('REMOVE_AUTH reducer');\r\n      return {\r\n        ...state,\r\n        isAuth: false,\r\n        firstname: '',\r\n        lastname: '',\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { GET_PROFILE, SET_PROFILE } from '../actions/types';\r\n\r\nconst initialState = {\r\n  theme: 'theme_dark',\r\n  textSize: 'textsize_medium',\r\n  themeColor: 'themecolor1',\r\n  sidebar: false,\r\n  hideSidebarOnDesktop: true,\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_PROFILE:\r\n      console.log('GET_PROFILE reducer');\r\n      return {\r\n        ...state,\r\n      };\r\n    case SET_PROFILE:\r\n      console.log('SET_PROFILE reducer');\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { GET_USER, ADD_USER, FETCH_ALL_USERS } from '../actions/types';\r\n\r\nconst initialState = {\r\n  users: [],\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_USER:\r\n      console.log('GET_USER reducer');\r\n      return {\r\n        ...state,\r\n      };\r\n    case ADD_USER:\r\n      console.log('ADD_USER reducer');\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    case FETCH_ALL_USERS:\r\n      console.log('FETCH_ALL_USERS reducer');\r\n      console.log(action);\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { REFRESH_SPACES } from '../actions/types';\r\n\r\nconst initialState = {\r\n  assets: [],\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case REFRESH_SPACES:\r\n      console.log('GET_AUTH reducer');\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { RELOAD_PROJECTS } from '../actions/types';\r\n\r\nconst initialState = {\r\n  projects: [],\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case RELOAD_PROJECTS:\r\n      console.log('RELOAD_PROJECTS reducer');\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { RELOAD_ENDPOINTS } from '../actions/types';\r\n\r\nconst initialState = {\r\n  endpoints: [],\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case RELOAD_ENDPOINTS:\r\n      console.log('RELOAD_ENDPOINTS reducer');\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport AuthReducer from './AuthReducer';\r\nimport ProfileReducer from './ProfileReducer';\r\nimport UserReducer from './UserReducer';\r\nimport SpaceReducer from './SpaceReducer';\r\nimport ProjectReducer from './ProjectReducer';\r\nimport EndpointReducer from './EndpointReducer';\r\n\r\nexport default combineReducers({\r\n  authorization: AuthReducer,\r\n  profile: ProfileReducer,\r\n  user: UserReducer,\r\n  space: SpaceReducer,\r\n  project: ProjectReducer,\r\n  endpoint: EndpointReducer,\r\n});\r\n","export const GET_AUTH = 'GET_AUTH';\r\nexport const ADD_AUTH = 'ADD_AUTH';\r\nexport const REMOVE_AUTH = 'REMOVE_AUTH';\r\n\r\nexport const GET_PROFILE = 'GET_PROFILE';\r\nexport const SET_PROFILE = 'SET_PROFILE';\r\n\r\nexport const GET_USER = 'GET_USER';\r\nexport const ADD_USER = 'ADD_USER';\r\nexport const FETCH_ALL_USERS = 'FETCH_ALL_USERS';\r\n\r\nexport const REFRESH_SPACES = 'REFRESH_SPACES';\r\n\r\nexport const RELOAD_PROJECTS = 'RELOAD_PROJECTS';\r\n\r\nexport const RELOAD_ENDPOINTS = 'RELOAD_ENDPOINTS';\r\n","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './reducers';\r\n\r\nconst initialState = {};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  initialState,\r\n  compose(\r\n    applyMiddleware(...middleware) // ,\r\n    // window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n  )\r\n);\r\n\r\nexport default store;\r\n","import { Subject, Observable } from 'rxjs';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { Message } from '../components/Types/GeneralTypes';\r\n\r\nconst subject = new Subject<Message>();\r\n\r\nexport function sendMessage(name: string, signal = true, data?: {}) {\r\n  subject.next({\r\n    name,\r\n    signal,\r\n    data,\r\n  });\r\n}\r\n\r\nexport function clearMessages() {\r\n  subject.next();\r\n}\r\n\r\nexport function receiveMessage(): Observable<Message> {\r\n  return subject.asObservable();\r\n}\r\n\r\nexport function newMessageId() {\r\n  return Math.random();\r\n}\r\n\r\nexport function newId() {\r\n  return uuidv4();\r\n}\r\n\r\nexport function httpHandleRequest(\r\n  messageId: any,\r\n  action: string,\r\n  reference: string\r\n) {\r\n  sendMessage('notification', true, {\r\n    id: messageId,\r\n    type: 'running',\r\n    message: `${action} ${reference ? `(${reference})` : ''} - In progress`,\r\n  });\r\n}\r\n\r\nexport function httpHandleResponse(\r\n  messageId: any,\r\n  response: any,\r\n  action: string,\r\n  reference: string\r\n) {\r\n  if (response.status === 200) {\r\n    sendMessage('notification', true, {\r\n      id: messageId,\r\n      type: 'success',\r\n      message: `${action} ${reference ? `(${reference})` : ''} - Success`,\r\n      duration: 3000,\r\n    });\r\n    return { outcome: true };\r\n  }\r\n  sendMessage('notification', true, {\r\n    id: messageId,\r\n    type: 'failure',\r\n    message: `${action} ${\r\n      reference ? `(${reference})` : ''\r\n    } - Failed with error ${response.status}`,\r\n    duration: 3000,\r\n  });\r\n  return { outcome: false };\r\n}\r\n\r\nexport function httpHandleResponseSilent(response: any) {\r\n  if (response.status === 200) {\r\n    return { outcome: true, response };\r\n  }\r\n  return { outcome: false, response };\r\n}\r\n\r\nexport function httpHandleError(\r\n  messageId: any,\r\n  error: any,\r\n  action: string,\r\n  reference: string\r\n) {\r\n  sendMessage('notification', true, {\r\n    id: messageId,\r\n    type: 'failure',\r\n    message: `${action} ${\r\n      reference ? `(${reference})` : ''\r\n    } - Failed with ${error}`,\r\n  });\r\n  return { outcome: false };\r\n}\r\n\r\nexport function httpHandleErrorSilent(error: any) {\r\n  return { outcome: false, response: error };\r\n}\r\n","import React from 'react';\r\nimport './styles/oak-spinner.scss';\r\n\r\nconst OakSpinner = () => {\r\n  return (\r\n    <div>\r\n      <div className=\"oak-spinner\">\r\n        <div className=\"spinner-wrapper\">\r\n          <span />\r\n          <span />\r\n          <span />\r\n          <span />\r\n          <span />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OakSpinner;\r\n","import React from 'react';\r\nimport './style.scss';\r\n\r\ninterface Props {\r\n  notification: any;\r\n  handleRemove: any;\r\n}\r\n\r\nconst NotificationMessage = (props: Props) => {\r\n  return (\r\n    <div className={`message ${props.notification.type}`}>\r\n      {props.notification.type === 'running' && (\r\n        <div\r\n          className={`message-icon ${\r\n            props.notification.type === 'running' ? 'running' : ''\r\n          }`}\r\n        >\r\n          <i className=\"material-icons\">rotate_right</i>\r\n        </div>\r\n      )}\r\n      {props.notification.type === 'success' && (\r\n        <div className=\"message-icon\">\r\n          <i className=\"material-icons\">check_circle_outline</i>\r\n        </div>\r\n      )}\r\n      {props.notification.type === 'warning' && (\r\n        <div className=\"message-icon\">\r\n          <i className=\"material-icons\">warning</i>\r\n        </div>\r\n      )}\r\n      {props.notification.type === 'failure' && (\r\n        <div className=\"message-icon\">\r\n          <i className=\"material-icons\">error_outline</i>\r\n        </div>\r\n      )}\r\n      <div className=\"message-text\">{props.notification?.message}</div>\r\n      <div className=\"message-action\">\r\n        <i className=\"material-icons\" onClick={props.handleRemove}>\r\n          clear\r\n        </i>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotificationMessage;\r\n","import React, { useState, useEffect } from 'react';\r\nimport './style.scss';\r\nimport { receiveMessage, sendMessage } from '../../events/MessageService';\r\nimport OakSpinner from '../../oakui/OakSpinner';\r\nimport NotificationMessage from './NotificationMessage';\r\n\r\nconst Notification = () => {\r\n  const [spinner, setSpinner] = useState(false);\r\n  const [notificationList, setNotificationList] = useState<any | undefined>([]);\r\n  const [data, setData] = useState<any>({ notificationList: [] });\r\n\r\n  const removeNotification = notificationData => {\r\n    setNotificationList(\r\n      notificationList.filter(item => {\r\n        return item.id !== notificationData.id;\r\n      })\r\n    );\r\n  };\r\n  const addNotification = notificationData => {\r\n    const localCopy = [...notificationList];\r\n    localCopy.unshift(notificationData);\r\n    // setNotificationList([notificationData].concat(notificationList));\r\n    setNotificationList(localCopy);\r\n    // console.log(localCopy);\r\n    if (notificationData.duration) {\r\n      setTimeout(() => {\r\n        removeNotification(notificationData);\r\n      }, notificationData.duration);\r\n    } else if (!notificationData.id) {\r\n      setTimeout(() => {\r\n        removeNotification(notificationData);\r\n      }, 5000);\r\n    }\r\n    // console.log(notificationList.splice(0, 100));\r\n  };\r\n\r\n  useEffect(() => {\r\n    const eventBus = receiveMessage().subscribe(message => {\r\n      if (message.name === 'notification') {\r\n        if (!message.signal) {\r\n          removeNotification(message.data);\r\n        } else {\r\n          removeNotification(message.data);\r\n          addNotification(message.data);\r\n          // turn off spinner when a notification arrives\r\n          setSpinner(false);\r\n\r\n          // if (message.data && message.data.duration) {\r\n          //   setTimeout(() => {\r\n          //     sendMessage('notification', false);\r\n          //   }, message.data.duration);\r\n          // }\r\n        }\r\n      }\r\n\r\n      if (message.name === 'spinner') {\r\n        setSpinner(message.signal);\r\n      }\r\n    });\r\n    return () => eventBus.unsubscribe();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {notificationList && notificationList.length > 0 && (\r\n        <div className=\"notification\">\r\n          {notificationList\r\n            .slice(0, 5)\r\n            .reverse()\r\n            .map(notification => (\r\n              <div key={notification.id || notification.message}>\r\n                <NotificationMessage\r\n                  notification={notification}\r\n                  handleRemove={removeNotification}\r\n                />\r\n              </div>\r\n            ))}\r\n        </div>\r\n      )}\r\n      {/* {spinner && <div data-test=\"spinner\" className=\"lds-dual-ring\" />} */}\r\n      {spinner && <OakSpinner data-test=\"spinner\" />}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","import axios from 'axios';\r\n\r\nconst baseUrl = process.env.REACT_APP_API_URL;\r\n\r\nexport function httpGet(endpoint: string, headers: any, url?: string) {\r\n  return axios.get(getTargetUrl(endpoint, url), headers);\r\n  // .then(function(response) {\r\n  //     return Promise.resolve(response);\r\n  // }\r\n  // )\r\n}\r\n\r\nexport function httpPost(\r\n  endpoint: string,\r\n  payload: any,\r\n  headers: any,\r\n  url?: string\r\n) {\r\n\r\n  return axios.post(getTargetUrl(endpoint, url), payload, headers);\r\n  //     .then(function(response) {\r\n  //         return Promise.resolve(response);\r\n  //     }\r\n  // )\r\n}\r\n\r\nexport function httpPut(\r\n  endpoint: string,\r\n  payload: any,\r\n  headers: any,\r\n  url?: string\r\n) {\r\n  return axios.put(getTargetUrl(endpoint, url), payload, headers);\r\n  //     .then(function(response) {\r\n  //         return Promise.resolve(response);\r\n  //     }\r\n  // )\r\n}\r\n\r\nexport function httpDelete(endpoint: string, headers: any, url?: string) {\r\n  return axios.delete(getTargetUrl(endpoint, url), headers);\r\n  //     .then(function(response) {\r\n  //         return Promise.resolve(response);\r\n  //     }\r\n  // )\r\n}\r\n\r\nfunction getTargetUrl(endpoint, url) {\r\n  let targetUrl = (url || baseUrl) + endpoint;\r\n  if (endpoint.startsWith(\"http://\") || endpoint.startsWith(\"https://\")) {\r\n    targetUrl = endpoint;\r\n  }\r\n  return targetUrl;\r\n}","const constants = {\r\n  API_URL_TENANT: '/tenant',\r\n  API_URL_TENANT_BANNER: '/tenant/banner',\r\n  API_URL_TENANT_CREATE: '/tenant/create',\r\n  API_TENANT_URL: '/tenant/sendURL',\r\n\r\n  API_URL_PRESIGNUP: '/auth/keys',\r\n  API_URL_RESET: '/auth/reset',\r\n  API_URL_CODE: '/auth/sendResetCode',\r\n  API_URL_USER_DETAILS: '/user/details',\r\n\r\n  API_URL_STAGE: '/stage',\r\n  API_URL_PREDICT: '/model/predict',\r\n\r\n  API_URL_CATEGORY: '/category',\r\n  API_URL_FAQ: '/faq',\r\n  API_URL_SR: '/servicerequests',\r\n  API_URL_USER: '/user',\r\n  API_URL: '/auth/',\r\n  API_SIGNIN: '/signin',\r\n  API_SIGNUP: '/signup',\r\n  API_KEYS: '/keys',\r\n  API_JWT: '/signin/jwt',\r\n\r\n  API_URL_PROJECT: '/project',\r\n  API_URL_PROJECTMEMBER: '/projectmember',\r\n  API_URL_ENDPOINT_DOMAIN: '/endpoint/domain',\r\n  API_URL_ENDPOINT_CUSTOM: '/endpoint/custom',\r\n  API_URL_ENDPOINT: '/endpoint',\r\n};\r\n\r\nexport default constants;\r\n","import { GET_USER, ADD_USER, FETCH_ALL_USERS } from './types';\r\nimport { httpGet, httpPut } from '../components/Lib/RestTemplate';\r\nimport { sendMessage } from '../events/MessageService';\r\nimport constants from '../components/Constants';\r\n\r\nconst domain = 'user';\r\n\r\nexport const getUser = () => dispatch => {\r\n  dispatch({\r\n    type: GET_USER,\r\n  });\r\n};\r\n\r\nexport const addUser = data => dispatch => {\r\n  dispatch({\r\n    type: ADD_USER,\r\n    payload: data,\r\n  });\r\n};\r\n\r\nexport const fetchAllUsers = (tenant, authorization) => dispatch => {\r\n  httpGet(`${constants.API_URL_USER}/${tenant}/all`, {\r\n    headers: {\r\n      Authorization: authorization.token,\r\n    },\r\n  }).then(response => {\r\n    dispatch({\r\n      type: FETCH_ALL_USERS,\r\n      payload: { users: response.data.data },\r\n    });\r\n  });\r\n};\r\n\r\nexport const saveUser = (tenant, authorization, payload) => dispatch => {\r\n  httpPut(`${constants.API_URL_USER}/${tenant}/`, payload, {\r\n    headers: {\r\n      Authorization: authorization.token,\r\n    },\r\n  })\r\n    .then(response => {\r\n      if (response.status === 200) {\r\n        sendMessage(domain, true, {\r\n          action: payload.id ? 'updated' : 'created',\r\n        });\r\n        dispatch(fetchAllUsers(tenant, authorization));\r\n      }\r\n    })\r\n    .catch(error => {\r\n      if (error.response.status === 401) {\r\n        sendMessage('session expired');\r\n      }\r\n    });\r\n};\r\n","/* eslint-disable import/prefer-default-export */\r\nimport { RELOAD_ENDPOINTS } from './types';\r\nimport { httpGet } from '../components/Lib/RestTemplate';\r\nimport constants from '../components/Constants';\r\n\r\nconst domain = 'endpoint';\r\n\r\nexport const fetchAllEndpoints = (space, authorization) => dispatch => {\r\n  httpGet(`${constants.API_URL_ENDPOINT}/${space}`, {\r\n    headers: {\r\n      Authorization: authorization.token,\r\n    },\r\n  }).then(response => {\r\n    console.log(response.data.data);\r\n    dispatch({\r\n      type: RELOAD_ENDPOINTS,\r\n      payload: { endpoints: response.data.data },\r\n    });\r\n  });\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { receiveMessage } from '../../events/MessageService';\r\nimport { fetchAllProjects } from '../../actions/ProjectActions';\r\nimport { fetchAllUsers } from '../../actions/UserActions';\r\nimport { fetchAllEndpoints } from '../../actions/EndpointActions';\r\n\r\nconst Init = () => {\r\n  const authorization = useSelector(state => state.authorization);\r\n  const [previousAuthorizationState, setPreviousAuthorizationState] = useState<\r\n    any\r\n  >();\r\n  const [space, setSpace] = useState<string>();\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    if (\r\n      authorization.isAuth &&\r\n      // authorization.isAuth !== previousAuthorizationState.isAuth &&\r\n      space\r\n    ) {\r\n      initialize();\r\n    }\r\n    setPreviousAuthorizationState(authorization);\r\n  }, [authorization, space]);\r\n\r\n  useEffect(() => {\r\n    receiveMessage().subscribe(event => {\r\n      console.log(event);\r\n      if (event.name === 'spaceChange') {\r\n        setSpace(event.data);\r\n      }\r\n      // if (event.name === 'spaceChange' && authorization.isAuth) {\r\n      //   initialize();\r\n      // }\r\n    });\r\n  }, []);\r\n\r\n  const initialize = () => {\r\n    console.log('Initialization logic here');\r\n    dispatch(fetchAllUsers(space, authorization));\r\n    dispatch(fetchAllProjects(space, authorization));\r\n    dispatch(fetchAllEndpoints(space, authorization));\r\n  };\r\n  return <></>;\r\n};\r\n\r\nexport default Init;\r\n","/* eslint-disable import/prefer-default-export */\r\nimport { RELOAD_PROJECTS } from './types';\r\nimport { httpGet, httpPut } from '../components/Lib/RestTemplate';\r\nimport { sendMessage } from '../events/MessageService';\r\nimport constants from '../components/Constants';\r\n\r\nconst domain = 'project';\r\n\r\nexport const fetchAllProjects = (space, authorization) => dispatch => {\r\n  httpGet(`${constants.API_URL_PROJECT}/${space}`, {\r\n    headers: {\r\n      Authorization: authorization.token,\r\n    },\r\n  }).then(response => {\r\n    dispatch({\r\n      type: RELOAD_PROJECTS,\r\n      payload: { projects: response.data.data },\r\n    });\r\n  });\r\n};\r\n","import { GET_PROFILE, SET_PROFILE } from './types';\r\n\r\nexport const getProfile = () => dispatch => {\r\n  dispatch({\r\n    type: GET_PROFILE,\r\n  });\r\n};\r\n\r\nexport const setProfile = payload => dispatch => {\r\n  dispatch({\r\n    type: SET_PROFILE,\r\n    payload,\r\n  });\r\n};\r\n","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport './Links.scss';\r\nimport { NavLink } from 'react-router-dom';\r\nimport OakButton from '../../oakui/OakButton';\r\n\r\ninterface Props {\r\n  space: string;\r\n}\r\n\r\nconst Links = (props: Props) => {\r\n  const profile = useSelector(state => state.profile);\r\n\r\n  return (\r\n    <div className={`links ${profile.theme}`}>\r\n      <NavLink\r\n        to={`/${props.space}/home`}\r\n        className=\"navitem\"\r\n        activeClassName=\"active\"\r\n      >\r\n        Home\r\n      </NavLink>\r\n      <NavLink\r\n        to={`/${props.space}/project`}\r\n        className=\"navitem\"\r\n        activeClassName=\"active\"\r\n      >\r\n        Projects\r\n      </NavLink>\r\n      <NavLink\r\n        to={`/${props.space}/endpoint`}\r\n        className=\"navitem\"\r\n        activeClassName=\"active\"\r\n      >\r\n        Endpoints\r\n      </NavLink>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Links;\r\n","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport './DarkModeIcon.scss';\r\nimport { setProfile } from '../../actions/ProfileActions';\r\nimport { NightsStay, WbSunny } from '@material-ui/icons';\r\n\r\nconst DarkModeIcon = () => {\r\n  const profile = useSelector(state => state.profile);\r\n  const dispatch = useDispatch();\r\n  const toggleMode = () => {\r\n    dispatch(\r\n      setProfile({\r\n        theme: profile.theme === 'theme_dark' ? 'theme_light' : 'theme_dark',\r\n      })\r\n    );\r\n  };\r\n  return (\r\n    <div className={`dark-mode-icon ${profile.theme}`} onClick={toggleMode}>\r\n      {profile.theme === 'theme_dark' && (\r\n        <WbSunny className=\"cursor-pointer\" />\r\n      )}\r\n      {profile.theme !== 'theme_dark' && (\r\n        <NightsStay className=\"cursor-pointer\" />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DarkModeIcon;\r\n","import { Fingerprint, PowerSettingsNew } from '@material-ui/icons';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useSelector, connect, useDispatch } from 'react-redux';\r\nimport './NavAccountIcon.scss';\r\n\r\ninterface Props {\r\n  logout: any;\r\n  login: any;\r\n}\r\n\r\nconst NavAccountIcon = (props: Props) => {\r\n  const authorization = useSelector(state => state.authorization);\r\n  const profile = useSelector(state => state.profile);\r\n  return (\r\n    <div\r\n      className={`nav-account-icon ${profile.theme}`}\r\n      onClick={authorization.isAuth ? props.logout : props.login}\r\n    >\r\n      {authorization.isAuth && (\r\n        <div className=\"nav-account-icon--username\">\r\n        <div>{`${authorization.firstName} ${authorization.lastName}`}</div>\r\n          <PowerSettingsNew className=\"cursor-pointer\" />\r\n        </div>\r\n      )}\r\n      {!authorization.isAuth && <Fingerprint className=\"cursor-pointer\" />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NavAccountIcon;\r\n","import { GET_AUTH, REMOVE_AUTH, ADD_AUTH } from './types';\r\n\r\nexport const getAuth = () => dispatch => {\r\n  dispatch({\r\n    type: GET_AUTH,\r\n  });\r\n};\r\n\r\nexport const addAuth = data => dispatch => {\r\n  dispatch({\r\n    type: ADD_AUTH,\r\n    payload: data,\r\n  });\r\n};\r\n\r\nexport const removeAuth = () => dispatch => {\r\n  dispatch({\r\n    type: REMOVE_AUTH,\r\n  });\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useSelector, connect, useDispatch } from 'react-redux';\r\n\r\nimport { useHistory, withRouter } from 'react-router';\r\n\r\nimport './RightNav.scss';\r\n\r\nimport { receiveMessage, sendMessage } from '../../events/MessageService';\r\nimport DarkModeIcon from '../Navigation/DarkModeIcon';\r\nimport NavAccountIcon from '../Navigation/NavAccountIcon';\r\nimport { removeAuth } from '../../actions/AuthActions';\r\n\r\ninterface Props {\r\n    cookies: any;\r\n  //   location: any;\r\n  //   match: any;\r\n}\r\n\r\nconst RightNav = (props: Props) => {\r\n  const authorization = useSelector(state => state.authorization);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  \r\n  const logout = (\r\n    event: any,\r\n    type = 'success',\r\n    message = 'You have been logged out'\r\n  ) => {\r\n    dispatch(removeAuth());\r\n    props.cookies.remove(`ir_${process.env.REACT_APP_ONEAUTH_APPSPACE_ID}`);\r\n    history.push(`/`);\r\n    sendMessage('notification', true, {\r\n      type,\r\n      message,\r\n      duration: 3000,\r\n    });\r\n  };\r\n\r\n  const login = type => {\r\n    // window.location.href = `${process.env.REACT_APP_ONEAUTH_URL}/#/appspace/${process.env.REACT_APP_ONEAUTH_APPSPACE_ID}/login?type=signin&appId=${process.env.REACT_APP_ONEAUTH_APP_ID}`;\r\n    history.push(\"/\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"right-nav\">\r\n      <DarkModeIcon />\r\n      <NavAccountIcon logout={logout} login={login} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RightNav;\r\n","import { MenuOpen } from '@material-ui/icons';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useSelector, connect, useDispatch } from 'react-redux';\r\n\r\nimport { getProfile, setProfile } from '../../actions/ProfileActions';\r\nimport './ExpandIcon.scss';\r\n\r\nconst ExpandIcon = () => {\r\n  const authorization = useSelector(state => state.authorization);\r\n\r\n  const profile = useSelector(state => state.profile);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const toggleSidebar = () => {\r\n    dispatch(setProfile({ ...profile, sidebar: !profile.sidebar }));\r\n  };\r\n\r\n  return (\r\n    <div className=\"expand-icon\">\r\n      <MenuOpen className={profile.sidebar ? 'menu-icon sidebar-shown' : 'menu-icon sidebar-hidden'} onClick={toggleSidebar} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ExpandIcon;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useSelector, connect, useDispatch } from 'react-redux';\r\nimport './style.scss';\r\nimport mockbackWhite from '../../images/mockback_white.svg';\r\nimport mockbackBlack from '../../images/mockback_black.svg';\r\n\r\nconst Logo = () => {\r\n  const authorization = useSelector(state => state.authorization);\r\n\r\n  const profile = useSelector(state => state.profile);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <div className=\"logo\">\r\n      {profile.theme === 'theme_light' && <img className=\"logo--image\" src={mockbackBlack} alt=\"Expenso logo\" />}\r\n      {profile.theme !== 'theme_light' && <img className=\"logo--image\" src={mockbackWhite} alt=\"Expenso logo\" />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Logo;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useSelector, connect, useDispatch } from 'react-redux';\r\n\r\nimport { getProfile, setProfile } from '../../actions/ProfileActions';\r\n\r\nimport './style.scss';\r\n\r\nimport Links from '../Navigation/Links';\r\nimport RightNav from './RightNav';\r\nimport ExpandIcon from './ExpandIcon';\r\nimport Logo from '../Logo';\r\n\r\ninterface Props {\r\n  space: string;\r\n  cookies: any;\r\n  //   location: any;\r\n  //   match: any;\r\n  hideSidebarOnDesktop?: boolean;\r\n}\r\n\r\nconst Topbar = (props: Props) => {\r\n  const authorization = useSelector(state => state.authorization);\r\n\r\n  const profile = useSelector(state => state.profile);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const toggleSidebar = () => {\r\n    dispatch(setProfile({ ...profile, sidebar: !profile.sidebar }));\r\n  };\r\n\r\n  return (\r\n    <div className=\"topbar\">\r\n      <div className=\"topbar--left\">\r\n        {/* {authorization.isAuth && ( */}\r\n          <div className={`${props.hideSidebarOnDesktop ? 'mobile-only' : ''}`}>\r\n            <ExpandIcon />\r\n          </div>\r\n        {/* )} */}\r\n        {props.hideSidebarOnDesktop && (\r\n          <div className=\"desktop-only\">\r\n            <Logo />\r\n          </div>\r\n        )}\r\n        {authorization.isAuth && <div className=\"topbar--left--nav desktop-only\">\r\n          <Links space={props.space} />\r\n        </div>}\r\n        {/* <div className=\"mobile-only\"><Logo /></div> */}\r\n      </div>\r\n      <div className=\"topbar--right\">\r\n        <RightNav cookies={props.cookies} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Topbar;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport './TopbarContainer.scss';\r\nimport Topbar from '../Topbar';\r\nimport { receiveMessage } from '../../events/MessageService';\r\n\r\ninterface Props {\r\n  cookies: any;\r\n}\r\n\r\nconst TopbarContainer = (props: Props) => {\r\n  const profile = useSelector(state => state.profile);\r\n  const [space, setSpace] = useState('');\r\n\r\n  useEffect(() => {\r\n    receiveMessage().subscribe(event => {\r\n      if (event.name === 'spaceChange') {\r\n        setSpace(event.data);\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n        <div\r\n          className={`topbar-container ${\r\n            profile.sidebar ? 'sidebar-shown' : 'sidebar-hidden'\r\n          }`}\r\n        >\r\n          <Topbar\r\n            space={space}\r\n            cookies={props.cookies}\r\n            hideSidebarOnDesktop={profile.hideSidebarOnDesktop}\r\n          />\r\n        </div>\r\n  );\r\n};\r\n\r\nexport default TopbarContainer;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useSelector, connect, useDispatch } from 'react-redux';\r\n\r\nimport { getProfile, setProfile } from '../../actions/ProfileActions';\r\nimport './Header.scss';\r\nimport Logo from '../Logo';\r\nimport { MenuOpen } from '@material-ui/icons';\r\n\r\nconst Header = () => {\r\n  const authorization = useSelector(state => state.authorization);\r\n\r\n  const profile = useSelector(state => state.profile);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const toggleSidebar = () => {\r\n    dispatch(setProfile({ ...profile, sidebar: !profile.sidebar }));\r\n  };\r\n\r\n  return (\r\n    <div className=\"header\">\r\n      <MenuOpen className=\"mobile-only\" onClick={toggleSidebar} />\r\n      <Logo />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { useSelector, connect, useDispatch } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { getProfile, setProfile } from '../../actions/ProfileActions';\r\n\r\nimport './NavItem.scss';\r\n\r\ninterface Props {\r\n  to: string;\r\n  label: string;\r\n  closeAfterRouteChange?: boolean;\r\n  //   history: any;\r\n  //   cookies: any;\r\n  //   location: any;\r\n  //   match: any;\r\n}\r\n\r\nconst NavItem = (props: Props) => {\r\n  const profile = useSelector(state => state.profile);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const routeChanged = () => {\r\n    if (props.closeAfterRouteChange) {\r\n      dispatch(setProfile({ ...profile, sidebar: false }));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"nav-item\">\r\n      <NavLink\r\n        to={props.to}\r\n        className=\"navitem\"\r\n        activeClassName=\"active\"\r\n        onClick={routeChanged}\r\n      >\r\n        {props.label}\r\n      </NavLink>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NavItem;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useSelector, connect, useDispatch } from 'react-redux';\r\nimport { getProfile, setProfile } from '../../actions/ProfileActions';\r\n\r\nimport './NavElements.scss';\r\nimport NavGroup from './NavGroup';\r\nimport NavItem from './NavItem';\r\n\r\ninterface Props {\r\n  space: string;\r\n  closeAfterRouteChange?: boolean;\r\n  //   history: any;\r\n  //   cookies: any;\r\n  //   location: any;\r\n  //   match: any;\r\n}\r\n\r\nconst NavElements = (props: Props) => {\r\n  const authorization = useSelector(state => state.authorization);\r\n\r\n  const profile = useSelector(state => state.profile);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <div className=\"nav-elements\">\r\n      <NavItem\r\n        to={`/${props.space}/home`}\r\n        label=\"Home\"\r\n        closeAfterRouteChange={props.closeAfterRouteChange}\r\n      />\r\n      <NavItem\r\n        to={`/${props.space}/project`}\r\n        label=\"Projects\"\r\n        closeAfterRouteChange={props.closeAfterRouteChange}\r\n      />\r\n      <NavItem\r\n        to={`/${props.space}/endpoint`}\r\n        label=\"Endpoints\"\r\n        closeAfterRouteChange={props.closeAfterRouteChange}\r\n      />\r\n      <NavItem\r\n        to={`/${props.space}/endpoint`}\r\n        label=\"Help\"\r\n        closeAfterRouteChange={props.closeAfterRouteChange}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NavElements;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useSelector, connect, useDispatch } from 'react-redux';\r\n\r\nimport { withRouter } from 'react-router';\r\nimport { withCookies } from 'react-cookie';\r\nimport { getProfile, setProfile } from '../../actions/ProfileActions';\r\nimport packetWhite from '../../images/ir_white.svg';\r\nimport packetBlack from '../../images/ir_black.svg';\r\n\r\nimport './style.scss';\r\n\r\nimport { Profile } from '../Types/GeneralTypes';\r\nimport { receiveMessage, sendMessage } from '../../events/MessageService';\r\nimport './style.scss';\r\nimport Header from './Header';\r\nimport NavElements from './NavElements';\r\n\r\nconst Sidebar = () => {\r\n  const [space, setSpace] = useState('');\r\n  const authorization = useSelector(state => state.authorization);\r\n\r\n  const profile = useSelector(state => state.profile);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    receiveMessage().subscribe(event => {\r\n      if (event.name === 'spaceChange') {\r\n        setSpace(event.data);\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"sidebar\">\r\n      <div className=\"sidebar--header\">\r\n      <Header />\r\n      </div>\r\n      <div className=\"sidebar--nav desktop-only\">\r\n        <NavElements space={space} />\r\n      </div>\r\n      <div className=\"sidebar--nav mobile-only\">\r\n        <NavElements space={space} closeAfterRouteChange />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n","import React, { useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport Sidebar from '../Sidebar';\r\n\r\nimport './SidebarContainer.scss';\r\n\r\nconst SidebarContainer = () => {\r\n  const profile = useSelector(state => state.profile);\r\n\r\n  return (\r\n    <div className={`sidebar-container ${profile.sidebar ? 'show' : 'hide'}`}>\r\n      <div className={`${profile.hideSidebarOnDesktop ? 'mobile-only' : ''}`}>\r\n        <Sidebar />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SidebarContainer;\r\n","import React, { useState, useEffect } from 'react';\r\nimport './styles/oak-heading-emailflow.scss';\r\n\r\ninterface Props {\r\n  size?: 'large';\r\n  link: {\r\n    label: string;\r\n    icon?: string;\r\n    action: any;\r\n  };\r\n}\r\n\r\nconst OakHeadingLink = (props: Props) => {\r\n  const getLinkSize = () => {\r\n    return props.size === 'large' ? 'typography-5' : 'typography-4';\r\n  };\r\n  return (\r\n    <div className=\"oak-heading-link\" onClick={() => props.link.action()}>\r\n      <i className=\"material-icons typography-6\">{props.link.icon}</i>\r\n      <div className={`heading-link-label ${getLinkSize()}`}>\r\n        {props.link.label}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OakHeadingLink;\r\n","import React, { useState, useEffect } from 'react';\r\nimport './styles/oak-heading-emailflow.scss';\r\nimport OakHeadingLink from './OakHeadingLink';\r\n\r\ninterface Props {\r\n  title: any;\r\n  subtitle?: string;\r\n  links?: {\r\n    label: string;\r\n    icon?: string;\r\n    action: any;\r\n  }[];\r\n  linkSize?: 'large';\r\n  children?: any;\r\n}\r\n\r\nconst OakHeading = (props: Props) => {\r\n  return (\r\n    <div className=\"oak-heading\">\r\n      <div className=\"oak-heading--heading-title\">{props.title}</div>\r\n      {props.subtitle && (\r\n        <div className=\"oak-heading--heading-subtitle\">{props.subtitle}</div>\r\n      )}\r\n      <div className=\"heading-links\">\r\n        {props.links?.map((item, index) => (\r\n          <OakHeadingLink link={item} key={index} size={props.linkSize} />\r\n        ))}\r\n      </div>\r\n      {props.children && (\r\n        <div className=\"heading-children\">{props.children}</div>\r\n      )}\r\n      <div className=\"heading-highlight\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OakHeading;\r\n","import React, { useState, useEffect } from 'react';\r\nimport './styles/oak-section-expenso.scss';\r\n\r\ninterface Props {\r\n  children?: any;\r\n  title?: string;\r\n  subtitle?: string;\r\n  outer?: boolean;\r\n}\r\n\r\nconst OakSection = (props: Props) => {\r\n  return (\r\n    <>\r\n      {!props.outer && (\r\n        <div className=\"oak-section\">\r\n          {(props.title || props.subtitle) && (\r\n            <div\r\n              className={`oak-section--header-${\r\n                props.title ? 'highlight' : 'basic'\r\n              }`}\r\n            >\r\n              {props.title && (\r\n                <div className=\"oak-section--header--title\">{props.title}</div>\r\n              )}\r\n              {!props.title && props.subtitle && (\r\n                <div className=\"oak-section--header--subtitle\">\r\n                  {props.subtitle}\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n          <div className=\"oak-section--body\">\r\n            <div className=\"oak-section--app-text\">{props.children}</div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {props.outer && <div className=\"oak-section-outer\">{props.children}</div>}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default OakSection;\r\n","import React, { useState, useEffect } from 'react';\r\nimport './styles/oak-subheading-emailflow.scss';\r\nimport OakHeadingLink from './OakHeadingLink';\r\n\r\ninterface Props {\r\n  title: any;\r\n  subtitle?: string;\r\n  links?: {\r\n    label: string;\r\n    icon?: string;\r\n    action: any;\r\n  }[];\r\n  linkSize?: 'large';\r\n  children?: any;\r\n}\r\n\r\nconst OakSubheading = (props: Props) => {\r\n  return (\r\n    <div className=\"oak-subheading\">\r\n      <div className=\"oak-subheading--heading-title\">{props.title}</div>\r\n      {props.subtitle && (\r\n        <div className=\"oak-subheading--heading-subtitle\">{props.subtitle}</div>\r\n      )}\r\n      <div className=\"heading-links\">\r\n        {props.links?.map((item, index) => (\r\n          <OakHeadingLink link={item} key={index} size={props.linkSize} />\r\n        ))}\r\n      </div>\r\n      {props.children && (\r\n        <div className=\"heading-children\">{props.children}</div>\r\n      )}\r\n      <div className=\"heading-highlight\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OakSubheading;\r\n","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport OakHeading from '../../oakui/OakHeading';\r\nimport OakSection from '../../oakui/OakSection';\r\nimport OakSubheading from '../../oakui/OakSubheading';\r\nimport './style.scss';\r\n\r\ninterface Props {\r\n  setProfile: Function;\r\n  profile: any;\r\n  match: any;\r\n  history: any;\r\n}\r\n\r\nconst Home = (props: Props) => {\r\n  const authorization = useSelector(state => state.authorization);\r\n  return (\r\n    <div className=\"page-home\">\r\n      <OakSection>\r\n        <OakHeading\r\n          title=\"How it works\"\r\n          subtitle=\"Optimize development cycle by defining a working API specification, that development teams can rely on as a live and evolving reference.\"\r\n        />\r\n        <div className=\"page-home--steps\">\r\n          <div className=\"page-home--steps--container\">\r\n            <OakSubheading title=\"Create a project\" />\r\n            <div className=\"page-home--steps--container--subtitle\">\r\n              A project is a collection of API endpoint specifications. Create a\r\n              project to logically group all your API mocks related to your\r\n              project. You can add several endpoint definitions into a project.\r\n            </div>\r\n          </div>\r\n          <div className=\"page-home--steps--container\">\r\n            <OakSubheading title=\"Define an endpoint\" />\r\n            <div className=\"page-home--steps--container--subtitle\">\r\n              Add an API endpoint specification by either defining it's domain\r\n              for CRUD operations, or by defining the input and output\r\n              attributes of a endpoint. Copy the generated URLs to call from\r\n              your application.\r\n            </div>\r\n          </div>\r\n          <div className=\"page-home--steps--container\">\r\n            <OakSubheading title=\"Plug in endpoint\" />\r\n            <div className=\"page-home--steps--container--subtitle\">\r\n              Call the copied URLs from your application. Everytime you call an\r\n              API, Mockback returns a randomly generated data for its domain (or\r\n              list of randomly generated domain data).\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </OakSection>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React, { useEffect } from 'react';\r\nimport './Login.scss';\r\n\r\nconst queryString = require('query-string');\r\n\r\ninterface Props {\r\n  cookies: any;\r\n  history: any;\r\n  location: any;\r\n}\r\n\r\nconst OaLogin = (props: Props) => {\r\n  useEffect(() => {\r\n    if (props.location.search) {\r\n      const query = queryString.parse(props.location.search);\r\n      props.cookies.set(`mockback_${query.space}`, query.authKey);\r\n      console.log(typeof query.from);\r\n      console.log(query.from || `/${query.space}/home`);\r\n      props.history.push(query.from ? query.from : `/${query.space}/home`);\r\n    }\r\n  }, []);\r\n\r\n  return <></>;\r\n};\r\n\r\nexport default OaLogin;\r\n","import React from 'react';\r\nimport './style.scss';\r\n\r\ninterface Props {\r\n  space: any;\r\n  history: any;\r\n}\r\n\r\nconst SpaceItem = (props: Props) => {\r\n  const goToSpacePage = () => {\r\n    window.location.href = `${process.env.REACT_APP_ONEAUTH_URL}/#/space/${props.space.spaceId}/login?type=signin&appId=${process.env.REACT_APP_ONEAUTH_APP_ID}`;\r\n  };\r\n  return (\r\n    <div className=\"space-list-item\" onClick={goToSpacePage}>\r\n      <div className=\"space-list-item--link\">\r\n        <div className=\"typography-6\">{props.space.name}</div>\r\n      </div>\r\n      <div className=\"typography-4\">{props.space.description}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SpaceItem;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport './style.scss';\r\nimport OakSpinner from '../../oakui/OakSpinner';\r\nimport OakHeading from '../../oakui/OakHeading';\r\nimport SpaceItem from './SpaceItem';\r\n\r\ninterface Props {\r\n  history: any;\r\n}\r\n\r\nconst ListSpaces = (props: Props) => {\r\n  const spaceList = useSelector(state => state.space);\r\n  return (\r\n    <div className=\"list-spaces\">\r\n      <OakHeading title=\"Choose a space to proceed\" />\r\n      <div className=\"list-spaces--content\">\r\n        {spaceList?.spaces?.map(space => (\r\n          <SpaceItem space={space} history={props.history} key={space.id} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ListSpaces;\r\n","import React, { useState, useEffect } from 'react';\r\nimport './styles/oak-page-expenso.scss';\r\n\r\ninterface Props {\r\n  children?: any;\r\n}\r\n\r\nconst OakPage = (props: Props) => {\r\n  return (\r\n    <div className=\"oak-page\">\r\n      <div className=\"oak-page-container\">{props.children}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OakPage;\r\n","import React, { ReactNode } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport './styles/oak-button.scss';\r\n\r\ninterface Props {\r\n  action?: any;\r\n  variant?:\r\n    | 'block'\r\n    | 'outline'\r\n    | 'appear'\r\n    | 'disappear'\r\n    | 'regular'\r\n    | 'disabled'\r\n    | 'drama';\r\n  theme?:\r\n    | 'primary'\r\n    | 'secondary'\r\n    | 'tertiary'\r\n    | 'default'\r\n    | 'danger'\r\n    | 'warning'\r\n    | 'success'\r\n    | 'info';\r\n  size?: 'xsmall' | 'small' | 'medium' | 'large';\r\n  shape?: 'sharp' | 'rectangle' | 'rounded' | 'leaf' | 'icon';\r\n  align?: 'left' | 'right' | 'center';\r\n  children?: ReactNode;\r\n  type?: 'button' | 'submit' | 'link';\r\n}\r\n\r\nconst OakButton = (props: Props) => {\r\n  const profile = useSelector(state => state.profile);\r\n  const getStyle = () => {\r\n    let style = props.theme ? props.theme : '';\r\n    style += profile?.theme?.includes('theme_light') ? ' light' : ' dark';\r\n    style += props.variant ? ` ${props.variant}` : '';\r\n\r\n    if (props.shape === 'icon') {\r\n      style += ' icon';\r\n    }\r\n\r\n    style += props.align ? ` align-${props.align}` : '';\r\n\r\n    style += props.size ? ` size-${props.size}` : ' size-small';\r\n\r\n    style += props.shape ? ` shape-${props.shape}` : ' shape-rectangle';\r\n\r\n    return style;\r\n  };\r\n\r\n  return (\r\n    // eslint-disable-next-line react/button-has-type\r\n    <button\r\n      className={`oak-button ${getStyle()}`}\r\n      onClick={props.action}\r\n      disabled={props.variant === 'disabled'}\r\n    >\r\n      <div className=\"button-label-container\">\r\n        {props.children && props.children}\r\n      </div>\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default OakButton;\r\n","import React from 'react';\r\nimport './style.scss';\r\nimport OakButton from '../../oakui/OakButton';\r\nimport OakHeading from '../../oakui/OakHeading';\r\n\r\ninterface Props {\r\n  history: any;\r\n}\r\n\r\nconst GettingStartedSpace = (props: Props) => {\r\n  const goToCreatePage = () => {\r\n    props.history.push('/asset/create');\r\n  };\r\n  return (\r\n    <div className=\"getting-started\">\r\n      <div>\r\n        <OakHeading title=\"Getting Started\" />\r\n        <div className=\"getting-started--steps space-top-2\">\r\n          <div className=\"typography-7\">Create Space</div>\r\n          <div className=\"typography-4\">\r\n            An asset represents an application or product being supported.\r\n            Create an asset to get started with the process of onboarding your\r\n            product into Expenso.\r\n          </div>\r\n          <div className=\"typography-7\">Set Expenso URL in your product</div>\r\n          <div className=\"typography-4\">\r\n            To provide seemless experience to your users, add a link from your\r\n            product to Expenso. By triggering a button for example from your\r\n            product, your users will be securely transferred to Expenso with\r\n            their details.\r\n          </div>\r\n          <div className=\"typography-7\">\r\n            Securely transmit user information to Expenso\r\n          </div>\r\n          <div className=\"typography-4\">\r\n            When you redirect from your product, transmit the user information\r\n            like email and name securely using JWT tokens. Password for JWT is\r\n            set by you during the asset creation process.\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"action-footer position-center\">\r\n        <OakButton theme=\"primary\" variant=\"disappear\" action={goToCreatePage}>\r\n          Create a new space\r\n        </OakButton>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GettingStartedSpace;\r\n","import React, { useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport './style.scss';\r\nimport OakButton from '../../oakui/OakButton';\r\nimport ListSpaces from './ListSpaces';\r\nimport OakFooter from '../../oakui/OakFooter';\r\nimport OakPage from '../../oakui/OakPage';\r\nimport GettingStartedSpace from './GettingStartedSpace';\r\n\r\ninterface Props {\r\n  history: any;\r\n}\r\n\r\nconst Landing = (props: Props) => {\r\n  const authorization = useSelector(state => state.authorization);\r\n\r\n  const goToLogin = () => {\r\n    window.location.href = `${process.env.REACT_APP_ONEAUTH_URL}/#/appspace/${process.env.REACT_APP_ONEAUTH_APPSPACE_ID}/login?type=signin&appId=${process.env.REACT_APP_ONEAUTH_APP_ID}`;\r\n  }\r\n\r\n  return (\r\n    <OakPage>\r\n    <div className=\"landing\">\r\n          <ListSpaces history={props.history} />\r\n          <hr />\r\n          <GettingStartedSpace history={props.history} />\r\n    </div>\r\n    </OakPage>\r\n  );\r\n};\r\n\r\nexport default Landing;\r\n","export function isEmptyOrSpaces(str) {\r\n  return str === null || str === undefined || str.toString().match(/^ *$/) !== null;\r\n}\r\n\r\nexport function isEmptyAttributes(object: Record<string, any>) {\r\n  if (!object) {\r\n    return true;\r\n  }\r\n\r\n  return !Object.keys(object).find(key => {\r\n    if (object[key]) {\r\n      return true;\r\n    }\r\n    return false;\r\n  });\r\n}\r\n\r\nexport function match(text, words) {\r\n  let found = false;\r\n  if (words) {\r\n    words.split(' ').forEach(word => {\r\n      if (text.match(new RegExp(`(\\\\w*${word}\\\\w*)`, 'gi'))) {\r\n        found = true;\r\n      }\r\n    });\r\n  }\r\n  return found;\r\n}\r\n\r\nexport function sort(array, property, isReverseOrder) {\r\n  const result = array.sort(function(o1, o2) {\r\n    if (isReverseOrder) {\r\n      return o1[property] > o2[property]\r\n        ? -1\r\n        : o1[property] < o2[property]\r\n        ? 1\r\n        : 0;\r\n    }\r\n    return o1[property] < o2[property]\r\n      ? -1\r\n      : o1[property] > o2[property]\r\n      ? 1\r\n      : 0;\r\n  });\r\n\r\n  return result;\r\n}\r\n\r\nexport function htmlToText(str?: string | null) {\r\n  if (!str) return false;\r\n  str = str.toString();\r\n  return str.replace(/(<([^>]+)>)/gi, '');\r\n}\r\n","import { Warning } from '@material-ui/icons';\r\nimport React from 'react';\r\nimport { isEmptyOrSpaces } from '../components/Utils';\r\nimport './styles/oak-text-slide.scss';\r\n\r\ninterface Props {\r\n  label?: string;\r\n  id: string;\r\n  data: any;\r\n  errorData?: any;\r\n  type?: string;\r\n  handleChange: any;\r\n  errorFields?: any;\r\n  disabled?: boolean;\r\n  rows?: number;\r\n  multiline?: boolean;\r\n  handleFocus?: Function;\r\n  placeholder?: string;\r\n  subtitle?: string;\r\n}\r\nconst OakText = (props: Props) => {\r\n  const handleFocus = () => {\r\n    if (props.handleFocus) {\r\n      props.handleFocus();\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"oak-text\">\r\n      {!props.multiline && (\r\n        <input\r\n          disabled={props.disabled}\r\n          autoComplete=\"off\"\r\n          className={\r\n            (props.errorFields && props.errorFields[props.id] ? 'error' : '') +\r\n            (props.disabled ? ' disabled' : '')\r\n          }\r\n          type={props.type ? props.type : 'text'}\r\n          name={props.id}\r\n          id={props.id}\r\n          value={props.data[props.id]}\r\n          onChange={props.handleChange}\r\n          onFocus={handleFocus}\r\n        />\r\n      )}\r\n      {props.multiline && (\r\n        <textarea\r\n          disabled={props.disabled}\r\n          className={\r\n            (props.errorFields && props.errorFields[props.id] ? 'error' : '') +\r\n            (props.disabled ? ' disabled' : '')\r\n          }\r\n          id={props.id}\r\n          name={props.id}\r\n          value={props.data[props.id]}\r\n          onChange={props.handleChange}\r\n        />\r\n      )}\r\n      <label\r\n        htmlFor={props.id}\r\n        className={!isEmptyOrSpaces(props.data[props.id]) ? 'active' : ''}\r\n      >\r\n        {props.label}\r\n      </label>\r\n      {props.subtitle && <div className=\"typography-3\">{props.subtitle}</div>}\r\n      {props.errorData && props.errorData[props.id] && (\r\n        <div className=\"text-field-error\">\r\n          <Warning />\r\n          {props.errorData[props.id]}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OakText;\r\n","import sjcl from 'ioak-sjcl';\r\nimport CryptoJS from 'crypto-js';\r\nimport { httpGet, httpPost, httpPut } from '../Lib/RestTemplate';\r\nimport constants from '../Constants';\r\n\r\nexport function preSignup(data) {\r\n  return httpGet(constants.API_URL + data.name + constants.API_KEYS, null).then(\r\n    function(response) {\r\n      return Promise.resolve(response);\r\n    }\r\n  );\r\n}\r\n\r\nexport function signup(data) {\r\n  return httpPost(\r\n    constants.API_URL + data.tenantName + constants.API_SIGNUP,\r\n    {\r\n      email: data.email,\r\n      problem: encrypt(data.password, data.solution, data.salt),\r\n      solution: data.solution,\r\n      roles: [],\r\n    },\r\n    null\r\n  ).then(function(response) {\r\n    return Promise.resolve(response.status);\r\n  });\r\n}\r\n\r\nexport function createTenant(data) {\r\n  const formData = new FormData();\r\n  formData.append('tenantName', data.tenantName);\r\n  formData.append('email', data.email);\r\n  formData.append('jwtPassword', data.jwtPassword);\r\n  formData.append('problem', encrypt(data.password, data.solution, data.salt));\r\n  formData.append('solution', data.solution);\r\n  if (data.banner) {\r\n    formData.append('banner', data.banner, 'banner.jpg');\r\n  }\r\n  return httpPost(constants.API_URL_TENANT_CREATE, formData, {\r\n    'Content-Type': 'multipart/form-data',\r\n  }).then(function(response) {\r\n    return Promise.resolve(response);\r\n  });\r\n}\r\n\r\nexport function preSignin(data) {\r\n  return httpGet(\r\n    `${constants.API_URL + data.name + constants.API_KEYS}/${data.email}`,\r\n    null\r\n  )\r\n    .then(response => Promise.resolve(response))\r\n    .catch(error => Promise.resolve(error.response));\r\n}\r\n\r\nexport function signin(data, problem) {\r\n  try {\r\n    const solution = decrypt(data.password, JSON.stringify(problem));\r\n    return httpPost(\r\n      constants.API_URL + data.name + constants.API_SIGNIN,\r\n      {\r\n        email: data.email,\r\n        solution,\r\n      },\r\n      null\r\n    ).then(function(response) {\r\n      return Promise.resolve(response);\r\n    });\r\n  } catch (error) {\r\n    if (error.message === \"ccm: tag doesn't match\") {\r\n      return Promise.resolve({\r\n        status: 401,\r\n      });\r\n    }\r\n    return Promise.resolve(error);\r\n  }\r\n}\r\n\r\nexport function signinWithJwt(data) {\r\n  return httpPost(\r\n    constants.API_URL + data.tenantName + constants.API_JWT,\r\n    {\r\n      jwtToken: data.jwt,\r\n    },\r\n    null\r\n  ).then(function(response) {\r\n    return Promise.resolve(response);\r\n  });\r\n}\r\n\r\nexport function sentPasswordChangeEmail(data, type) {\r\n  return httpPost(constants.API_URL_CODE, data, null).then(function(response) {\r\n    return Promise.resolve(response.status);\r\n  });\r\n}\r\n\r\nexport function resetPassword(data, type) {\r\n  return httpGet(constants.API_URL_PRESIGNUP, null).then(function(response) {\r\n    if (response.status === 200) {\r\n      let newData = {};\r\n      if (type && type === 'password') {\r\n        newData = {\r\n          problem: encrypt(\r\n            data.password,\r\n            response.data.solution,\r\n            response.data.salt\r\n          ),\r\n          solution: response.data.solution,\r\n          resetCode: data.resetCode,\r\n        };\r\n      }\r\n\r\n      return httpPost(constants.API_URL_RESET, newData, null).then(function(\r\n        response\r\n      ) {\r\n        return Promise.resolve(response.status);\r\n      });\r\n    }\r\n  });\r\n}\r\n\r\nfunction encrypt(password, message, salt) {\r\n  const config = {\r\n    cipher: 'aes',\r\n    iter: '12000',\r\n    ks: 256,\r\n    salt: CryptoJS.enc.Base64.stringify(CryptoJS.enc.Utf8.parse(salt)),\r\n  };\r\n  return sjcl.encrypt(password, message, config);\r\n}\r\n\r\nfunction decrypt(password, ciphertext) {\r\n  return sjcl.decrypt(password, ciphertext);\r\n}\r\n\r\nexport function fetchSpace() {\r\n  return httpGet(\r\n    `/space/introspect`,\r\n    null,\r\n    process.env.REACT_APP_ONEAUTH_API_URL\r\n  ).then(function(response) {\r\n    return Promise.resolve(response.data);\r\n  });\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport './style.scss';\r\nimport OakText from '../../oakui/OakText';\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport { sentTenantUrl } from './TenantService';\r\nimport { preSignup, createTenant } from '../Auth/AuthService';\r\nimport { Profile } from '../Types/GeneralTypes';\r\nimport { isEmptyOrSpaces } from '../Utils';\r\nimport OakButton from '../../oakui/OakButton';\r\n\r\ninterface Props {\r\n  getProfile: Function;\r\n  profile: Profile;\r\n  history: any;\r\n}\r\ninterface State {\r\n  name: string;\r\n  email: string;\r\n  pageNo: number;\r\n  password: string;\r\n  repeatPassword: string;\r\n  jwtPassword: string;\r\n  banner: any;\r\n  created: boolean;\r\n  errorFields: {\r\n    name: boolean;\r\n    email: boolean;\r\n    password: boolean;\r\n    repeatPassword: boolean;\r\n    jwtPassword: boolean;\r\n  };\r\n}\r\n\r\nconst Tenant = (props: Props) => {\r\n  const [data, setData] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    repeatPassword: '',\r\n    jwtPassword: '',\r\n    pageNo: 1,\r\n    created: false,\r\n  });\r\n\r\n  const [banner, setBanner] = useState<null | { name: any }>(null);\r\n\r\n  const [errorFields, setErrorFields] = useState({\r\n    name: false,\r\n    email: false,\r\n    password: false,\r\n    repeatPassword: false,\r\n    jwtPassword: false,\r\n  });\r\n\r\n  useEffect(() => {\r\n    props.getProfile();\r\n  }, []);\r\n\r\n  const handleChange = event => {\r\n    setData({ ...data, [event.currentTarget.name]: event.currentTarget.value });\r\n  };\r\n\r\n  const sentTenantUrlAction = () => {\r\n    sentTenantUrl({\r\n      name: data.name,\r\n    })\r\n      .then((response: any) => {\r\n        if (response === 200) {\r\n          sendMessage('notification', true, {\r\n            message: 'Password sent successfully',\r\n            type: 'success',\r\n            duration: 3000,\r\n          });\r\n        } else {\r\n          sendMessage('notification', true, {\r\n            type: 'failure',\r\n            message: 'Invalid Email error',\r\n            duration: 3000,\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        sendMessage('notification', true, {\r\n          type: 'failure',\r\n          message: 'Bad request',\r\n          duration: 3000,\r\n        });\r\n      });\r\n  };\r\n\r\n  const clearError = () => {\r\n    setErrorFields({\r\n      name: false,\r\n      email: false,\r\n      password: false,\r\n      repeatPassword: false,\r\n      jwtPassword: false,\r\n    });\r\n  };\r\n\r\n  const setError = fieldName => {\r\n    setErrorFields({ ...errorFields, [fieldName]: true });\r\n  };\r\n\r\n  const validate = () => {\r\n    if (isEmptyOrSpaces(data.name)) {\r\n      setError('name');\r\n      sendMessage('notification', true, {\r\n        type: 'failure',\r\n        message: 'Tenant name cannot be empty',\r\n        duration: 3000,\r\n      });\r\n      return false;\r\n    }\r\n    if (!/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(data.email)) {\r\n      setError('email');\r\n      sendMessage('notification', true, {\r\n        type: 'failure',\r\n        message: 'Email ID is invalid',\r\n        duration: 3000,\r\n      });\r\n      return false;\r\n    }\r\n\r\n    if (isEmptyOrSpaces(data.password)) {\r\n      setError('password');\r\n      sendMessage('notification', true, {\r\n        type: 'failure',\r\n        message: 'Password cannot be empty',\r\n        duration: 3000,\r\n      });\r\n      return false;\r\n    }\r\n\r\n    if (data.password !== data.repeatPassword) {\r\n      setError('repeatPassword');\r\n      sendMessage('notification', true, {\r\n        type: 'failure',\r\n        message: 'Password and repeat password should be same',\r\n        duration: 3000,\r\n      });\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  const submit = event => {\r\n    event.preventDefault();\r\n    sendMessage('spinner');\r\n    clearError();\r\n\r\n    if (!validate()) {\r\n      return;\r\n    }\r\n\r\n    preSignup({ name: data.name }).then(response => {\r\n      if (response.status === 200) {\r\n        createTenantAction(response.data);\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleImageChange = e => {\r\n    setBanner(e.target.files[0]);\r\n  };\r\n\r\n  const createTenantAction = preSignupData => {\r\n    createTenant({\r\n      tenantName: data.name,\r\n      email: data.email,\r\n      password: data.password,\r\n      jwtPassword: data.jwtPassword,\r\n      solution: preSignupData.solution,\r\n      salt: preSignupData.salt,\r\n      banner,\r\n    })\r\n      .then(response => {\r\n        if (response.status === 200) {\r\n          sendMessage('notification', true, {\r\n            type: 'success',\r\n            message: 'Tenant has been created. You can proceed now',\r\n            duration: 3000,\r\n          });\r\n          setData({ ...data, pageNo: data.pageNo + 1, created: true });\r\n        } else {\r\n          sendMessage('notification', true, {\r\n            message: 'We are facing some problem, please try after sometime',\r\n            duration: 3000,\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        sendMessage('notification', true, {\r\n          type: 'failure',\r\n          message: 'Unknown error. Please try again or at a later time',\r\n          duration: 3000,\r\n        });\r\n      });\r\n  };\r\n\r\n  const gotoTenantPage = () => {\r\n    props.history.push(`/${data.name}/home`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"tenant boxed\">\r\n      {!data.created && (\r\n        <div className=\"typography-3 space-bottom-4\">Tenant creation</div>\r\n      )}\r\n      {data.created && (\r\n        <div className=\"typography-3 space-bottom-4\">\r\n          Tenant [{data.name}] available now\r\n        </div>\r\n      )}\r\n      {data.pageNo === 1 && (\r\n        <div className=\"form\">\r\n          <OakText\r\n            id=\"name\"\r\n            data={data}\r\n            label=\"Tenant Name\"\r\n            handleChange={e => handleChange(e)}\r\n            errorFields={errorFields}\r\n          />\r\n          <OakText\r\n            id=\"email\"\r\n            data={data}\r\n            label=\"Administrator Email\"\r\n            handleChange={e => handleChange(e)}\r\n            errorFields={errorFields}\r\n          />\r\n          <OakText\r\n            id=\"password\"\r\n            type=\"password\"\r\n            data={data}\r\n            label=\"Administrator Password\"\r\n            handleChange={e => handleChange(e)}\r\n            errorFields={errorFields}\r\n          />\r\n          <OakText\r\n            id=\"repeatPassword\"\r\n            type=\"password\"\r\n            data={data}\r\n            label=\"Repeat Password\"\r\n            handleChange={e => handleChange(e)}\r\n            errorFields={errorFields}\r\n          />\r\n          <OakText\r\n            id=\"jwtPassword\"\r\n            type=\"password\"\r\n            data={data}\r\n            label=\"JWT Password\"\r\n            handleChange={e => handleChange(e)}\r\n            errorFields={errorFields}\r\n          />\r\n          <label className=\"file-upload space-top-1 space-bottom-4\">\r\n            <input\r\n              type=\"file\"\r\n              accept=\"image/png, image/jpeg\"\r\n              onChange={handleImageChange}\r\n              required\r\n            />\r\n            <i className=\"material-icons\">add_photo_alternate</i>\r\n            {!banner && 'Choose Banner/Cover Image'}\r\n            {banner && banner.name}\r\n          </label>\r\n          <div className=\"action\">\r\n            <OakButton theme=\"primary\" variant=\"appear\" action={submit}>\r\n              Create Tenant\r\n            </OakButton>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {data.created && (\r\n        <OakButton theme=\"primary\" variant=\"disappear\" action={gotoTenantPage}>\r\n          Take me to my tenant\r\n        </OakButton>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Tenant;\r\n","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { addAuth } from '../../actions/AuthActions';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport { httpGet } from '../Lib/RestTemplate';\r\n\r\ninterface Props {\r\n  path?: string;\r\n  render?: any;\r\n  component: any;\r\n  match: any;\r\n  history: any;\r\n  middleware?: string[];\r\n  cookies: any;\r\n}\r\n\r\nconst OakRoute = (props: Props) => {\r\n  const authorization = useSelector(state => state.authorization);\r\n  const profile = useSelector(state => state.profile);\r\n  const dispatch = useDispatch();\r\n\r\n  const middlewares = () => {\r\n    props.middleware?.forEach(middlewareName => {\r\n      if (!runMidleware(middlewareName)) {\r\n        return false;\r\n      }\r\n    });\r\n    return true;\r\n  };\r\n\r\n  const runMidleware = middlewareName => {\r\n    sendMessage('spaceChange', true, '');\r\n    switch (middlewareName) {\r\n      case 'readAuthentication':\r\n        return readAuthenticationSpace();\r\n      case 'authenticate':\r\n        return authenticateSpace();\r\n      case 'isAdmin':\r\n        return isAdmin();\r\n      default:\r\n        return true;\r\n    }\r\n  };\r\n\r\n  const authenticateSpace = () => {\r\n    return authenticate('space');\r\n  };\r\n  const readAuthenticationSpace = () => {\r\n    return authenticate('space', false);\r\n  };\r\n\r\n  const authenticate = async (type, redirect = true) => {\r\n    sendMessage('spaceChange', true, props.match.params.space);\r\n    if (authorization.isAuth) {\r\n      return true;\r\n    }\r\n    const cookieKey = `mockback_${props.match.params.space}`;\r\n    const authKey = props.cookies.get(cookieKey);\r\n    const baseAuthUrl = `/auth/${props.match.params.space}`;\r\n    if (authKey) {\r\n      httpGet(`${baseAuthUrl}/session/${authKey}`, null)\r\n        .then(sessionResponse => {\r\n          if (sessionResponse.status === 200) {\r\n            console.log('@@@@@@@@@');\r\n            dispatch(\r\n              addAuth({\r\n                isAuth: true,\r\n                token: sessionResponse.data.data.token,\r\n                secret: '',\r\n                firstName: sessionResponse.data.data.firstName,\r\n                lastName: sessionResponse.data.data.lastName,\r\n                email: sessionResponse.data.data.email,\r\n                type: sessionResponse.data.data.type,\r\n                userId: sessionResponse.data.data.userId,\r\n              })\r\n            );\r\n          }\r\n        })\r\n        .catch((error: any) => {\r\n          props.cookies.remove(cookieKey);\r\n          if (redirect && error.response.status === 404) {\r\n            sendMessage('notification', true, {\r\n              type: 'failure',\r\n              message: 'Invalid session token',\r\n              duration: 3000,\r\n            });\r\n            redirectToLogin(props.match.params.space);\r\n          } else if (redirect && error.response.status === 401) {\r\n            sendMessage('notification', true, {\r\n              type: 'failure',\r\n              message: 'Session expired',\r\n              duration: 3000,\r\n            });\r\n            redirectToLogin(props.match.params.space);\r\n          }\r\n        });\r\n    } else if (redirect) {\r\n      redirectToLogin(props.match.params.space);\r\n    } else {\r\n      return true;\r\n    }\r\n  };\r\n\r\n  const isAdmin = () => {\r\n    redirectToUnauthorized();\r\n    return false;\r\n  };\r\n\r\n  const redirectToLogin = space => {\r\n    window.location.href = `${process.env.REACT_APP_ONEAUTH_URL}/#/space/${props.match.params.space}/login?type=signin&appId=${process.env.REACT_APP_ONEAUTH_APP_ID}`;\r\n    // props.history.push(`/${space}/login/home`);\r\n  };\r\n\r\n  const redirectToUnauthorized = () => {\r\n    props.history.push(`/${profile.space}/unauthorized`);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {middlewares() && (\r\n        <props.component\r\n          {...props}\r\n          profile={profile}\r\n          space={props.match.params.space}\r\n          // getProfile={getProfile}\r\n          // setProfile={props.setProfile}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default OakRoute;\r\n","import React from 'react';\r\n\r\nconst Unauthorized = () => {\r\n  return (\r\n    <div>\r\n      <br />\r\n      <br />\r\n      <br />\r\n      <br />\r\n      <br />\r\n      <br />\r\n      Unauthorized\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Unauthorized;\r\n","import React from 'react';\r\nimport './style.scss';\r\n\r\ninterface Props {\r\n  space: any;\r\n  history: any;\r\n}\r\n\r\nconst SpaceItem = (props: Props) => {\r\n  const oaLogin = () => {\r\n    window.location.href = `${process.env.REACT_APP_ONEAUTH_URL}/#/space/${props.space.spaceId}/login?type=signin&appId=${process.env.REACT_APP_ONEAUTH_APP_ID}`;\r\n  };\r\n  return (\r\n    <div className=\"space-list-item align-horizontal\" onClick={oaLogin}>\r\n      <div className=\"space-list-item--link\">\r\n        <div className=\"typography-6 space-horizontal-1\">\r\n          {props.space.name}\r\n        </div>\r\n      </div>\r\n      ( <div className=\"typography-4\">{props.space.spaceId}</div> )\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SpaceItem;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport OakButton from '../../../oakui/OakButton';\r\nimport OakText from '../../../oakui/OakText';\r\nimport { isEmptyOrSpaces, isEmptyAttributes } from '../../Utils';\r\nimport OakHeading from '../../../oakui/OakHeading';\r\nimport OakPage from '../../../oakui/OakPage';\r\nimport OakSection from '../../../oakui/OakSection';\r\nimport { fetchSpace } from '../../Auth/AuthService';\r\nimport SpaceItem from './SpaceItem';\r\nimport './style.scss';\r\n\r\ninterface Props {\r\n  history: any;\r\n  location: any;\r\n  space: string;\r\n}\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst OneAuth = (props: Props) => {\r\n  const authorization = useSelector(state => state.authorization);\r\n  const [view, setView] = useState<Array<any> | undefined>(undefined);\r\n  const [searchCriteria, setSearchCriteria] = useState({ text: '' });\r\n\r\n  useEffect(() => {\r\n    const queryParam = queryString.parse(props.location.search);\r\n    if (queryParam.space) {\r\n      window.location.href = `${process.env.REACT_APP_ONEAUTH_URL}/#/space/${queryParam.space}/login?type=signin&appId=${process.env.REACT_APP_ONEAUTH_APP_ID}&from=${queryParam.from}`;\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchSpace().then(response => {\r\n      setView(search(response.data, searchCriteria.text));\r\n    });\r\n  }, [searchCriteria]);\r\n\r\n  const search = (existingSpace, criteria) => {\r\n    if (isEmptyOrSpaces(criteria)) {\r\n      return existingSpace;\r\n    }\r\n    return existingSpace.filter(\r\n      item => item.name.toLowerCase().indexOf(criteria.toLowerCase()) !== -1\r\n    );\r\n  };\r\n\r\n  const handleSearchCriteria = event => {\r\n    setSearchCriteria({\r\n      ...searchCriteria,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (authorization.isAuth) {\r\n      props.history.push(`/${props.space}/article`);\r\n    }\r\n  }, [authorization]);\r\n\r\n  const goBack = () => {\r\n    props.history.goBack();\r\n  };\r\n\r\n  const getHeadingLinks = () => {\r\n    const links: any[] = [];\r\n    if (props.history.length > 2) {\r\n      links.push({\r\n        label: 'Go back',\r\n        icon: 'reply',\r\n        action: () => goBack(),\r\n      });\r\n    }\r\n    return links;\r\n  };\r\n\r\n  return (\r\n    <OakPage>\r\n      <OakSection>\r\n        <div className=\"view-space-item\">\r\n          <div className=\"page-header\">\r\n            <OakHeading\r\n              title=\"Login via Oneauth\"\r\n              subtitle=\"You will be redirected to oneauth for signing in to your space\"\r\n              links={getHeadingLinks()}\r\n              linkSize=\"large\"\r\n            />\r\n            {/* <div className=\"action-header position-right\">\r\n              {props.history.length > 2 && (\r\n                <OakButton\r\n                  action={() => cancelCreation()}\r\n                  theme=\"default\"\r\n                  variant=\"appear\"\r\n                >\r\n                  <i className=\"material-icons\">close</i>Back\r\n                </OakButton>\r\n              )}\r\n            </div> */}\r\n          </div>\r\n          <OakText\r\n            label=\"Type company name to filter\"\r\n            handleChange={handleSearchCriteria}\r\n            id=\"text\"\r\n            data={searchCriteria}\r\n          />\r\n          <div className=\"list-spaces\">\r\n            <div className=\"list-spaces--content\">\r\n              {view?.map(space => (\r\n                <SpaceItem\r\n                  history={props.history}\r\n                  space={space}\r\n                  key={space._id}\r\n                />\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </OakSection>\r\n    </OakPage>\r\n  );\r\n};\r\n\r\nexport default OneAuth;\r\n","import React from 'react';\r\nimport './style.scss';\r\n\r\ninterface Props {\r\n  action: Function;\r\n  label: string;\r\n  icon?: string;\r\n  svgIcon?: any;\r\n}\r\n\r\nconst LoginMethod = (props: Props) => {\r\n  return (\r\n    <div className=\"login-method\" onClick={() => props.action()}>\r\n      {props.icon && <i className=\"material-icons\">{props.icon}</i>}\r\n      {props.svgIcon && (\r\n        <img\r\n          className=\"login-method--icon\"\r\n          src={props.svgIcon}\r\n          alt={`Login via ${props.label}`}\r\n        />\r\n      )}\r\n      <div className=\"typography-7\">{props.label}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginMethod;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport './style.scss';\r\nimport LoginMethod from './LoginMethod';\r\nimport OakHeading from '../../oakui/OakHeading';\r\nimport OakPage from '../../oakui/OakPage';\r\nimport OakSection from '../../oakui/OakSection';\r\nimport oaBlack from '../../images/oneauth_black_small.svg';\r\nimport oaWhite from '../../images/oneauth_white_small.svg';\r\n\r\ninterface Props {\r\n  history: any;\r\n  match: any;\r\n  params: string;\r\n  space: string;\r\n  location: any;\r\n}\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst Login = (props: Props) => {\r\n  const authorization = useSelector(state => state.authorization);\r\n  const profile = useSelector(state => state.profile);\r\n  const [from, setFrom] = useState<string | undefined>();\r\n  const oaLogin = () => {\r\n    props.history.push(\r\n      `/${props.space}/login/oa${from ? `?from=${from}` : ''}`\r\n    );\r\n  };\r\n  const emailLogin = () => {\r\n    props.history.push(\r\n      `/${props.space}/login/email${from ? `?from=${from}` : ''}`\r\n    );\r\n  };\r\n\r\n  const mockbackLogin = () => {\r\n    console.log('not yet implemented');\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (authorization.isAuth) {\r\n      props.history.push(`/${props.space}/home`);\r\n    }\r\n  }, [authorization]);\r\n\r\n  useEffect(() => {\r\n    const query = queryString.parse(props.location.search);\r\n    query.from ? setFrom(query.from) : setFrom(undefined);\r\n  }, [props.location.search]);\r\n\r\n  return (\r\n    <OakPage>\r\n      <OakSection>\r\n        <OakHeading\r\n          title=\"Sign in\"\r\n          subtitle=\"Choose the preferred authentication method to continue\"\r\n        />\r\n        <div className=\"view-asset-item\">\r\n          <div className=\"space-top-3 mockback-signin\">\r\n            <div className=\"login-home\">\r\n              <LoginMethod\r\n                action={oaLogin}\r\n                icon=\"corporate_fare\"\r\n                label=\"Enterprise Login\"\r\n              />\r\n              <LoginMethod\r\n                action={mockbackLogin}\r\n                icon=\"people\"\r\n                label=\"Individual Login\"\r\n              />\r\n              <LoginMethod\r\n                action={emailLogin}\r\n                icon=\"email\"\r\n                label=\"OTP via Email\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </OakSection>\r\n    </OakPage>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport './ProjectLink.scss';\r\n\r\ninterface Props {\r\n  space: string;\r\n  history: any;\r\n  project: any;\r\n}\r\n\r\nconst ProjectLink = (props: Props) => {\r\n  const goToViewPage = () =>\r\n    props.history.push(`/${props.space}/project/view?id=${props.project._id}`);\r\n  return (\r\n    <div className=\"project-link\" onClick={goToViewPage}>\r\n      <div className=\"project-link--name\">{props.project.name}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProjectLink;\r\n","import React, { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport './style.scss';\r\nimport OakPage from '../../../oakui/OakPage';\r\nimport OakSection from '../../../oakui/OakSection';\r\nimport OakHeading from '../../../oakui/OakHeading';\r\nimport OakSubheading from '../../../oakui/OakSubheading';\r\nimport ProjectLink from './ProjectLink';\r\n\r\ninterface Props {\r\n  space: string;\r\n  history: any;\r\n}\r\n\r\nconst ListProject = (props: Props) => {\r\n  const projects = useSelector(state => state.project.projects);\r\n  const gotoCreatePage = () =>\r\n    props.history.push(`/${props.space}/project/create`);\r\n  return (\r\n    <OakPage>\r\n      <OakSection>\r\n        <OakHeading\r\n          title=\"List of projects\"\r\n          links={[\r\n            {\r\n              label: 'New project',\r\n              icon: 'playlist_add',\r\n              action: gotoCreatePage,\r\n            },\r\n          ]}\r\n          linkSize=\"large\"\r\n        />\r\n        <div className=\"list-project\">\r\n          {projects?.map(item => (\r\n            <ProjectLink\r\n              key={item._id}\r\n              space={props.space}\r\n              history={props.history}\r\n              project={item}\r\n            />\r\n          ))}\r\n        </div>\r\n      </OakSection>\r\n    </OakPage>\r\n  );\r\n};\r\n\r\nexport default ListProject;\r\n","import React, { useState, useEffect } from 'react';\r\nimport './styles/oak-form.scss';\r\n\r\ninterface Props {\r\n  children?: any;\r\n}\r\n\r\nconst OakForm = (props: Props) => {\r\n  return (\r\n    <div className=\"oak-form\">\r\n      <div className=\"oak-form--container\">{props.children}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OakForm;\r\n","import React, { useState, useEffect } from 'react';\r\nimport './styles/oak-footer.scss';\r\n\r\ninterface Props {\r\n  children?: any;\r\n  align?: 'left' | 'right' | 'center';\r\n}\r\n\r\nconst OakFooter = (props: Props) => {\r\n  return (\r\n    <div className={`oak-footer ${props.align || 'right'}`}>\r\n      <div className={`oak-footer--container ${props.align || 'right'}`}>{props.children}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OakFooter;\r\n","import { httpDelete, httpGet, httpPost, httpPut } from '../Lib/RestTemplate';\r\nimport constants from '../Constants';\r\nimport { sendMessage } from '../../events/MessageService';\r\n\r\nexport const saveProject = async (space, authorization, payload) => {\r\n  const response = await httpPut(\r\n    `${constants.API_URL_PROJECT}/${space}/`,\r\n    payload,\r\n    {\r\n      headers: {\r\n        Authorization: authorization.token,\r\n      },\r\n    }\r\n  );\r\n  return response;\r\n};\r\n\r\nexport const addProjectMember = async (space, authorization, payload) => {\r\n  const response = await httpPost(\r\n    `${constants.API_URL_PROJECTMEMBER}/${space}/`,\r\n    payload,\r\n    {\r\n      headers: {\r\n        Authorization: authorization.token,\r\n      },\r\n    }\r\n  );\r\n  return response;\r\n};\r\n\r\nexport const getProjectMembers = async (space, authorization, projectId) => {\r\n  const response = await httpGet(\r\n    `${constants.API_URL_PROJECTMEMBER}/${space}/project/${projectId}`,\r\n    {\r\n      headers: {\r\n        Authorization: authorization.token,\r\n      },\r\n    }\r\n  );\r\n  return response;\r\n};\r\n\r\nexport const removeProjectMember = async (space, authorization, id) => {\r\n  const response = await httpDelete(\r\n    `${constants.API_URL_PROJECTMEMBER}/${space}/${id}`,\r\n    {\r\n      headers: {\r\n        Authorization: authorization.token,\r\n      },\r\n    }\r\n  );\r\n  return response;\r\n};\r\n","import React, { useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport './style.scss';\r\nimport OakPage from '../../../oakui/OakPage';\r\nimport OakSection from '../../../oakui/OakSection';\r\nimport OakHeading from '../../../oakui/OakHeading';\r\nimport OakSubheading from '../../../oakui/OakSubheading';\r\nimport OakForm from '../../../oakui/OakForm';\r\nimport OakText from '../../../oakui/OakText';\r\nimport OakFooter from '../../../oakui/OakFooter';\r\nimport OakButton from '../../../oakui/OakButton';\r\nimport { saveProject } from '../service';\r\nimport { sendMessage, newMessageId } from '../../../events/MessageService';\r\n\r\ninterface Props {\r\n  space: string;\r\n  history: any;\r\n}\r\n\r\nconst CreateProject = (props: Props) => {\r\n  const goBack = () => props.history.goBack();\r\n  const [state, setState] = useState({\r\n    name: '',\r\n    description: '',\r\n    reference: '',\r\n  });\r\n  const dispatch = useDispatch();\r\n  const authorization = useSelector(state => state.authorization);\r\n\r\n  const handleChange = event => {\r\n    setState({\r\n      ...state,\r\n      [event.currentTarget.name]: event.currentTarget.value,\r\n    });\r\n  };\r\n\r\n  const handleNameChange = event => {\r\n    setState({\r\n      ...state,\r\n      name: event.currentTarget.value,\r\n      reference:\r\n        state.name === state.reference\r\n          ? event.currentTarget.value\r\n          : state.reference,\r\n    });\r\n  };\r\n\r\n  const save = async () => {\r\n    const jobId = newMessageId();\r\n    sendMessage('notification', true, {\r\n      id: jobId,\r\n      type: 'running',\r\n      message: `Saving project [${state.name}]`,\r\n    });\r\n    const response = await saveProject(props.space, authorization, {\r\n      ...state,\r\n      reference: state.reference\r\n        .toLowerCase()\r\n        .replace(/\\s/g, '')\r\n        .replace(/\\W/g, ''),\r\n    });\r\n    console.log(response);\r\n    if (response.status === 200) {\r\n      sendMessage('notification', true, {\r\n        id: jobId,\r\n        type: 'success',\r\n        message: `Project [${state.name}] saved successfully`,\r\n        duration: 3000,\r\n      });\r\n      props.history.push(`/${props.space}/project`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <OakPage>\r\n      <OakSection>\r\n        <OakHeading\r\n          title=\"Create new project\"\r\n          links={[\r\n            {\r\n              label: 'Back',\r\n              icon: 'reply',\r\n              action: goBack,\r\n            },\r\n          ]}\r\n          linkSize=\"large\"\r\n        />\r\n        <div className=\"create-project\">\r\n          <OakForm>\r\n            <OakText\r\n              data={state}\r\n              id=\"name\"\r\n              handleChange={handleNameChange}\r\n              label=\"Project name\"\r\n            />\r\n            <OakText\r\n              data={{\r\n                ...state,\r\n                reference: state.reference\r\n                  .toLowerCase()\r\n                  .replace(/\\s/g, '')\r\n                  .replace(/\\W/g, ''),\r\n              }}\r\n              id=\"reference\"\r\n              handleChange={handleChange}\r\n              label=\"Reference word for URL path prefix\"\r\n            />\r\n            <OakText\r\n              data={state}\r\n              id=\"description\"\r\n              handleChange={handleChange}\r\n              label=\"Short description about the project\"\r\n              multiline\r\n            />\r\n          </OakForm>\r\n          <OakFooter>\r\n            <OakButton theme=\"primary\" variant=\"appear\" action={save}>\r\n              Save\r\n            </OakButton>\r\n            <OakButton theme=\"default\" variant=\"appear\">\r\n              Cancel\r\n            </OakButton>\r\n          </OakFooter>\r\n        </div>\r\n      </OakSection>\r\n    </OakPage>\r\n  );\r\n};\r\n\r\nexport default CreateProject;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport './style.scss';\r\nimport OakSubheading from '../../../oakui/OakSubheading';\r\nimport OakButton from '../../../oakui/OakButton';\r\nimport OakFooter from '../../../oakui/OakFooter';\r\nimport OakForm from '../../../oakui/OakForm';\r\nimport OakText from '../../../oakui/OakText';\r\nimport { newMessageId, sendMessage } from '../../../events/MessageService';\r\nimport { saveProject } from '../service';\r\n\r\nconst queryString = require('query-string');\r\n\r\ninterface Props {\r\n  space: string;\r\n  history: any;\r\n  project: any;\r\n}\r\n\r\nconst DetailSection = (props: Props) => {\r\n  const authorization = useSelector(state => state.authorization);\r\n  const [state, setState] = useState({\r\n    reference: '',\r\n    description: '',\r\n    name: '',\r\n  });\r\n\r\n  const [isEdited, setIsEdited] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setState({ ...state, ...props.project });\r\n  }, [props.project]);\r\n\r\n  const gotoEditPage = () => {\r\n    console.log('edit page');\r\n  };\r\n\r\n  const handleChange = event => {\r\n    setState({\r\n      ...state,\r\n      [event.currentTarget.name]: event.currentTarget.value,\r\n    });\r\n    setIsEdited(true);\r\n  };\r\n\r\n  const handleNameChange = event => {\r\n    setState({\r\n      ...state,\r\n      name: event.currentTarget.value,\r\n      reference:\r\n        state.name === state.reference\r\n          ? event.currentTarget.value\r\n          : state.reference,\r\n    });\r\n    setIsEdited(true);\r\n  };\r\n\r\n  const discardChanges = () => {\r\n    setState({ ...state, ...props.project });\r\n    setIsEdited(false);\r\n  };\r\n\r\n  const save = async () => {\r\n    const jobId = newMessageId();\r\n    sendMessage('notification', true, {\r\n      id: jobId,\r\n      type: 'running',\r\n      message: `Saving project [${state.name}]`,\r\n    });\r\n    const response = await saveProject(props.space, authorization, {\r\n      ...state,\r\n      reference: state.reference\r\n        .toLowerCase()\r\n        .replace(/\\s/g, '')\r\n        .replace(/\\W/g, ''),\r\n    });\r\n    console.log(response);\r\n    if (response.status === 200) {\r\n      sendMessage('notification', true, {\r\n        id: jobId,\r\n        type: 'success',\r\n        message: `Project [${state.name}] saved successfully`,\r\n        duration: 3000,\r\n      });\r\n      props.history.push(`/${props.space}/project`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"project-detail-section\">\r\n      {props.project && (\r\n        <OakForm>\r\n          <OakText\r\n            data={state}\r\n            id=\"name\"\r\n            handleChange={handleNameChange}\r\n            label=\"Project name\"\r\n          />\r\n          <OakText\r\n            data={{\r\n              ...state,\r\n              reference: state.reference\r\n                .toLowerCase()\r\n                .replace(/\\s/g, '')\r\n                .replace(/\\W/g, ''),\r\n            }}\r\n            id=\"reference\"\r\n            handleChange={handleChange}\r\n            label=\"Reference word for URL path prefix\"\r\n          />\r\n          <OakText\r\n            data={state}\r\n            id=\"description\"\r\n            handleChange={handleChange}\r\n            label=\"Short description about the project\"\r\n            multiline\r\n          />\r\n        </OakForm>\r\n      )}\r\n      {isEdited && (\r\n        <OakFooter>\r\n          <OakButton theme=\"primary\" variant=\"appear\" action={save}>\r\n            Save\r\n          </OakButton>\r\n          <OakButton theme=\"default\" variant=\"appear\" action={discardChanges}>\r\n            Discard\r\n          </OakButton>\r\n        </OakFooter>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DetailSection;\r\n","import React, { useState, useEffect, ReactElement } from 'react';\r\nimport './styles/oak-tab.scss';\r\nimport { useLocation } from 'react-router';\r\nimport { isEmptyOrSpaces } from '../components/Utils';\r\n\r\ninterface Props {\r\n  meta: any[];\r\n  children: any;\r\n  variant?: 'default' | 'fullpage';\r\n  noBookmarking?: boolean;\r\n}\r\n\r\nconst OakTab = (props: Props) => {\r\n  const [activeTab, setActiveTab] = useState('');\r\n  const [slots, setSlots] = useState<any | {}>({});\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    initializeViews();\r\n  }, [props.meta, props.children]);\r\n\r\n  useEffect(() => {\r\n    if (!props.noBookmarking) {\r\n      setActiveTab(\r\n        isEmptyOrSpaces(location.hash)\r\n          ? props.meta[0]?.slotName\r\n          : location.hash.substr(1)\r\n      );\r\n    }\r\n  }, [location.hash]);\r\n\r\n  const initializeViews = () => {\r\n    let newSlots = {};\r\n    React.Children.toArray(props.children).forEach((node: any) => {\r\n      newSlots = { ...newSlots, [node.props.slot]: node };\r\n    });\r\n    setSlots(newSlots);\r\n    if (props.noBookmarking && !activeTab) {\r\n      setActiveTab(Object.keys(newSlots)[0]);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`oak-tab ${props.variant}`}>\r\n      <div className=\"oak-tab--header\">\r\n        {props.noBookmarking &&\r\n          props.meta.map(item => (\r\n            <button\r\n              key={item.slotName}\r\n              className={`oak-tab--header--button tab typography-6 ${\r\n                activeTab === item.slotName ? 'active' : 'inactive'\r\n              }`}\r\n              onClick={event => setActiveTab(item.slotName)}\r\n            >\r\n              {/* <div className=\"icon\"> */}\r\n              <i\r\n                className={`material-icons typography-8 ${\r\n                  activeTab === item.slotName ? 'active' : ''\r\n                }`}\r\n              >\r\n                {item.icon}\r\n              </i>\r\n              <div className=\"label\">{item.label}</div>\r\n            </button>\r\n          ))}\r\n\r\n        {!props.noBookmarking &&\r\n          props.meta.map(item => (\r\n            <a\r\n              key={item.slotName}\r\n              className={`tab typography-6 ${\r\n                activeTab === item.slotName ? 'active' : 'inactive'\r\n              }`}\r\n              // onClick={event => switchTab(event, item.slotName)}\r\n              // href={`#${item.slotName}`}\r\n              href={`#${location.pathname}${location.search}#${item.slotName}`}\r\n            >\r\n              {/* <div className=\"icon\"> */}\r\n              <i\r\n                className={`material-icons typography-8 ${\r\n                  activeTab === item.slotName ? 'active' : ''\r\n                }`}\r\n              >\r\n                {item.icon}\r\n              </i>\r\n              <div className=\"label\">{item.label}</div>\r\n            </a>\r\n          ))}\r\n      </div>\r\n      {/* {props.meta.map(item => (\r\n        <div\r\n          key={item.slotName}\r\n          className={`tab typography-6 ${\r\n            activeTab === item.slotName ? 'active' : ''\r\n          }`}\r\n          onClick={event => switchTab(event, item.slotName)}\r\n        />\r\n      ))} */}\r\n      {props.meta.map(item => (\r\n        <div\r\n          key={item.slotName}\r\n          className={`content ${\r\n            activeTab === item.slotName ? 'active' : 'inactive'\r\n          }`}\r\n        >\r\n          {slots[activeTab]}\r\n          {/* <slot v-bind:name=\"item.slotName\" /> */}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OakTab;\r\n","import React, { ReactNode, useState, useEffect } from 'react';\r\nimport './styles/oak-auto-complete.scss';\r\nimport OakText from './OakText';\r\nimport { newId } from '../events/MessageService';\r\n\r\ninterface Props {\r\n  label?: string;\r\n  placeholder?: string;\r\n  objects: any;\r\n  handleChange: Function;\r\n}\r\n\r\nconst OakAutoComplete = (props: Props) => {\r\n  const [id, setId] = useState(newId());\r\n  const [searchOn, setSearchOn] = useState(false);\r\n  const [criteria, setCriteria] = useState({\r\n    [id]: '',\r\n  });\r\n  const [dropdownFiltered, setDropdownFiltered] = useState<\r\n    [{ key: string; value: string }] | undefined\r\n  >(undefined);\r\n\r\n  useEffect(() => {\r\n    updateSearchResults(criteria[id]);\r\n  }, [props.objects]);\r\n\r\n  const selected = key => {\r\n    setSearchOn(false);\r\n    props.handleChange(key);\r\n  };\r\n\r\n  const handleFocus = () => {\r\n    setSearchOn(true);\r\n  };\r\n\r\n  const handleChange = event => {\r\n    setCriteria({ [event.target.name]: event.target.value });\r\n    updateSearchResults(event.target.value);\r\n  };\r\n  const updateSearchResults = searchCriteria => {\r\n    setDropdownFiltered(\r\n      props.objects.filter(item =>\r\n        item.value?.toLowerCase().includes(searchCriteria.toLowerCase())\r\n      )\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('click', (e: any) => {\r\n      if (!document.getElementById(id)?.contains(e.target)) {\r\n        setSearchOn(false);\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"oak-auto-complete\" id={id}>\r\n      <div className=\"search-bar\">\r\n        <OakText\r\n          id={id}\r\n          data={criteria}\r\n          label={props.label}\r\n          handleFocus={handleFocus}\r\n          handleChange={handleChange}\r\n          placeholder={props.placeholder}\r\n        />\r\n      </div>\r\n      {searchOn && dropdownFiltered && dropdownFiltered.length > 0 && (\r\n        <div className=\"results\">\r\n          {dropdownFiltered?.map(item => (\r\n            <div\r\n              className=\"element\"\r\n              key={item.key}\r\n              onClick={() => selected(item.key)}\r\n            >\r\n              {item.value}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OakAutoComplete;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { newMessageId, sendMessage } from '../../../events/MessageService';\r\nimport OakButton from '../../../oakui/OakButton';\r\nimport { removeProjectMember } from '../service';\r\n\r\nimport './MemberLink.scss';\r\n\r\ninterface Props {\r\n  space: string;\r\n  member: any;\r\n  user: any;\r\n  refresh: any;\r\n}\r\n\r\nconst MemberLink = (props: Props) => {\r\n  const authorization = useSelector(state => state.authorization);\r\n  const [showConfirm, setShowConfirm] = useState(false);\r\n\r\n  const remove = async () => {\r\n    const jobId = newMessageId();\r\n    sendMessage('notification', true, {\r\n      id: jobId,\r\n      type: 'running',\r\n      message: `Removing member from project`,\r\n    });\r\n    const response = await removeProjectMember(\r\n      props.space,\r\n      authorization,\r\n      props.member._id\r\n    );\r\n\r\n    if (response.status === 200) {\r\n      sendMessage('notification', true, {\r\n        id: jobId,\r\n        type: 'success',\r\n        message: `Member removed from project successfully`,\r\n        duration: 3000,\r\n      });\r\n      props.refresh();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"project-member-link\">\r\n      <div>{`${props.user?.firstName} ${props.user?.lastName}`}</div>\r\n      <div className=\"project-member-link--action\">\r\n        {!showConfirm && (\r\n          <OakButton\r\n            theme=\"primary\"\r\n            variant=\"regular\"\r\n            action={() => setShowConfirm(true)}\r\n          >\r\n            Remove\r\n          </OakButton>\r\n        )}\r\n        {showConfirm && (\r\n          <>\r\n            <OakButton\r\n              theme=\"default\"\r\n              variant=\"regular\"\r\n              action={() => setShowConfirm(false)}\r\n            >\r\n              Cancel\r\n            </OakButton>\r\n            <OakButton theme=\"primary\" variant=\"regular\" action={remove}>\r\n              Confirm\r\n            </OakButton>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MemberLink;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport OakSubheading from '../../../oakui/OakSubheading';\r\nimport OakAutoComplete from '../../../oakui/OakAutoComplete';\r\nimport { addProjectMember } from '../service';\r\nimport { newMessageId, sendMessage } from '../../../events/MessageService';\r\nimport OakButton from '../../../oakui/OakButton';\r\nimport MemberLink from './MemberLink';\r\n\r\ninterface Props {\r\n  space: string;\r\n  history: any;\r\n  project: any;\r\n  members: any[];\r\n  type: 'MEMBER' | 'ADMINISTRATOR';\r\n  refresh: any;\r\n}\r\n\r\nconst MemberSection = (props: Props) => {\r\n  const users = useSelector(state => state.user.users);\r\n  const authorization = useSelector(state => state.authorization);\r\n  const [userMap, setUserMap] = useState<any>({});\r\n\r\n  useEffect(() => {\r\n    const localMap = {};\r\n    users?.forEach(item => (localMap[item._id] = item));\r\n    setUserMap(localMap);\r\n  }, [users]);\r\n\r\n  const gotoEditPage = () => {\r\n    console.log('edit page');\r\n  };\r\n\r\n  const addUser = async userId => {\r\n    const jobId = newMessageId();\r\n    sendMessage('notification', true, {\r\n      id: jobId,\r\n      type: 'running',\r\n      message: `Adding member to project`,\r\n    });\r\n    const response = await addProjectMember(props.space, authorization, {\r\n      userId,\r\n      projectId: props.project._id,\r\n      type: props.type,\r\n    });\r\n    if (response.status === 200) {\r\n      sendMessage('notification', true, {\r\n        id: jobId,\r\n        type: 'success',\r\n        message: `Member added to project successfully`,\r\n        duration: 3000,\r\n      });\r\n      props.refresh();\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"project-member-section\">\r\n      {users && (\r\n        <OakAutoComplete\r\n          handleChange={addUser}\r\n          objects={users?.map(item => {\r\n            return {\r\n              key: item._id,\r\n              value: `${item.firstName} ${item.lastName}`,\r\n            };\r\n          })}\r\n          label=\"Search for users to add\"\r\n        />\r\n      )}\r\n      {props.project && (\r\n        <div className=\"project-member-section--content\">\r\n          {props.members\r\n            .filter(item => item.type === props.type)\r\n            .map(member => (\r\n              <MemberLink\r\n                user={userMap[member.userId]}\r\n                member={member}\r\n                key={member._id}\r\n                space={props.space}\r\n                refresh={props.refresh}\r\n              />\r\n            ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MemberSection;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport './style.scss';\r\nimport OakPage from '../../../oakui/OakPage';\r\nimport OakSection from '../../../oakui/OakSection';\r\nimport DetailSection from './DetailSection';\r\nimport OakTab from '../../../oakui/OakTab';\r\nimport { getProjectMembers } from '../service';\r\nimport MemberSection from './MemberSection';\r\n\r\nconst queryString = require('query-string');\r\n\r\ninterface Props {\r\n  space: string;\r\n  history: any;\r\n  location: any;\r\n}\r\n\r\nconst ViewProject = (props: Props) => {\r\n  const authorization = useSelector(state => state.authorization);\r\n  const query = queryString.parse(props.location.search);\r\n  const project = useSelector(state =>\r\n    state.project.projects.find(item => item._id === query.id)\r\n  );\r\n  const [members, setMembers] = useState<any[]>([]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      if (project) {\r\n        await fetchMembers();\r\n      }\r\n    })();\r\n  }, [project]);\r\n\r\n  const fetchMembers = async () => {\r\n    const response = await getProjectMembers(\r\n      props.space,\r\n      authorization,\r\n      project._id\r\n    );\r\n\r\n    if (response.status === 200) {\r\n      setMembers(response.data.data);\r\n    }\r\n  };\r\n\r\n  const tabMeta = [\r\n    {\r\n      slotName: 'overview',\r\n      label: 'Overview',\r\n      icon: 'dehaze',\r\n    },\r\n    {\r\n      slotName: 'member',\r\n      label: 'Members',\r\n      icon: 'people',\r\n    },\r\n    {\r\n      slotName: 'administrator',\r\n      label: 'Administrators',\r\n      icon: 'admin_panel_settings',\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <OakPage>\r\n      <OakTab meta={tabMeta} variant=\"fullpage\">\r\n        <div slot=\"overview\">\r\n          <OakSection>\r\n            <DetailSection\r\n              project={project}\r\n              space={props.space}\r\n              history={props.history}\r\n            />\r\n          </OakSection>\r\n        </div>\r\n        <div slot=\"member\">\r\n          <OakSection>\r\n            <MemberSection\r\n              project={project}\r\n              space={props.space}\r\n              history={props.history}\r\n              members={members}\r\n              type=\"MEMBER\"\r\n              refresh={fetchMembers}\r\n            />\r\n          </OakSection>\r\n        </div>\r\n        <div slot=\"administrator\">\r\n          <OakSection>\r\n            <MemberSection\r\n              project={project}\r\n              space={props.space}\r\n              history={props.history}\r\n              members={members}\r\n              type=\"ADMINISTRATOR\"\r\n              refresh={fetchMembers}\r\n            />\r\n          </OakSection>\r\n        </div>\r\n      </OakTab>\r\n    </OakPage>\r\n  );\r\n};\r\n\r\nexport default ViewProject;\r\n","import { httpPut } from '../Lib/RestTemplate';\r\nimport constants from '../Constants';\r\nimport { sendMessage } from '../../events/MessageService';\r\n\r\nexport const saveDomainEndpoint = async (space, authorization, payload) => {\r\n  const response = await httpPut(\r\n    `${constants.API_URL_ENDPOINT_DOMAIN}/${space}/`,\r\n    payload,\r\n    {\r\n      headers: {\r\n        Authorization: authorization.token,\r\n      },\r\n    }\r\n  );\r\n  return response;\r\n};\r\n\r\nexport const saveCustomEndpoint = async (space, authorization, payload) => {\r\n  const response = await httpPut(\r\n    `${constants.API_URL_ENDPOINT_CUSTOM}/${space}/`,\r\n    payload,\r\n    {\r\n      headers: {\r\n        Authorization: authorization.token,\r\n      },\r\n    }\r\n  );\r\n  return response;\r\n};\r\n\r\nexport const saveEndpoint = async (space, authorization, payload) => {\r\n  const response = await httpPut(\r\n    `${constants.API_URL_ENDPOINT}/${space}/`,\r\n    payload,\r\n    {\r\n      headers: {\r\n        Authorization: authorization.token,\r\n      },\r\n    }\r\n  );\r\n  return response;\r\n};\r\n","import React, { useEffect, ReactNode, useState } from 'react';\r\nimport './styles/oak-modal.scss';\r\nimport { Close } from '@material-ui/icons';\r\n\r\ninterface Props {\r\n  visible: boolean;\r\n  toggleVisibility: any;\r\n  label?: string;\r\n  children?: ReactNode;\r\n  fullscreen?: boolean;\r\n  noheader?: boolean;\r\n  donotMobilize?: boolean;\r\n}\r\n\r\nconst OakModal = (props: Props) => {\r\n  const [visible, setVisible] = useState(false);\r\n  useEffect(() => {\r\n    if (visible !== props.visible) {\r\n      if (props.visible) {\r\n        setVisible(props.visible);\r\n      } else {\r\n        setTimeout(() => setVisible(props.visible), 250);\r\n      }\r\n    }\r\n  }, [props.visible]);\r\n\r\n  useEffect(() => {\r\n    // if (visible) {\r\n    //   document.body.classList.add('oak-modal-open');\r\n    // } else {\r\n    //   document.body.classList.remove('oak-modal-open');\r\n    // }\r\n    document.addEventListener('keydown', escFunction, false);\r\n    return () => document.removeEventListener('keydown', escFunction, false);\r\n  }, [visible]);\r\n\r\n  const escFunction = event => {\r\n    if (event.keyCode === 27) {\r\n      if (visible) {\r\n        props.toggleVisibility();\r\n      }\r\n    }\r\n  };\r\n\r\n  const getmodalStyle = () => {\r\n    let style = '';\r\n    style += props.noheader ? ' noheader' : '';\r\n    style += props.fullscreen ? ' fullscreen' : '';\r\n    style += props.donotMobilize ? '' : ' mobilize';\r\n    return style;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {visible && (\r\n        <div\r\n          className={\r\n            props.visible\r\n              ? `modal-root show ${getmodalStyle()}`\r\n              : `modal-root hide ${getmodalStyle()}`\r\n          }\r\n        >\r\n          <div className=\"backdrop-fade\" onClick={props.toggleVisibility} />\r\n          <div className=\"oak-modal\">\r\n            <div className=\"modal\">\r\n              <div\r\n                className={props.visible ? 'container' : 'container hidetext'}\r\n              >\r\n                <div className=\"modal-header\">\r\n                  <div className=\"left\">\r\n                    <div className=\"label one-liner\">{props.label}</div>\r\n                  </div>\r\n                  <div className=\"right\">\r\n                    <div onClick={props.toggleVisibility}>\r\n                      <Close className=\"modal-close-icon\" />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                {props.children}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default OakModal;\r\n","import React, { useState } from 'react';\r\nimport './styles/oak-select.scss';\r\n\r\ninterface Props {\r\n  id: string;\r\n  label?: string;\r\n  handleChange: any;\r\n  error?: boolean;\r\n  data: any;\r\n  elements?: string[];\r\n  objects?: Array<any>;\r\n  first?: string;\r\n  firstAction?: string;\r\n  disabled?: boolean;\r\n  variant?: 'outline' | 'no-outline' | 'block' | 'normal';\r\n  theme?: 'primary' | 'secondary' | 'tertiary' | 'default';\r\n  width?: 'width-25' | 'width-50' | 'width-75' | 'width-100';\r\n}\r\n\r\nconst OakSelect = (props: Props) => {\r\n  const [show, setShow] = useState(false);\r\n\r\n  const changeSelection = (e, newValue) => {\r\n    e.target.name = props.id;\r\n    e.target.value = newValue;\r\n    props.handleChange(e);\r\n    setShow(!show);\r\n  };\r\n\r\n  const getStyle = () => {\r\n    let style = props.theme ? props.theme : '';\r\n    style += props.variant ? ` ${props.variant}` : '';\r\n    style += props.width ? ` ${props.width}` : '';\r\n\r\n    return style;\r\n  };\r\n\r\n  let dropdownList: Array<any> = [];\r\n\r\n  if (props.elements) {\r\n    dropdownList = props.elements.map(item => (\r\n      <div\r\n        className=\"option\"\r\n        key={item}\r\n        onClick={e => changeSelection(e, item)}\r\n      >\r\n        {item}\r\n      </div>\r\n    ));\r\n  } else if (props.objects) {\r\n    dropdownList = props.objects.map(item => (\r\n      <div\r\n        className=\"option\"\r\n        key={item.key}\r\n        onClick={e => changeSelection(e, item.key)}\r\n      >\r\n        {item.value}\r\n      </div>\r\n    ));\r\n  }\r\n\r\n  return (\r\n    <div className=\"oak-select\">\r\n      <select\r\n        onChange={props.handleChange}\r\n        name={props.id}\r\n        className=\"select\"\r\n        value={props.data[props.id]}\r\n        disabled={props.disabled}\r\n      >\r\n        <option value=\"\"> </option>\r\n        {props.firstAction && (\r\n          <option value={props.firstAction}>{props.firstAction}</option>\r\n        )}\r\n        {props.elements?.map(item => (\r\n          <option value={item} key={item}>\r\n            {item}\r\n          </option>\r\n        ))}\r\n        {props.objects?.map(item => (\r\n          <option value={item.key} key={item.key}>\r\n            {item.value}\r\n          </option>\r\n        ))}\r\n      </select>\r\n      {props.label && (\r\n        <label\r\n          htmlFor={props.id}\r\n          className={props.data[props.id] ? 'active' : ''}\r\n        >\r\n          {props.label}\r\n        </label>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OakSelect;\r\n","import React from 'react';\r\nimport './styles/oak-checkbox.scss';\r\n\r\ninterface Props {\r\n  label?: string;\r\n  id: string;\r\n  data: any;\r\n  handleChange: any;\r\n  labelPosition?: 'left' | 'right';\r\n  variant?: 'circle' | 'square';\r\n  theme?: 'primary' | 'secondary' | 'tertiary' | 'default';\r\n  disabled?: boolean;\r\n}\r\nfunction OakCheckbox(props: Props) {\r\n  function handleChange(event) {\r\n    props.handleChange(event);\r\n  }\r\n\r\n  function getStyle() {\r\n    let style = props.theme ? props.theme : '';\r\n    style += props.variant ? ` ${props.variant}` : '';\r\n    return style;\r\n  }\r\n\r\n  return (\r\n    <div className={`oak-check-box ${getStyle()}`}>\r\n      <div className=\"checkbox-container\">\r\n        {/* {props.label && props.labelPosition === 'left' && <div>\r\n                    {props.label}\r\n                </div>} */}\r\n        {/* <input type=\"checkbox\" name={props.id} value={props.data[props.id]} />\r\n                <span className=\"checkbox-style\"></span> */}\r\n        <label className=\"checkbox\">\r\n          <input\r\n            type=\"checkbox\"\r\n            name={props.id}\r\n            checked={props.data[props.id]}\r\n            id={props.id}\r\n            onChange={e => handleChange(e)}\r\n            disabled={props.disabled}\r\n          />\r\n          <label className=\"typography-5\" htmlFor={props.id}>\r\n            {props.label}\r\n          </label>\r\n        </label>\r\n        {/* {props.label && (!props.labelPosition || props.labelPosition === 'right') && <div>\r\n                    {props.label}\r\n                </div>} */}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nOakCheckbox.propTypes = {};\r\n\r\nexport default OakCheckbox;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport OakForm from '../../oakui/OakForm';\r\nimport OakText from '../../oakui/OakText';\r\nimport OakFooter from '../../oakui/OakFooter';\r\nimport OakButton from '../../oakui/OakButton';\r\nimport OakModal from '../../oakui/OakModal';\r\nimport OakSelect from '../../oakui/OakSelect';\r\nimport OakCheckbox from '../../oakui/OakCheckbox';\r\n\r\ninterface Props {\r\n  data: any;\r\n  visible: boolean;\r\n  toggleVisibility: any;\r\n  onSave: any;\r\n}\r\n\r\nconst EditAttribute = (props: Props) => {\r\n  const [state, setState] = useState({\r\n    name: '',\r\n    datatype: '',\r\n    lower: 1,\r\n    upper: 2,\r\n    startSequenceFrom: 0,\r\n    enumValues: '',\r\n    delimiter: ',',\r\n    array: false,\r\n  });\r\n\r\n  useEffect(() => {\r\n    setState({ ...state, ...props.data });\r\n  }, [props.data]);\r\n\r\n  const handleChange = event => {\r\n    setState({\r\n      ...state,\r\n      [event.currentTarget.name]: event.currentTarget.value,\r\n    });\r\n  };\r\n\r\n  const handleNumberChange = event => {\r\n    setState({\r\n      ...state,\r\n      [event.currentTarget.name]: parseInt(event.currentTarget.value, 10),\r\n    });\r\n  };\r\n\r\n  const handleCheckboxChange = event => {\r\n    setState({\r\n      ...state,\r\n      [event.currentTarget.name]: event.currentTarget.checked,\r\n    });\r\n  };\r\n\r\n  const save = () => {\r\n    props.onSave(state);\r\n  };\r\n\r\n  return (\r\n    <OakModal\r\n      visible={props.visible}\r\n      toggleVisibility={props.toggleVisibility}\r\n      label=\"Attribute setting\"\r\n    >\r\n      <div slot=\"modal-body\" className=\"modal-body\">\r\n        <OakForm>\r\n          <OakText\r\n            data={state}\r\n            id=\"name\"\r\n            handleChange={handleChange}\r\n            label=\"Field name\"\r\n          />\r\n          <OakSelect\r\n            data={state}\r\n            id=\"datatype\"\r\n            handleChange={handleChange}\r\n            label=\"Datatype\"\r\n            elements={[\r\n              'object',\r\n              'integer',\r\n              'decimal',\r\n              'char',\r\n              'word',\r\n              'sentence',\r\n              'alphanumeric',\r\n              'boolean',\r\n              'enum',\r\n              'sequence_number',\r\n            ]}\r\n          />\r\n          {['sequence_number'].includes(state.datatype) && (\r\n            <OakText\r\n              data={state}\r\n              id=\"startSequenceFrom\"\r\n              handleChange={handleNumberChange}\r\n              type=\"number\"\r\n              label=\"Start from\"\r\n            />\r\n          )}\r\n          {state.datatype && !['sequence_number', 'boolean', 'enum', 'object'].includes(state.datatype) && (\r\n            <>\r\n              <OakText\r\n                data={state}\r\n                id=\"lower\"\r\n                handleChange={handleNumberChange}\r\n                type=\"number\"\r\n                label=\"Lower bound\"\r\n              />\r\n              <OakText\r\n                data={state}\r\n                id=\"upper\"\r\n                handleChange={handleNumberChange}\r\n                type=\"number\"\r\n                label=\"Upper bound\"\r\n              />\r\n            </>\r\n          )}\r\n          {['enum'].includes(state.datatype) && (<>\r\n          <OakText\r\n            data={state}\r\n            id=\"enumValues\"\r\n            handleChange={handleChange}\r\n            label=\"Possible values\"\r\n          />\r\n          <OakText\r\n            data={state}\r\n            id=\"delimiter\"\r\n            handleChange={handleChange}\r\n            label=\"Possible values delimited by\"\r\n          /></>)}\r\n          {state.datatype &&\r\n          <OakCheckbox\r\n            id=\"array\"\r\n            data={state}\r\n            handleChange={handleCheckboxChange}\r\n            theme=\"primary\"\r\n            variant=\"circle\"\r\n            label=\"Array type\"\r\n          />}\r\n        </OakForm>\r\n      </div>\r\n      <div className=\"modal-footer\">\r\n        <OakButton theme=\"primary\" variant=\"appear\" action={save}>\r\n          Update\r\n        </OakButton>\r\n      </div>\r\n    </OakModal>\r\n  );\r\n};\r\n\r\nexport default EditAttribute;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport './FieldElement.scss';\r\nimport { any } from 'prop-types';\r\nimport { newId } from '../../events/MessageService';\r\nimport EditAttribute from './EditAttribute';\r\n\r\ninterface Props {\r\n  data: any[];\r\n  reference: string | null;\r\n  handleChange: any;\r\n  id: string;\r\n}\r\nconst emptyField = {\r\n  name: '',\r\n  datatype: '',\r\n  lower: 1,\r\n  upper: 2,\r\n  array: false,\r\n  id: '',\r\n};\r\nconst FieldElement = (props: Props) => {\r\n  const [currentField, setCurrentField] = useState<any>();\r\n  const [children, setChildren] = useState<any>();\r\n  const [showEditDialog, setShowEditDialog] = useState(false);\r\n  const [editNodeData, setEditNodeData] = useState<any>({\r\n    ...emptyField,\r\n    parentReference: props.reference,\r\n    reference: newId(),\r\n    id: props.id,\r\n  });\r\n\r\n  useEffect(() => {\r\n    setCurrentField(\r\n      props.data.find(item => item.reference === props.reference)\r\n    );\r\n    setChildren(\r\n      props.data.filter(item => item.parentReference === props.reference)\r\n    );\r\n  }, [props.data, props.reference]);\r\n\r\n  useEffect(() => {\r\n    if (!showEditDialog) {\r\n      setEditNodeData({\r\n        ...emptyField,\r\n        parentReference: props.reference,\r\n        reference: newId(),\r\n      });\r\n    }\r\n  }, [showEditDialog]);\r\n\r\n  const editNode = () => {\r\n    setEditNodeData(currentField);\r\n    setShowEditDialog(true);\r\n  };\r\n\r\n  const newNode = () => {\r\n    setShowEditDialog(true);\r\n  };\r\n\r\n  const onRemoveNode = () => {\r\n    props.handleChange('remove', props.reference, props.id);\r\n  };\r\n\r\n  const onEditNode = updatedNode => {\r\n    props.handleChange('edit', updatedNode, props.id);\r\n    setShowEditDialog(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"field-element\">\r\n        <div className=\"field-element-parent\">\r\n          <div className=\"field-element-parent--title typography-5\">\r\n            {currentField && <div>{currentField?.name}</div>}\r\n            {!currentField && <div>Root</div>}\r\n          </div>\r\n          {currentField && (\r\n            <div className=\"field-element-parent--subtitle typography-4\">\r\n              <div>\r\n                {`Datatype: ${currentField.datatype}${\r\n                  currentField.array ? ' [ ]' : ''\r\n                }`}\r\n              </div>\r\n              {!currentField && <div>Root</div>}\r\n            </div>\r\n          )}\r\n          <div className=\"field-element-parent--action typography-4\">\r\n            {currentField && (\r\n              <>\r\n                <div\r\n                  className=\"field-element-action hyperlink\"\r\n                  onClick={editNode}\r\n                >\r\n                  edit\r\n                </div>\r\n                <div\r\n                  className=\"field-element-action hyperlink\"\r\n                  onClick={onRemoveNode}\r\n                >\r\n                  delete\r\n                </div>\r\n              </>\r\n            )}\r\n            {(!currentField || currentField.datatype === 'object') && (\r\n              <div className=\"field-element-action hyperlink\" onClick={newNode}>\r\n                new-attribute\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        {children?.length > 0 && (\r\n          <div className=\"field-element-children\">\r\n            {children.map(child => (\r\n              <div\r\n                className=\"field-element-children--element\"\r\n                key={child.reference}\r\n              >\r\n                <FieldElement\r\n                  id={props.id}\r\n                  data={props.data}\r\n                  reference={child.reference}\r\n                  handleChange={props.handleChange}\r\n                />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <EditAttribute\r\n        visible={showEditDialog}\r\n        toggleVisibility={() => setShowEditDialog(!showEditDialog)}\r\n        data={editNodeData}\r\n        onSave={onEditNode}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FieldElement;\r\n","import React, { useState } from 'react';\r\n\r\nimport './DataStructureBuilder.scss';\r\nimport FieldElement from './FieldElement';\r\n\r\ninterface Props {\r\n  data: any;\r\n  id: string;\r\n  handleChange: any;\r\n  label: string;\r\n}\r\n\r\nconst DataStructureBuilder = (props: Props) => {\r\n  return (\r\n    <div className=\"data-structure-builder\">\r\n      <div className=\"data-structure-builder--label\">{props.label}</div>\r\n      <FieldElement\r\n        data={props.data[props.id]}\r\n        id={props.id}\r\n        reference={null}\r\n        handleChange={props.handleChange}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DataStructureBuilder;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport './style.scss';\r\nimport OakForm from '../../../oakui/OakForm';\r\nimport OakText from '../../../oakui/OakText';\r\nimport OakFooter from '../../../oakui/OakFooter';\r\nimport OakButton from '../../../oakui/OakButton';\r\nimport {\r\n  saveCustomEndpoint,\r\n  saveDomainEndpoint,\r\n  saveEndpoint,\r\n} from '../service';\r\nimport { sendMessage, newMessageId } from '../../../events/MessageService';\r\nimport DataStructureBuilder from '../../DataStructure/DataStructureBuilder';\r\nimport OakSelect from '../../../oakui/OakSelect';\r\nimport OakSection from '../../../oakui/OakSection';\r\nimport OakSubheading from '../../../oakui/OakSubheading';\r\nimport { fetchAllEndpoints } from '../../../actions/EndpointActions';\r\n\r\ninterface Props {\r\n  space: string;\r\n  history: any;\r\n  projectId: string;\r\n  data?: any;\r\n}\r\n\r\nconst CustomEndpoint = (props: Props) => {\r\n  const goBack = () => props.history.goBack();\r\n  const [state, setState] = useState<any>({\r\n    ...props.data,\r\n    projectId: props.projectId,\r\n    name: '',\r\n    description: '',\r\n    responseType: 'None',\r\n    payloadType: 'None',\r\n    method: 'GET',\r\n    response: [],\r\n    payload: [],\r\n  });\r\n  const dispatch = useDispatch();\r\n  const authorization = useSelector(state => state.authorization);\r\n\r\n  useEffect(() => {\r\n    if (props.data) {\r\n      setState({\r\n        ...state,\r\n        ...props.data,\r\n        projectId: props.projectId,\r\n      });\r\n    } else {\r\n      setState({\r\n        ...state,\r\n        ...props.data,\r\n        projectId: props.projectId,\r\n      });\r\n    }\r\n  }, [props.projectId, props.data]);\r\n\r\n  const handleChange = event => {\r\n    setState({\r\n      ...state,\r\n      [event.currentTarget.name]: event.currentTarget.value,\r\n    });\r\n  };\r\n\r\n  const handleNameChange = event => {\r\n    setState({\r\n      ...state,\r\n      name: event.currentTarget.value\r\n        .toLowerCase()\r\n        .replace(/\\s/g, '')\r\n        .replace(/\\W/g, ''),\r\n    });\r\n  };\r\n\r\n  const handleDataStructureChange = (actionType, changeData, fieldName) => {\r\n    console.log(actionType, changeData, fieldName);\r\n    let newData: any[] = [];\r\n    switch (actionType) {\r\n      case 'remove':\r\n        newData = state[fieldName].filter(\r\n          item =>\r\n            item.parentReference !== changeData && item.reference !== changeData\r\n        );\r\n        break;\r\n\r\n      case 'edit':\r\n        newData = state[fieldName].filter(\r\n          item => item.reference !== changeData.reference\r\n        );\r\n        newData.push({ ...changeData });\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    setState({ ...state, [fieldName]: newData });\r\n  };\r\n\r\n  const save = async () => {\r\n    console.log(props);\r\n    const jobId = newMessageId();\r\n    sendMessage('notification', true, {\r\n      id: jobId,\r\n      type: 'running',\r\n      message: `Saving custom endpoint [${state.name}]`,\r\n    });\r\n    const response = await saveEndpoint(props.space, authorization, {\r\n      ...state,\r\n      type: 'custom',\r\n      projectId: props.projectId,\r\n      alias: []\r\n    });\r\n    console.log(response);\r\n    if (response.status === 200) {\r\n      dispatch(fetchAllEndpoints(props.space, authorization));\r\n      sendMessage('notification', true, {\r\n        id: jobId,\r\n        type: 'success',\r\n        message: `Domain endpoint [${state.name}] saved successfully`,\r\n        duration: 3000,\r\n      });\r\n      props.history.push(`/${props.space}/endpoint?projectId=${props.projectId}`);\r\n    }\r\n  };\r\n\r\n  const handleProjectChange = event => {\r\n    props.history.push(\r\n      `/${props.space}/endpoint/custom/create?projectId=${event.currentTarget.value}`\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <OakForm>\r\n        {props.projectId && (\r\n          <>\r\n            <OakText\r\n              data={state}\r\n              handleChange={handleNameChange}\r\n              id=\"name\"\r\n              label=\"Endpoint name\"\r\n            />\r\n            <OakSelect\r\n              id=\"method\"\r\n              data={state}\r\n              handleChange={handleChange}\r\n              label=\"Request method\"\r\n              elements={['GET', 'POST', 'PUT']}\r\n            />\r\n          </>\r\n        )}\r\n      </OakForm>\r\n      {props.projectId && (\r\n        <>\r\n          {/* <OakForm>\r\n            <OakSubheading title=\"Request payload\" />\r\n            <OakSelect\r\n              data={state}\r\n              handleChange={handleChange}\r\n              elements={['None', 'Object', 'Array']}\r\n              id=\"payloadType\"\r\n              label=\"Payload type\"\r\n            />\r\n            {['Object', 'Array'].includes(state.payloadType) && (\r\n              <DataStructureBuilder\r\n                data={state}\r\n                id=\"payload\"\r\n                label=\"Payload\"\r\n                handleChange={handleDataStructureChange}\r\n              />\r\n            )}\r\n          </OakForm> */}\r\n          <OakForm>\r\n            {/* <OakSubheading title=\"Web service response\" /> */}\r\n            <OakSelect\r\n              data={state}\r\n              handleChange={handleChange}\r\n              elements={['None', 'Object', 'Array']}\r\n              id=\"responseType\"\r\n              label=\"Response type\"\r\n            />\r\n            {['Object', 'Array'].includes(state.responseType) && (\r\n              <DataStructureBuilder\r\n                data={state}\r\n                id=\"response\"\r\n                label=\"Response data structure\"\r\n                handleChange={handleDataStructureChange}\r\n              />\r\n            )}\r\n          </OakForm>\r\n        </>\r\n      )}\r\n      <OakFooter>\r\n        <OakButton theme=\"primary\" variant=\"appear\" action={save}>\r\n          Save\r\n        </OakButton>\r\n        <OakButton theme=\"default\" variant=\"appear\" action={goBack}>\r\n          Close\r\n        </OakButton>\r\n      </OakFooter>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CustomEndpoint;\r\n","import React, { useEffect, useState } from 'react';\r\nimport {\r\n  newId,\r\n  receiveMessage,\r\n  sendMessage,\r\n} from '../../../events/MessageService';\r\n\r\nimport './ApiSpecificationLink.scss';\r\n\r\ninterface Props {\r\n  type: string;\r\n  baseUrl: string;\r\n  extendedUrl?: string;\r\n  pathKey: string;\r\n  endpoint: any;\r\n  handleRemoveAlias?: any;\r\n}\r\n\r\nconst ApiSpecificationLink = (props: Props) => {\r\n  const [copied, setCopied] = useState(false);\r\n\r\n  const [identifier, setIdentifier] = useState(newId());\r\n\r\n  useEffect(() => {\r\n    receiveMessage().subscribe(message => {\r\n      if (message.name === 'clipboard-updated' && message.data !== identifier) {\r\n        setCopied(false);\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  const copy = () => {\r\n    navigator.clipboard.writeText(props.baseUrl + (props.extendedUrl || ''));\r\n    setCopied(true);\r\n    sendMessage('clipboard-updated', true, identifier);\r\n    setTimeout(() => {\r\n      setCopied(false);\r\n    }, 2000);\r\n  };\r\n\r\n  return (\r\n    <div className=\"api-specification-link\">\r\n      <div className=\"api-specification-link--left\">\r\n        <div className={`api-specification-link--left--type ${props.type}`}>\r\n          {props.type}\r\n        </div>\r\n        <div>{props.baseUrl + (props.extendedUrl || '')}</div>\r\n      </div>\r\n      <div className=\"api-specification-link--right\">\r\n        <div\r\n          className={`api-specification-link--right--copied typography-3 ${\r\n            copied ? 'copied-indicator-on' : ''\r\n          }`}\r\n        >\r\n          Copied to clipboard\r\n        </div>\r\n        {props.handleRemoveAlias && (\r\n          <div>\r\n            <i\r\n              className=\"material-icons\"\r\n              onClick={() => props.handleRemoveAlias(props.extendedUrl)}\r\n            >\r\n              delete\r\n            </i>\r\n          </div>\r\n        )}\r\n        <div>\r\n          <i className=\"material-icons\" onClick={copy}>\r\n            content_copy\r\n          </i>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ApiSpecificationLink;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport {\r\n  newId,\r\n  newMessageId,\r\n  receiveMessage,\r\n  sendMessage,\r\n} from '../../../events/MessageService';\r\nimport OakButton from '../../../oakui/OakButton';\r\nimport OakForm from '../../../oakui/OakForm';\r\nimport OakFooter from '../../../oakui/OakFooter';\r\nimport OakText from '../../../oakui/OakText';\r\nimport ApiSpecificationLink from './ApiSpecificationLink';\r\n\r\nimport './style.scss';\r\nimport { saveEndpoint } from '../service';\r\n\r\ninterface Props {\r\n  type: string;\r\n  baseUrl: string;\r\n  extendedUrl?: string;\r\n  pathKey: string;\r\n  endpoint: any;\r\n  space: string;\r\n  history: any;\r\n  noAlias?: boolean;\r\n  minAliasLength?: number;\r\n}\r\n\r\nconst ApiSpecification = (props: Props) => {\r\n  const authorization = useSelector(state => state.authorization);\r\n  const [copied, setCopied] = useState(false);\r\n  const [state, setState] = useState({\r\n    alias: '',\r\n    addNewAlias: false,\r\n  });\r\n  const [identifier, setIdentifier] = useState(newId());\r\n\r\n  useEffect(() => {\r\n    receiveMessage().subscribe(message => {\r\n      if (message.name === 'clipboard-updated' && message.data !== identifier) {\r\n        setCopied(false);\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  const handleChange = event => {\r\n    setState({\r\n      ...state,\r\n      [event.currentTarget.name]: event.currentTarget.value,\r\n    });\r\n  };\r\n\r\n  const addAlias = async () => {\r\n    if (\r\n      props.minAliasLength &&\r\n      state.alias.split('/').length < props.minAliasLength\r\n    ) {\r\n      sendMessage('notification', true, {\r\n        type: 'failure',\r\n        message: `URL has collision with other endpoints. Make the URL unique`,\r\n      });\r\n      return;\r\n    }\r\n    const jobId = newMessageId();\r\n    sendMessage('notification', true, {\r\n      id: jobId,\r\n      type: 'running',\r\n      message: `Saving domain endpoint [${props.endpoint.name}]`,\r\n    });\r\n    const response = await saveEndpoint(props.space, authorization, {\r\n      ...props.endpoint,\r\n      alias: [\r\n        ...props.endpoint.alias,\r\n        { pathKey: props.pathKey, path: `/${state.alias}` },\r\n      ],\r\n    });\r\n    if (response.status === 200) {\r\n      sendMessage('notification', true, {\r\n        id: jobId,\r\n        type: 'success',\r\n        message: `Endpoint [${props.endpoint.name}] saved successfully`,\r\n        duration: 3000,\r\n      });\r\n    }\r\n    reset();\r\n  };\r\n\r\n  const removeAlias = async alias => {\r\n    const jobId = newMessageId();\r\n    sendMessage('notification', true, {\r\n      id: jobId,\r\n      type: 'running',\r\n      message: `Saving endpoint [${props.endpoint.name}]`,\r\n    });\r\n    const response = await saveEndpoint(props.space, authorization, {\r\n      ...props.endpoint,\r\n      alias: props.endpoint.alias.filter(\r\n        item => item.pathKey !== props.pathKey || item.path !== alias\r\n      ),\r\n    });\r\n    if (response.status === 200) {\r\n      sendMessage('notification', true, {\r\n        id: jobId,\r\n        type: 'success',\r\n        message: `Endpoint [${props.endpoint.name}] saved successfully`,\r\n        duration: 3000,\r\n      });\r\n    }\r\n    reset();\r\n  };\r\n\r\n  const reset = () => {\r\n    setState({ ...state, alias: '', addNewAlias: false });\r\n  };\r\n\r\n  return (\r\n    <div className=\"api-specification\">\r\n      <ApiSpecificationLink\r\n        baseUrl={props.baseUrl}\r\n        extendedUrl={props.extendedUrl}\r\n        endpoint={props.endpoint}\r\n        pathKey={props.pathKey}\r\n        type={props.type}\r\n      />\r\n      {!props.noAlias && (\r\n        <>\r\n          {props.endpoint.alias\r\n            .filter(alias => alias.pathKey === props.pathKey)\r\n            .map(alias => (\r\n              <ApiSpecificationLink\r\n                baseUrl={props.baseUrl + (props.extendedUrl || '')}\r\n                extendedUrl={`${alias.path}`}\r\n                endpoint={props.endpoint}\r\n                pathKey={props.pathKey}\r\n                type=\"ALIAS\"\r\n                handleRemoveAlias={removeAlias}\r\n                key={`${props.pathKey}-${alias.path}`}\r\n              />\r\n            ))}\r\n          {/* {state.addNewAlias && (\r\n            <OakText\r\n              data={state}\r\n              id=\"alias\"\r\n              handleChange={handleChange}\r\n              label=\"URL alias\"\r\n              subtitle={`${props.baseUrl}${props.extendedUrl || ''}/${\r\n                state.alias\r\n              }`}\r\n            />\r\n          )}\r\n          <OakFooter>\r\n            {!state.addNewAlias && (\r\n              <OakButton\r\n                action={() => setState({ ...state, addNewAlias: true })}\r\n                theme=\"default\"\r\n                variant=\"appear\"\r\n              >\r\n                Add alias\r\n              </OakButton>\r\n            )}\r\n            {state.addNewAlias && (\r\n              <OakButton\r\n                action={addAlias}\r\n                theme=\"primary\"\r\n                variant={state.alias ? 'regular' : 'disabled'}\r\n              >\r\n                Save\r\n              </OakButton>\r\n            )}\r\n            {state.addNewAlias && (\r\n              <OakButton action={reset} theme=\"default\" variant=\"appear\">\r\n                Close\r\n              </OakButton>\r\n            )}\r\n          </OakFooter> */}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ApiSpecification;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport ApiSpecification from '../ApiSpecification';\r\n\r\nimport './style.scss';\r\n\r\nconst queryString = require('query-string');\r\n\r\ninterface Props {\r\n  space: string;\r\n  history: any;\r\n  endpoint: any;\r\n  project: any;\r\n}\r\n\r\nconst ListApiSpecification = (props: Props) => {\r\n  return (\r\n    <>\r\n      {props.project && props.endpoint && (\r\n        <div className=\"api-specification\">\r\n          <ApiSpecification\r\n            type={props.endpoint.method}\r\n            baseUrl={`${process.env.REACT_APP_API_URL}/api/${props.space}/${props.project.reference}/${props.endpoint.type}/${props.endpoint.name}`}\r\n            pathKey=\"PRIMARY\"\r\n            endpoint={props.endpoint}\r\n            space={props.space}\r\n            history={props.history}\r\n          />\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ListApiSpecification;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport './style.scss';\r\nimport OakPage from '../../../oakui/OakPage';\r\nimport OakSection from '../../../oakui/OakSection';\r\nimport OakTab from '../../../oakui/OakTab';\r\nimport CustomEndpoint from '../CustomEndpoint';\r\nimport ListApiSpecification from './ListApiSpecification';\r\n\r\nconst queryString = require('query-string');\r\n\r\ninterface Props {\r\n  space: string;\r\n  history: any;\r\n  location: any;\r\n}\r\n\r\nconst ViewEndpointCustom = (props: Props) => {\r\n  const [query, setQuery] = useState({\r\n    id: '',\r\n  });\r\n  const dispatch = useDispatch();\r\n  const authorization = useSelector(state => state.authorization);\r\n  const customEndpoint = useSelector(state =>\r\n    state.endpoint.endpoints.find(item => item._id === query.id)\r\n  );\r\n  const project = useSelector(state =>\r\n    state.project.projects.find(item => item._id === customEndpoint?.projectId)\r\n  );\r\n  const goBack = () => props.history.goBack();\r\n\r\n  useEffect(() => {\r\n    const query = queryString.parse(props.location.search);\r\n    setQuery(query);\r\n  }, [props.location.search]);\r\n\r\n  const [projectElements, setProjectElements] = useState<any>([]);\r\n\r\n  return (\r\n    <OakPage>\r\n      <OakTab\r\n        noBookmarking\r\n        variant=\"fullpage\"\r\n        meta={[\r\n          {\r\n            slotName: 'endpoints',\r\n            label: 'API Spec',\r\n            icon: 'link',\r\n          },\r\n          {\r\n            slotName: 'settings',\r\n            label: 'Settings',\r\n            icon: 'settings',\r\n          },\r\n        ]}\r\n      >\r\n        <div slot=\"settings\">\r\n          {customEndpoint && (\r\n            <OakSection>\r\n              <CustomEndpoint\r\n                data={customEndpoint}\r\n                history={props.history}\r\n                space={props.space}\r\n                projectId={customEndpoint?.projectId}\r\n              />\r\n            </OakSection>\r\n          )}\r\n        </div>\r\n        <div slot=\"endpoints\">\r\n          <OakSection>\r\n            <ListApiSpecification\r\n              space={props.space}\r\n              history={props.history}\r\n              endpoint={customEndpoint}\r\n              project={project}\r\n            />\r\n          </OakSection>\r\n        </div>\r\n      </OakTab>\r\n    </OakPage>\r\n  );\r\n};\r\n\r\nexport default ViewEndpointCustom;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport './style.scss';\r\nimport OakForm from '../../../oakui/OakForm';\r\nimport OakText from '../../../oakui/OakText';\r\nimport OakFooter from '../../../oakui/OakFooter';\r\nimport OakButton from '../../../oakui/OakButton';\r\nimport { saveDomainEndpoint, saveEndpoint } from '../service';\r\nimport { sendMessage, newMessageId } from '../../../events/MessageService';\r\nimport DataStructureBuilder from '../../DataStructure/DataStructureBuilder';\r\nimport OakSubheading from '../../../oakui/OakSubheading';\r\nimport OakSelect from '../../../oakui/OakSelect';\r\nimport { fetchAllEndpoints } from '../../../actions/EndpointActions';\r\n\r\ninterface Props {\r\n  space: string;\r\n  history: any;\r\n  projectId: string;\r\n  data?: any;\r\n}\r\n\r\nconst DomainEndpoint = (props: Props) => {\r\n  const goBack = () => props.history.goBack();\r\n  const [state, setState] = useState<any>({\r\n    projectId: props.projectId,\r\n    name: '',\r\n    description: '',\r\n    key: '',\r\n    response: [],\r\n  });\r\n  const [keyList, setKeyList] = useState<any[]>([\r\n    { key: 'None', value: 'None - We do not have a unique identifier' },\r\n  ]);\r\n  const dispatch = useDispatch();\r\n  const authorization = useSelector(state => state.authorization);\r\n\r\n  useEffect(() => {\r\n    if (props.data) {\r\n      setState({\r\n        ...state,\r\n        ...props.data,\r\n        projectId: props.projectId,\r\n      });\r\n    } else {\r\n      setState({\r\n        ...state,\r\n        projectId: props.projectId,\r\n      });\r\n    }\r\n  }, [props.projectId, props.data]);\r\n\r\n  useEffect(() => {\r\n    setKeyList([\r\n      { key: 'None', value: 'None - We do not have a unique identifier' },\r\n      ...state.response\r\n        .filter(node => {\r\n          if (\r\n            !node.parentReference &&\r\n            node.datatype !== 'object' &&\r\n            !node.array\r\n          ) {\r\n            return true;\r\n          }\r\n        })\r\n        .map(node => {\r\n          return { key: node.reference, value: node.name };\r\n        }),\r\n    ]);\r\n  }, [state.response]);\r\n\r\n  const handleChange = event => {\r\n    setState({\r\n      ...state,\r\n      [event.currentTarget.name]: event.currentTarget.value,\r\n    });\r\n  };\r\n\r\n  const handleNameChange = event => {\r\n    setState({\r\n      ...state,\r\n      name: event.currentTarget.value\r\n        .toLowerCase()\r\n        .replace(/\\s/g, '')\r\n        .replace(/\\W/g, ''),\r\n    });\r\n  };\r\n\r\n  const handleDataStructureChange = (actionType, changeData) => {\r\n    console.log(actionType, changeData);\r\n    let newData: any[] = [];\r\n    switch (actionType) {\r\n      case 'remove':\r\n        newData = state.response.filter(\r\n          item =>\r\n            item.parentReference !== changeData && item.reference !== changeData\r\n        );\r\n        break;\r\n\r\n      case 'edit':\r\n        newData = state.response.filter(\r\n          item => item.reference !== changeData.reference\r\n        );\r\n        newData.push({ ...changeData });\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    setState({ ...state, response: newData });\r\n  };\r\n\r\n  const save = async () => {\r\n    console.log(props);\r\n    const jobId = newMessageId();\r\n    sendMessage('notification', true, {\r\n      id: jobId,\r\n      type: 'running',\r\n      message: `Saving domain endpoint [${state.name}]`,\r\n    });\r\n    const response = await saveEndpoint(props.space, authorization, {\r\n      ...state,\r\n      type: 'domain',\r\n      projectId: props.projectId,\r\n      alias: []\r\n    });\r\n    console.log(response);\r\n    if (response.status === 200) {\r\n      dispatch(fetchAllEndpoints(props.space, authorization));\r\n      sendMessage('notification', true, {\r\n        id: jobId,\r\n        type: 'success',\r\n        message: `Domain endpoint [${state.name}] saved successfully`,\r\n        duration: 3000,\r\n      });\r\n      props.history.push(`/${props.space}/endpoint?projectId=${props.projectId}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {props.projectId && (\r\n        <OakForm>\r\n          <OakText\r\n            data={state}\r\n            id=\"name\"\r\n            handleChange={handleNameChange}\r\n            label=\"Name of the domain\"\r\n          />\r\n          <DataStructureBuilder\r\n            data={state}\r\n            id=\"response\"\r\n            label=\"Domain data structure\"\r\n            handleChange={handleDataStructureChange}\r\n          />\r\n          <OakSelect\r\n            data={state}\r\n            id=\"key\"\r\n            handleChange={handleChange}\r\n            objects={keyList}\r\n            label=\"Primary key\"\r\n          />\r\n        </OakForm>\r\n      )}\r\n      <OakFooter>\r\n        <OakButton theme=\"primary\" variant=\"appear\" action={save}>\r\n          Save\r\n        </OakButton>\r\n        <OakButton theme=\"default\" variant=\"appear\" action={goBack}>\r\n          Close\r\n        </OakButton>\r\n      </OakFooter>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DomainEndpoint;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport ApiSpecification from '../ApiSpecification';\r\n\r\nimport './style.scss';\r\n\r\nconst queryString = require('query-string');\r\n\r\ninterface Props {\r\n  space: string;\r\n  history: any;\r\n  endpoint: any;\r\n  project: any;\r\n}\r\n\r\nconst ListApiSpecification = (props: Props) => {\r\n  const [baseUrl, setBaseUrl] = useState(\r\n    `${process.env.REACT_APP_API_URL}/api/${props.space}/${props.project.reference}/${props.endpoint.type}/${props.endpoint.name}`\r\n  );\r\n  useEffect(() => {\r\n    setBaseUrl(\r\n      `${process.env.REACT_APP_API_URL}/api/${props.space}/${props.project.reference}/${props.endpoint.type}/${props.endpoint.name}`\r\n    );\r\n  }, [props]);\r\n  return (\r\n    <>\r\n      {props.project && props.endpoint && (\r\n        <div className=\"api-specification-list\">\r\n          <ApiSpecification\r\n            type=\"GET\"\r\n            pathKey=\"GET_ALL\"\r\n            baseUrl={baseUrl}\r\n            space={props.space}\r\n            history={props.history}\r\n            endpoint={props.endpoint}\r\n            minAliasLength={2}\r\n          />\r\n          <ApiSpecification\r\n            type=\"GET\"\r\n            pathKey=\"GET_BY_ID\"\r\n            baseUrl={baseUrl}\r\n            extendedUrl=\"/:id\"\r\n            space={props.space}\r\n            history={props.history}\r\n            endpoint={props.endpoint}\r\n            noAlias\r\n          />\r\n          <ApiSpecification\r\n            type=\"PUT\"\r\n            pathKey=\"PUT\"\r\n            baseUrl={baseUrl}\r\n            space={props.space}\r\n            history={props.history}\r\n            endpoint={props.endpoint}\r\n          />\r\n          <ApiSpecification\r\n            type=\"POST\"\r\n            pathKey=\"POST\"\r\n            baseUrl={baseUrl}\r\n            space={props.space}\r\n            history={props.history}\r\n            endpoint={props.endpoint}\r\n          />\r\n          <ApiSpecification\r\n            type=\"DELETE\"\r\n            pathKey=\"DELETE_BY_ID\"\r\n            baseUrl={baseUrl}\r\n            extendedUrl=\"/:id\"\r\n            space={props.space}\r\n            history={props.history}\r\n            endpoint={props.endpoint}\r\n          />\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ListApiSpecification;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport './style.scss';\r\nimport OakPage from '../../../oakui/OakPage';\r\nimport OakSection from '../../../oakui/OakSection';\r\nimport OakTab from '../../../oakui/OakTab';\r\nimport { newMessageId, sendMessage } from '../../../events/MessageService';\r\nimport { saveDomainEndpoint } from '../service';\r\nimport DomainEndpoint from '../DomainEndpoint';\r\nimport ListApiSpecification from './ListApiSpecification';\r\n\r\nconst queryString = require('query-string');\r\n\r\ninterface Props {\r\n  space: string;\r\n  history: any;\r\n  location: any;\r\n}\r\n\r\nconst ViewEndpointDomain = (props: Props) => {\r\n  const [query, setQuery] = useState({\r\n    id: '',\r\n  });\r\n  const dispatch = useDispatch();\r\n  const authorization = useSelector(state => state.authorization);\r\n  const domainEndpoint = useSelector(state =>\r\n    state.endpoint.endpoints.find(item => item._id === query.id)\r\n  );\r\n  const project = useSelector(state =>\r\n    state.project.projects.find(item => item._id === domainEndpoint?.projectId)\r\n  );\r\n  const goBack = () => props.history.goBack();\r\n\r\n  const [state, setState] = useState<any>({\r\n    projectId: '',\r\n    name: '',\r\n    description: '',\r\n    response: [],\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (domainEndpoint) {\r\n      setState({ ...domainEndpoint });\r\n    }\r\n  }, [domainEndpoint]);\r\n\r\n  useEffect(() => {\r\n    const query = queryString.parse(props.location.search);\r\n    setQuery(query);\r\n  }, [props.location.search]);\r\n\r\n  const [projectElements, setProjectElements] = useState<any>([]);\r\n\r\n  const handleChange = event => {\r\n    setState({\r\n      ...state,\r\n      [event.currentTarget.name]: event.currentTarget.value,\r\n    });\r\n  };\r\n\r\n  const handleNameChange = event => {\r\n    setState({\r\n      ...state,\r\n      name: event.currentTarget.value\r\n        .toLowerCase()\r\n        .replace(/\\s/g, '')\r\n        .replace(/\\W/g, ''),\r\n    });\r\n  };\r\n\r\n  const handleDataStructureChange = (actionType, changeData) => {\r\n    console.log(actionType, changeData);\r\n    let newData: any[] = [];\r\n    switch (actionType) {\r\n      case 'remove':\r\n        newData = state.response.filter(\r\n          item =>\r\n            item.parentReference !== changeData && item.reference !== changeData\r\n        );\r\n        break;\r\n\r\n      case 'edit':\r\n        newData = state.response.filter(\r\n          item => item.reference !== changeData.reference\r\n        );\r\n        newData.push({ ...changeData });\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    setState({ ...state, response: newData });\r\n  };\r\n\r\n  const save = async () => {\r\n    const jobId = newMessageId();\r\n    sendMessage('notification', true, {\r\n      id: jobId,\r\n      type: 'running',\r\n      message: `Saving domain endpoint [${state.name}]`,\r\n    });\r\n    const response = await saveDomainEndpoint(props.space, authorization, {\r\n      ...state,\r\n    });\r\n    if (response.status === 200) {\r\n      sendMessage('notification', true, {\r\n        id: jobId,\r\n        type: 'success',\r\n        message: `Domain endpoint [${state.name}] saved successfully`,\r\n        duration: 3000,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <OakPage>\r\n      <OakTab\r\n        noBookmarking\r\n        variant=\"fullpage\"\r\n        meta={[\r\n          {\r\n            slotName: 'endpoints',\r\n            label: 'API Spec',\r\n            icon: 'link',\r\n          },\r\n          {\r\n            slotName: 'settings',\r\n            label: 'Settings',\r\n            icon: 'settings',\r\n          },\r\n        ]}\r\n      >\r\n        <div slot=\"settings\">\r\n          {domainEndpoint && (\r\n            <OakSection>\r\n              <DomainEndpoint\r\n                data={domainEndpoint}\r\n                history={props.history}\r\n                space={props.space}\r\n                projectId={domainEndpoint?.projectId}\r\n              />\r\n            </OakSection>\r\n          )}\r\n        </div>\r\n        <div slot=\"endpoints\">\r\n          <OakSection>\r\n            <ListApiSpecification\r\n              space={props.space}\r\n              history={props.history}\r\n              endpoint={domainEndpoint}\r\n              project={project}\r\n            />\r\n          </OakSection>\r\n        </div>\r\n      </OakTab>\r\n    </OakPage>\r\n  );\r\n};\r\n\r\nexport default ViewEndpointDomain;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport './style.scss';\r\nimport OakPage from '../../../oakui/OakPage';\r\nimport OakSection from '../../../oakui/OakSection';\r\nimport OakHeading from '../../../oakui/OakHeading';\r\nimport OakSelect from '../../../oakui/OakSelect';\r\nimport OakForm from '../../../oakui/OakForm';\r\nimport OakSubheading from '../../../oakui/OakSubheading';\r\nimport CustomEndpoint from '../CustomEndpoint';\r\nimport DomainEndpoint from '../DomainEndpoint';\r\n\r\nconst queryString = require('query-string');\r\n\r\ninterface Props {\r\n  space: string;\r\n  history: any;\r\n  location: any;\r\n}\r\n\r\nconst emptyEndpoint = {\r\n  name: '',\r\n  description: '',\r\n  response: [],\r\n};\r\n\r\nconst CreateEndpoint = (props: Props) => {\r\n  const goBack = () => props.history.goBack();\r\n  const projects = useSelector(state => state.project.projects);\r\n  const [state, setState] = useState({\r\n    type: 'Domain endpoint',\r\n    projectId: '',\r\n  });\r\n\r\n  useEffect(() => {\r\n    const query = queryString.parse(props.location.search);\r\n    setState({ ...state, projectId: query?.projectId, type: query?.type });\r\n  }, [props.location.search]);\r\n\r\n  const [projectElements, setProjectElements] = useState<any>([]);\r\n\r\n  useEffect(() => {\r\n    const localState: any[] = [];\r\n    projects.map(item => {\r\n      localState.push({ key: item._id, value: item.name });\r\n    });\r\n    setProjectElements(localState);\r\n  }, [projects]);\r\n\r\n  const handleChange = event => {\r\n    setState({\r\n      ...state,\r\n      [event.currentTarget.name]: event.currentTarget.value,\r\n    });\r\n  };\r\n\r\n  const handleProjectChange = event => {\r\n    props.history.push(\r\n      `/${props.space}/endpoint/create?projectId=${event.currentTarget.value}&type=${state.type}`\r\n    );\r\n  };\r\n\r\n  const handleTypeChange = event => {\r\n    props.history.push(\r\n      `/${props.space}/endpoint/create?projectId=${state.projectId}&type=${event.currentTarget.value}`\r\n    );\r\n  };\r\n\r\n  return (\r\n    <OakPage>\r\n      <OakSection>\r\n        <OakHeading\r\n          title=\"New Endpoint\"\r\n          links={[\r\n            {\r\n              label: 'Back',\r\n              icon: 'reply',\r\n              action: goBack,\r\n            },\r\n          ]}\r\n          linkSize=\"large\"\r\n        />\r\n        <OakForm>\r\n          <OakSubheading title=\"Basic details\" />\r\n          <OakSelect\r\n            id=\"projectId\"\r\n            data={state}\r\n            handleChange={handleProjectChange}\r\n            label=\"Project\"\r\n            objects={projectElements}\r\n          />\r\n          <OakSelect\r\n            id=\"type\"\r\n            data={state}\r\n            handleChange={handleTypeChange}\r\n            label=\"Endpoint type\"\r\n            objects={[\r\n              { key: 'domain', value: 'Domain endpoint' },\r\n              { key: 'custom', value: 'Custom endpoint' },\r\n            ]}\r\n          />\r\n        </OakForm>\r\n        {state.projectId && state.type === 'domain' && (\r\n          <DomainEndpoint\r\n            space={props.space}\r\n            history={props.history}\r\n            projectId={state.projectId}\r\n          />\r\n        )}\r\n        {state.projectId && state.type === 'custom' && (\r\n          <CustomEndpoint\r\n            space={props.space}\r\n            history={props.history}\r\n            projectId={state.projectId}\r\n          />\r\n        )}\r\n      </OakSection>\r\n    </OakPage>\r\n  );\r\n};\r\n\r\nexport default CreateEndpoint;\r\n","import React, { useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport './EndpointLink.scss';\r\n\r\ninterface Props {\r\n  space: string;\r\n  history: any;\r\n  endpoint: any;\r\n}\r\n\r\nconst EndpointLink = (props: Props) => {\r\n  const goToViewPage = () =>\r\n    props.history.push(\r\n      `/${props.space}/endpoint/${props.endpoint.type}/view?id=${props.endpoint._id}`\r\n    );\r\n  return (\r\n    <div className=\"endpoint-link\" onClick={goToViewPage}>\r\n      <div className=\"endpoint-link--left typography-6\">\r\n        <div>{props.endpoint.name}</div>\r\n        <div className=\"endpoint-link--left--method typography-3\">\r\n          {props.endpoint.method}\r\n        </div>\r\n      </div>\r\n      <div className=\"endpoint-link--type typography-3\">\r\n        {props.endpoint.type.toUpperCase()}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EndpointLink;\r\n","import React, { useState, useEffect } from 'react';\r\nimport './styles/oak-form.scss';\r\n\r\ninterface Props {\r\n  children?: any;\r\n}\r\n\r\nconst OakFormRow = (props: Props) => {\r\n  return (\r\n    <div className=\"oak-form-row\">\r\n      <div className=\"oak-form-row--container\">{props.children}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OakFormRow;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport './style.scss';\r\nimport OakPage from '../../../oakui/OakPage';\r\nimport OakSection from '../../../oakui/OakSection';\r\nimport OakHeading from '../../../oakui/OakHeading';\r\nimport OakForm from '../../../oakui/OakForm';\r\nimport OakSelect from '../../../oakui/OakSelect';\r\nimport OakButton from '../../../oakui/OakButton';\r\nimport OakFooter from '../../../oakui/OakFooter';\r\nimport EndpointLink from './EndpointLink';\r\nimport OakFormRow from '../../../oakui/OakFormRow';\r\n\r\nconst queryString = require('query-string');\r\n\r\ninterface Props {\r\n  space: string;\r\n  history: any;\r\n  location: any;\r\n}\r\n\r\nconst ListEndpoint = (props: Props) => {\r\n  const projects = useSelector(state => state.project.projects);\r\n  const [state, setState] = useState({\r\n    projectId: '',\r\n  });\r\n  const [endpoints, setEndpoints] = useState<any[]>();\r\n  const [projectElements, setProjectElements] = useState<any>([]);\r\n\r\n  const allEndpoints = useSelector(state => state.endpoint.endpoints);\r\n\r\n  useEffect(() => {\r\n    setEndpoints(\r\n      allEndpoints.filter(item => item.projectId === state.projectId)\r\n    );\r\n  }, [state.projectId, allEndpoints]);\r\n\r\n  useEffect(() => {\r\n    const query = queryString.parse(props.location.search);\r\n    setState({ ...state, projectId: query?.projectId });\r\n  }, [props.location.search]);\r\n\r\n  useEffect(() => {\r\n    const localState: any[] = [];\r\n    projects.map(item => {\r\n      localState.push({ key: item._id, value: item.name });\r\n    });\r\n    setProjectElements(localState);\r\n  }, [projects]);\r\n\r\n  const gotoCreatePage = () =>\r\n    props.history.push(\r\n      `/${props.space}/endpoint/create?projectId=${state.projectId}`\r\n    );\r\n\r\n  const handleProjectChange = event => {\r\n    props.history.push(\r\n      `/${props.space}/endpoint?projectId=${event.currentTarget.value}`\r\n    );\r\n  };\r\n\r\n  return (\r\n    <OakPage>\r\n      <OakSection>\r\n        <OakHeading\r\n          title=\"Endpoint management console\"\r\n          subtitle=\"Creation and maintainance of your project API endpoints\"\r\n        />\r\n        <OakFormRow>\r\n          <OakSelect\r\n            id=\"projectId\"\r\n            data={state}\r\n            handleChange={handleProjectChange}\r\n            label=\"Choose project\"\r\n            objects={projectElements}\r\n          />\r\n          </OakFormRow>\r\n        {state.projectId && (\r\n          <>\r\n            <OakFooter>\r\n              <OakButton\r\n                action={gotoCreatePage}\r\n                theme=\"primary\"\r\n                variant=\"appear\"\r\n              >\r\n                New endpoint\r\n              </OakButton>\r\n            </OakFooter>\r\n            <div className=\"list-domain\">\r\n              {endpoints?.map(item => (\r\n                <EndpointLink\r\n                  key={item._id}\r\n                  space={props.space}\r\n                  endpoint={item}\r\n                  history={props.history}\r\n                />\r\n              ))}\r\n              {!endpoints ||\r\n                (endpoints.length === 0 && (\r\n                  <div className=\"typography-4\">No endpoints yet</div>\r\n                ))}\r\n            </div>\r\n          </>\r\n        )}\r\n      </OakSection>\r\n    </OakPage>\r\n  );\r\n};\r\n\r\nexport default ListEndpoint;\r\n","import React from 'react';\r\n\r\nimport { Route } from 'react-router-dom';\r\nimport './RouterView.scss';\r\nimport Home from '../Home';\r\nimport OaLogin from '../Auth/OaLogin';\r\nimport Landing from '../Landing';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\nimport Tenant from '../Tenant';\r\nimport OakRoute from '../Auth/OakRoute';\r\nimport Unauthorized from '../Auth/Unauthorized';\r\nimport OneAuth from '../Login/OneAuth/index';\r\nimport Login from '../Login/index';\r\nimport ListProject from '../Project/ListProject';\r\nimport CreateProject from '../Project/CreateProject';\r\nimport ViewProject from '../Project/ViewProject';\r\nimport ViewEndpointCustom from '../Endpoint/ViewEndpointCustom';\r\nimport ViewEndpointDomain from '../Endpoint/ViewEndpointDomain';\r\nimport CreateEndpoint from '../Endpoint/CreateEndpoint';\r\nimport ListEndpoint from '../Endpoint/ListEndpoint';\r\n\r\ninterface Props {\r\n  cookies: any;\r\n}\r\n\r\nconst RouterView = (props: Props) => {\r\n  return (\r\n    <div className=\"router-view\">\r\n      <Route\r\n        path=\"/login\"\r\n        render={propsLocal => (\r\n          <OakRoute {...propsLocal} {...props} component={OaLogin} />\r\n        )}\r\n      />\r\n      <Route\r\n        path=\"/:space/unauthorized\"\r\n        render={propsLocal => (\r\n          <OakRoute\r\n            {...propsLocal}\r\n            {...props}\r\n            component={Unauthorized}\r\n            middleware={['isAuthenticated']}\r\n          />\r\n        )}\r\n      />\r\n      <Route\r\n        path=\"/\"\r\n        exact\r\n        render={propsLocal => (\r\n          <OakRoute {...propsLocal} {...props} component={Landing} />\r\n        )}\r\n      />\r\n      <Route\r\n        path=\"/home\"\r\n        exact\r\n        render={propsLocal => (\r\n          <OakRoute {...propsLocal} {...props} component={Landing} />\r\n        )}\r\n      />\r\n      <Route\r\n        path=\"/tenant\"\r\n        exact\r\n        render={propsLocal => (\r\n          <OakRoute {...propsLocal} {...props} component={Tenant} />\r\n        )}\r\n      />\r\n      <Route\r\n        path=\"/:space/home\"\r\n        render={propsLocal => (\r\n          <OakRoute\r\n            {...propsLocal}\r\n            {...props}\r\n            component={Home}\r\n            middleware={['authenticate']}\r\n          />\r\n        )}\r\n      />\r\n      <Route\r\n        path=\"/:space/login/home\"\r\n        render={propsLocal => (\r\n          <OakRoute\r\n            {...propsLocal}\r\n            {...props}\r\n            component={Login}\r\n            middleware={['readAuthentication']}\r\n          />\r\n        )}\r\n      />\r\n      <Route\r\n        path=\"/:space/login/oa\"\r\n        render={propsLocal => (\r\n          <OakRoute\r\n            {...propsLocal}\r\n            {...props}\r\n            component={OneAuth}\r\n            middleware={['readAuthentication']}\r\n          />\r\n        )}\r\n      />\r\n      <Route\r\n        path=\"/:space/project\"\r\n        exact\r\n        render={propsLocal => (\r\n          <OakRoute\r\n            {...propsLocal}\r\n            {...props}\r\n            component={ListProject}\r\n            middleware={['authenticate']}\r\n          />\r\n        )}\r\n      />\r\n      <Route\r\n        path=\"/:space/project/view\"\r\n        render={propsLocal => (\r\n          <OakRoute\r\n            {...propsLocal}\r\n            {...props}\r\n            component={ViewProject}\r\n            middleware={['authenticate']}\r\n          />\r\n        )}\r\n      />\r\n      <Route\r\n        path=\"/:space/project/create\"\r\n        render={propsLocal => (\r\n          <OakRoute\r\n            {...propsLocal}\r\n            {...props}\r\n            component={CreateProject}\r\n            middleware={['authenticate']}\r\n          />\r\n        )}\r\n      />\r\n      <Route\r\n        path=\"/:space/endpoint\"\r\n        exact\r\n        render={propsLocal => (\r\n          <OakRoute\r\n            {...propsLocal}\r\n            {...props}\r\n            component={ListEndpoint}\r\n            middleware={['authenticate']}\r\n          />\r\n        )}\r\n      />\r\n      <Route\r\n        path=\"/:space/endpoint/create\"\r\n        render={propsLocal => (\r\n          <OakRoute\r\n            {...propsLocal}\r\n            {...props}\r\n            component={CreateEndpoint}\r\n            middleware={['authenticate']}\r\n          />\r\n        )}\r\n      />\r\n      <Route\r\n        path=\"/:space/endpoint/domain/view\"\r\n        render={propsLocal => (\r\n          <OakRoute\r\n            {...propsLocal}\r\n            {...props}\r\n            component={ViewEndpointDomain}\r\n            middleware={['authenticate']}\r\n          />\r\n        )}\r\n      />\r\n      <Route\r\n        path=\"/:space/endpoint/custom/view\"\r\n        render={propsLocal => (\r\n          <OakRoute\r\n            {...propsLocal}\r\n            {...props}\r\n            component={ViewEndpointCustom}\r\n            middleware={['authenticate']}\r\n          />\r\n        )}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RouterView;\r\n","import React, { useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport './BodyContainer.scss';\r\nimport Topbar from '../Topbar';\r\nimport RouterView from './RouterView';\r\n\r\ninterface Props {\r\n  cookies: any;\r\n}\r\n\r\nconst BodyContainer = (props: Props) => {\r\n  const authorization = useSelector(state => state.authorization);\r\n  const profile = useSelector(state => state.profile);\r\n  const [space, setSpace] = useState('');\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <div className=\"body-container\">\r\n      <div\r\n        className={`body-container--content ${\r\n          profile.sidebar ? 'sidebar-shown' : 'sidebar-hidden'\r\n        }`}\r\n      >\r\n        <RouterView {...props} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BodyContainer;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport Chart from 'chart.js';\r\n\r\nimport './style.scss';\r\nimport { HashRouter } from 'react-router-dom/cjs/react-router-dom.min';\r\nimport { withCookies } from 'react-cookie';\r\n\r\nimport Notification from '../Notification';\r\nimport { fetchAllSpaces } from '../../actions/SpaceActions';\r\nimport Init from './Init';\r\nimport TopbarContainer from './TopbarContainer';\r\nimport SidebarContainer from './SidebarContainer';\r\nimport BodyContainer from './BodyContainer';\r\n\r\ninterface Props {\r\n  cookies: any;\r\n}\r\n\r\nconst Content = (props: Props) => {\r\n  const profile = useSelector(state => state.profile);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchAllSpaces());\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    Chart.defaults.global.defaultFontColor =\r\n      profile.theme === 'theme_dark' ? '#e0e0e0' : '#626262';\r\n  }, [profile]);\r\n\r\n  return (\r\n    <div\r\n      className={`App ${profile.theme} ${profile.textSize} ${profile.themeColor}`}\r\n    >\r\n      <HashRouter>\r\n        <Init />\r\n        <Notification />\r\n        <TopbarContainer cookies={props.cookies} />\r\n        <SidebarContainer />\r\n        <BodyContainer {...props} />\r\n      </HashRouter>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withCookies(Content);\r\n","/* eslint-disable import/prefer-default-export */\r\nimport axios from 'axios';\r\nimport { REFRESH_SPACES } from './types';\r\n\r\nexport const fetchAllSpaces = () => dispatch => {\r\n  axios\r\n    .get(`${process.env.REACT_APP_ONEAUTH_API_URL}/space/introspect`)\r\n    .then(response => {\r\n      console.log(response.data.data);\r\n      dispatch({\r\n        type: REFRESH_SPACES,\r\n        payload: { spaces: response.data.data },\r\n      });\r\n    });\r\n};\r\n","import React from 'react';\r\nimport cookie from 'react-cookie';\r\nimport { Provider } from 'react-redux';\r\nimport store from '../../store';\r\nimport './style.scss';\r\nimport './metric.scss';\r\nimport Content from './Content';\r\n\r\nconst App = props => {\r\n  return (\r\n    <Provider store={store}>\r\n      <Content {...props} />\r\n    </Provider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport { CookiesProvider } from 'react-cookie';\r\nimport App from './components/App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <CookiesProvider>\r\n    <App />\r\n  </CookiesProvider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}