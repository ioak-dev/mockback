(this.webpackJsonpmockback=this.webpackJsonpmockback||[]).push([[0],{101:function(e,t,a){},102:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},170:function(e,t,a){},171:function(e,t,a){},172:function(e,t,a){},173:function(e,t,a){},174:function(e,t,a){},175:function(e,t,a){},179:function(e,t,a){e.exports=a.p+"static/media/mockback_white.182166ff.svg"},180:function(e,t,a){e.exports=a.p+"static/media/mockback_black.fb9493fe.svg"},184:function(e,t,a){e.exports=a(394)},189:function(e,t,a){},194:function(e,t,a){},196:function(e,t,a){},213:function(e,t,a){},214:function(e,t,a){},215:function(e,t,a){},217:function(e,t,a){},218:function(e,t,a){},219:function(e,t,a){},220:function(e,t,a){},221:function(e,t,a){},222:function(e,t,a){},223:function(e,t,a){},224:function(e,t,a){},225:function(e,t,a){},226:function(e,t,a){},227:function(e,t,a){},228:function(e,t,a){},229:function(e,t,a){},230:function(e,t,a){},231:function(e,t,a){},244:function(e,t,a){},245:function(e,t,a){},246:function(e,t,a){},247:function(e,t,a){},253:function(e,t){},255:function(e,t){},265:function(e,t){},267:function(e,t){},294:function(e,t){},296:function(e,t){},297:function(e,t){},302:function(e,t){},304:function(e,t){},311:function(e,t){},313:function(e,t){},331:function(e,t){},333:function(e,t){},345:function(e,t){},348:function(e,t){},375:function(e,t,a){},376:function(e,t,a){},377:function(e,t,a){},378:function(e,t,a){},379:function(e,t,a){},380:function(e,t,a){},381:function(e,t,a){},382:function(e,t,a){},383:function(e,t,a){},384:function(e,t,a){},385:function(e,t,a){},386:function(e,t,a){},387:function(e,t,a){},388:function(e,t,a){},389:function(e,t,a){},390:function(e,t,a){},391:function(e,t,a){},392:function(e,t,a){},393:function(e,t,a){},394:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(65),o=a.n(r),i=(a(189),a(416)),l=a(2),s=a(32),u=a(177),m=a(1),d={isAuth:!1,firstname:"",lastname:""},p={theme:"theme_dark",textSize:"textsize_medium",themeColor:"themecolor1",sidebar:!1,hideSidebarOnDesktop:!0},f={users:[]},b={assets:[]},h={projects:[]},E={endpoints:[]},v=Object(s.c)({authorization:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_AUTH":return console.log("GET_AUTH reducer"),Object(m.a)({},e);case"ADD_AUTH":return console.log("ADD_AUTH reducer"),Object(m.a)(Object(m.a)({},e),t.payload);case"REMOVE_AUTH":return console.log("REMOVE_AUTH reducer"),Object(m.a)(Object(m.a)({},e),{},{isAuth:!1,firstname:"",lastname:""});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PROFILE":return console.log("GET_PROFILE reducer"),Object(m.a)({},e);case"SET_PROFILE":return console.log("SET_PROFILE reducer"),Object(m.a)(Object(m.a)({},e),t.payload);default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USER":return console.log("GET_USER reducer"),Object(m.a)({},e);case"ADD_USER":return console.log("ADD_USER reducer"),Object(m.a)(Object(m.a)({},e),t.payload);case"FETCH_ALL_USERS":return console.log("FETCH_ALL_USERS reducer"),console.log(t),Object(m.a)(Object(m.a)({},e),t.payload);default:return e}},space:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REFRESH_SPACES":return console.log("GET_AUTH reducer"),Object(m.a)(Object(m.a)({},e),t.payload);default:return e}},project:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RELOAD_PROJECTS":return console.log("RELOAD_PROJECTS reducer"),Object(m.a)(Object(m.a)({},e),t.payload);default:return e}},endpoint:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RELOAD_ENDPOINTS":return console.log("RELOAD_ENDPOINTS reducer"),Object(m.a)(Object(m.a)({},e),t.payload);default:return e}}}),j=[u.a],g=Object(s.e)(v,{},Object(s.d)(s.a.apply(void 0,j))),O=(a(101),a(194),a(178)),y=a.n(O),N=a(181),k=a(415),_=a(49),w=a(4),A=(a(102),a(417)),C=a(418),I=new A.a;function R(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2?arguments[2]:void 0;I.next({name:e,signal:t,data:a})}function S(){return I.asObservable()}function T(){return Math.random()}function P(){return Object(C.a)()}a(196);var U=function(){return c.a.createElement("div",null,c.a.createElement("div",{className:"oak-spinner"},c.a.createElement("div",{className:"spinner-wrapper"},c.a.createElement("span",null),c.a.createElement("span",null),c.a.createElement("span",null),c.a.createElement("span",null),c.a.createElement("span",null))))},x=function(e){var t;return c.a.createElement("div",{className:"message ".concat(e.notification.type)},"running"===e.notification.type&&c.a.createElement("div",{className:"message-icon ".concat("running"===e.notification.type?"running":"")},c.a.createElement("i",{className:"material-icons"},"rotate_right")),"success"===e.notification.type&&c.a.createElement("div",{className:"message-icon"},c.a.createElement("i",{className:"material-icons"},"check_circle_outline")),"warning"===e.notification.type&&c.a.createElement("div",{className:"message-icon"},c.a.createElement("i",{className:"material-icons"},"warning")),"failure"===e.notification.type&&c.a.createElement("div",{className:"message-icon"},c.a.createElement("i",{className:"material-icons"},"error_outline")),c.a.createElement("div",{className:"message-text"},null===(t=e.notification)||void 0===t?void 0:t.message),c.a.createElement("div",{className:"message-action"},c.a.createElement("i",{className:"material-icons",onClick:e.handleRemove},"clear")))},L=function(){var e=Object(n.useState)(!1),t=Object(w.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)([]),i=Object(w.a)(o,2),l=i[0],s=i[1],u=Object(n.useState)({notificationList:[]}),m=Object(w.a)(u,2),d=(m[0],m[1],function(e){s(l.filter((function(t){return t.id!==e.id})))});return Object(n.useEffect)((function(){var e=S().subscribe((function(e){"notification"===e.name&&(e.signal?(d(e.data),function(e){var t=Object(_.a)(l);t.unshift(e),s(t),e.duration?setTimeout((function(){d(e)}),e.duration):e.id||setTimeout((function(){d(e)}),5e3)}(e.data),r(!1)):d(e.data)),"spinner"===e.name&&r(e.signal)}));return function(){return e.unsubscribe()}}),[]),c.a.createElement(c.a.Fragment,null,l&&l.length>0&&c.a.createElement("div",{className:"notification"},l.slice(0,5).reverse().map((function(e){return c.a.createElement("div",{key:e.id||e.message},c.a.createElement(x,{notification:e,handleRemove:d}))}))),a&&c.a.createElement(U,{"data-test":"spinner"}))},D=a(38),z=a.n(D);function F(e,t,a){return z.a.get(M(e,a),t)}function B(e,t,a,n){return z.a.post(M(e,n),t,a)}function H(e,t,a,n){return z.a.put(M(e,n),t,a)}function M(e,t){var a=(t||"https://api.ioak.io:8040")+e;return(e.startsWith("http://")||e.startsWith("https://"))&&(a=e),a}var K={API_URL_TENANT:"/tenant",API_URL_TENANT_BANNER:"/tenant/banner",API_URL_TENANT_CREATE:"/tenant/create",API_TENANT_URL:"/tenant/sendURL",API_URL_PRESIGNUP:"/auth/keys",API_URL_RESET:"/auth/reset",API_URL_CODE:"/auth/sendResetCode",API_URL_USER_DETAILS:"/user/details",API_URL_STAGE:"/stage",API_URL_PREDICT:"/model/predict",API_URL_CATEGORY:"/category",API_URL_FAQ:"/faq",API_URL_SR:"/servicerequests",API_URL_USER:"/user",API_URL:"/auth/",API_SIGNIN:"/signin",API_SIGNUP:"/signup",API_KEYS:"/keys",API_JWT:"/signin/jwt",API_URL_PROJECT:"/project",API_URL_PROJECTMEMBER:"/projectmember",API_URL_ENDPOINT_DOMAIN:"/endpoint/domain",API_URL_ENDPOINT_CUSTOM:"/endpoint/custom",API_URL_ENDPOINT:"/endpoint"},W=function(e,t){return function(a){F("".concat(K.API_URL_USER,"/").concat(e,"/all"),{headers:{Authorization:t.token}}).then((function(e){a({type:"FETCH_ALL_USERS",payload:{users:e.data.data}})}))}},G=function(e,t){return function(a){F("".concat(K.API_URL_ENDPOINT,"/").concat(e),{headers:{Authorization:t.token}}).then((function(e){console.log(e.data.data),a({type:"RELOAD_ENDPOINTS",payload:{endpoints:e.data.data}})}))}},J=function(){var e=Object(l.c)((function(e){return e.authorization})),t=Object(n.useState)(),a=Object(w.a)(t,2),r=(a[0],a[1]),o=Object(n.useState)(),i=Object(w.a)(o,2),s=i[0],u=i[1],m=Object(l.b)();Object(n.useEffect)((function(){e.isAuth&&s&&d(),r(e)}),[e,s]),Object(n.useEffect)((function(){S().subscribe((function(e){console.log(e),"spaceChange"===e.name&&u(e.data)}))}),[]);var d=function(){console.log("Initialization logic here"),m(W(s,e)),m(function(e,t){return function(a){F("".concat(K.API_URL_PROJECT,"/").concat(e),{headers:{Authorization:t.token}}).then((function(e){a({type:"RELOAD_PROJECTS",payload:{projects:e.data.data}})}))}}(s,e)),m(G(s,e))};return c.a.createElement(c.a.Fragment,null)},V=(a(213),function(e){return function(t){t({type:"SET_PROFILE",payload:e})}}),q=(a(214),a(215),a(37)),Y=function(e){var t=Object(l.c)((function(e){return e.profile}));return c.a.createElement("div",{className:"links ".concat(t.theme)},c.a.createElement(q.a,{to:"/".concat(e.space,"/home"),className:"navitem",activeClassName:"active"},"Home"),c.a.createElement(q.a,{to:"/".concat(e.space,"/project"),className:"navitem",activeClassName:"active"},"Projects"),c.a.createElement(q.a,{to:"/".concat(e.space,"/endpoint"),className:"navitem",activeClassName:"active"},"Endpoints"))},$=a(11),Q=(a(217),a(218),a(408)),X=a(409),Z=function(){var e=Object(l.c)((function(e){return e.profile})),t=Object(l.b)();return c.a.createElement("div",{className:"dark-mode-icon ".concat(e.theme),onClick:function(){t(V({theme:"theme_dark"===e.theme?"theme_light":"theme_dark"}))}},"theme_dark"===e.theme&&c.a.createElement(Q.a,{className:"cursor-pointer"}),"theme_dark"!==e.theme&&c.a.createElement(X.a,{className:"cursor-pointer"}))},ee=a(410),te=a(411),ae=(a(219),function(e){var t=Object(l.c)((function(e){return e.authorization})),a=Object(l.c)((function(e){return e.profile}));return c.a.createElement("div",{className:"nav-account-icon ".concat(a.theme),onClick:t.isAuth?e.logout:e.login},t.isAuth&&c.a.createElement("div",{className:"nav-account-icon--username"},c.a.createElement("div",null,"".concat(t.firstName," ").concat(t.lastName)),c.a.createElement(ee.a,{className:"cursor-pointer"})),!t.isAuth&&c.a.createElement(te.a,{className:"cursor-pointer"}))}),ne=function(e){return function(t){t({type:"ADD_AUTH",payload:e})}},ce=function(e){Object(l.c)((function(e){return e.authorization}));var t=Object(l.b)(),a=Object($.useHistory)();return c.a.createElement("div",{className:"right-nav"},c.a.createElement(Z,null),c.a.createElement(ae,{logout:function(n){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"You have been logged out";t((function(e){e({type:"REMOVE_AUTH"})})),e.cookies.remove("ir_".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://api.ioak.io:8040",REACT_APP_ONEAUTH_API_URL:"https://api.ioak.io:8010",REACT_APP_ONEAUTH_APP_ID:"e8debb00e3b16b4b32222639",REACT_APP_ONEAUTH_URL:"https://oneauth-app.ioak.io"}).REACT_APP_ONEAUTH_APPSPACE_ID)),a.push("/"),R("notification",!0,{type:c,message:r,duration:3e3})},login:function(e){a.push("/")}}))},re=a(412),oe=(a(220),function(){Object(l.c)((function(e){return e.authorization}));var e=Object(l.c)((function(e){return e.profile})),t=Object(l.b)();return c.a.createElement("div",{className:"expand-icon"},c.a.createElement(re.a,{className:e.sidebar?"menu-icon sidebar-shown":"menu-icon sidebar-hidden",onClick:function(){t(V(Object(m.a)(Object(m.a)({},e),{},{sidebar:!e.sidebar})))}}))}),ie=(a(221),a(179)),le=a.n(ie),se=a(180),ue=a.n(se),me=function(){Object(l.c)((function(e){return e.authorization}));var e=Object(l.c)((function(e){return e.profile}));Object(l.b)();return c.a.createElement("div",{className:"logo"},"theme_light"===e.theme&&c.a.createElement("img",{className:"logo--image",src:ue.a,alt:"Expenso logo"}),"theme_light"!==e.theme&&c.a.createElement("img",{className:"logo--image",src:le.a,alt:"Expenso logo"}))},de=function(e){var t=Object(l.c)((function(e){return e.authorization}));Object(l.c)((function(e){return e.profile})),Object(l.b)();return c.a.createElement("div",{className:"topbar"},c.a.createElement("div",{className:"topbar--left"},c.a.createElement("div",{className:"".concat(e.hideSidebarOnDesktop?"mobile-only":"")},c.a.createElement(oe,null)),e.hideSidebarOnDesktop&&c.a.createElement("div",{className:"desktop-only"},c.a.createElement(me,null)),t.isAuth&&c.a.createElement("div",{className:"topbar--left--nav desktop-only"},c.a.createElement(Y,{space:e.space}))),c.a.createElement("div",{className:"topbar--right"},c.a.createElement(ce,{cookies:e.cookies})))},pe=function(e){var t=Object(l.c)((function(e){return e.profile})),a=Object(n.useState)(""),r=Object(w.a)(a,2),o=r[0],i=r[1];return Object(n.useEffect)((function(){S().subscribe((function(e){"spaceChange"===e.name&&i(e.data)}))}),[]),c.a.createElement("div",{className:"topbar-container ".concat(t.sidebar?"sidebar-shown":"sidebar-hidden")},c.a.createElement(de,{space:o,cookies:e.cookies,hideSidebarOnDesktop:t.hideSidebarOnDesktop}))},fe=(a(111),a(222),function(){Object(l.c)((function(e){return e.authorization}));var e=Object(l.c)((function(e){return e.profile})),t=Object(l.b)();return c.a.createElement("div",{className:"header"},c.a.createElement(re.a,{className:"mobile-only",onClick:function(){t(V(Object(m.a)(Object(m.a)({},e),{},{sidebar:!e.sidebar})))}}),c.a.createElement(me,null))}),be=(a(223),a(224),function(e){var t=Object(l.c)((function(e){return e.profile})),a=Object(l.b)();return c.a.createElement("div",{className:"nav-item"},c.a.createElement(q.a,{to:e.to,className:"navitem",activeClassName:"active",onClick:function(){e.closeAfterRouteChange&&a(V(Object(m.a)(Object(m.a)({},t),{},{sidebar:!1})))}},e.label))}),he=function(e){Object(l.c)((function(e){return e.authorization})),Object(l.c)((function(e){return e.profile})),Object(l.b)();return c.a.createElement("div",{className:"nav-elements"},c.a.createElement(be,{to:"/".concat(e.space,"/home"),label:"Home",closeAfterRouteChange:e.closeAfterRouteChange}),c.a.createElement(be,{to:"/".concat(e.space,"/project"),label:"Projects",closeAfterRouteChange:e.closeAfterRouteChange}),c.a.createElement(be,{to:"/".concat(e.space,"/endpoint"),label:"Endpoints",closeAfterRouteChange:e.closeAfterRouteChange}),c.a.createElement(be,{to:"/".concat(e.space,"/endpoint"),label:"Help",closeAfterRouteChange:e.closeAfterRouteChange}))},Ee=function(){var e=Object(n.useState)(""),t=Object(w.a)(e,2),a=t[0],r=t[1];Object(l.c)((function(e){return e.authorization})),Object(l.c)((function(e){return e.profile})),Object(l.b)();return Object(n.useEffect)((function(){S().subscribe((function(e){"spaceChange"===e.name&&r(e.data)}))}),[]),c.a.createElement("div",{className:"sidebar"},c.a.createElement("div",{className:"sidebar--header"},c.a.createElement(fe,null)),c.a.createElement("div",{className:"sidebar--nav desktop-only"},c.a.createElement(he,{space:a})),c.a.createElement("div",{className:"sidebar--nav mobile-only"},c.a.createElement(he,{space:a,closeAfterRouteChange:!0})))},ve=(a(225),function(){var e=Object(l.c)((function(e){return e.profile}));return c.a.createElement("div",{className:"sidebar-container ".concat(e.sidebar?"show":"hide")},c.a.createElement("div",{className:"".concat(e.hideSidebarOnDesktop?"mobile-only":"")},c.a.createElement(Ee,null)))}),je=(a(226),a(227),a(112),function(e){return c.a.createElement("div",{className:"oak-heading-link",onClick:function(){return e.link.action()}},c.a.createElement("i",{className:"material-icons typography-6"},e.link.icon),c.a.createElement("div",{className:"heading-link-label ".concat("large"===e.size?"typography-5":"typography-4")},e.link.label))}),ge=function(e){var t;return c.a.createElement("div",{className:"oak-heading"},c.a.createElement("div",{className:"oak-heading--heading-title"},e.title),e.subtitle&&c.a.createElement("div",{className:"oak-heading--heading-subtitle"},e.subtitle),c.a.createElement("div",{className:"heading-links"},null===(t=e.links)||void 0===t?void 0:t.map((function(t,a){return c.a.createElement(je,{link:t,key:a,size:e.linkSize})}))),e.children&&c.a.createElement("div",{className:"heading-children"},e.children),c.a.createElement("div",{className:"heading-highlight"}))},Oe=(a(228),function(e){return c.a.createElement(c.a.Fragment,null,!e.outer&&c.a.createElement("div",{className:"oak-section"},(e.title||e.subtitle)&&c.a.createElement("div",{className:"oak-section--header-".concat(e.title?"highlight":"basic")},e.title&&c.a.createElement("div",{className:"oak-section--header--title"},e.title),!e.title&&e.subtitle&&c.a.createElement("div",{className:"oak-section--header--subtitle"},e.subtitle)),c.a.createElement("div",{className:"oak-section--body"},c.a.createElement("div",{className:"oak-section--app-text"},e.children))),e.outer&&c.a.createElement("div",{className:"oak-section-outer"},e.children))}),ye=(a(229),function(e){var t;return c.a.createElement("div",{className:"oak-subheading"},c.a.createElement("div",{className:"oak-subheading--heading-title"},e.title),e.subtitle&&c.a.createElement("div",{className:"oak-subheading--heading-subtitle"},e.subtitle),c.a.createElement("div",{className:"heading-links"},null===(t=e.links)||void 0===t?void 0:t.map((function(t,a){return c.a.createElement(je,{link:t,key:a,size:e.linkSize})}))),e.children&&c.a.createElement("div",{className:"heading-children"},e.children),c.a.createElement("div",{className:"heading-highlight"}))}),Ne=(a(230),function(e){Object(l.c)((function(e){return e.authorization}));return c.a.createElement("div",{className:"page-home"},c.a.createElement(Oe,null,c.a.createElement(ge,{title:"How it works",subtitle:"Optimize development cycle by defining a working API specification, that development teams can rely on as a live and evolving reference."}),c.a.createElement("div",{className:"page-home--steps"},c.a.createElement("div",{className:"page-home--steps--container"},c.a.createElement(ye,{title:"Create a project"}),c.a.createElement("div",{className:"page-home--steps--container--subtitle"},"A project is a collection of API endpoint specifications. Create a project to logically group all your API mocks related to your project. You can add several endpoint definitions into a project.")),c.a.createElement("div",{className:"page-home--steps--container"},c.a.createElement(ye,{title:"Define an endpoint"}),c.a.createElement("div",{className:"page-home--steps--container--subtitle"},"Add an API endpoint specification by either defining it's domain for CRUD operations, or by defining the input and output attributes of a endpoint. Copy the generated URLs to call from your application.")),c.a.createElement("div",{className:"page-home--steps--container"},c.a.createElement(ye,{title:"Plug in endpoint"}),c.a.createElement("div",{className:"page-home--steps--container--subtitle"},"Call the copied URLs from your application. Everytime you call an API, Mockback returns a randomly generated data for its domain (or list of randomly generated domain data).")))))}),ke=(a(231),a(23)),_e=function(e){return Object(n.useEffect)((function(){if(e.location.search){var t=ke.parse(e.location.search);e.cookies.set("mockback_".concat(t.space),t.authKey),console.log(typeof t.from),console.log(t.from||"/".concat(t.space,"/home")),e.history.push(t.from?t.from:"/".concat(t.space,"/home"))}}),[]),c.a.createElement(c.a.Fragment,null)},we=(a(58),function(e){return c.a.createElement("div",{className:"space-list-item",onClick:function(){window.location.href="".concat("https://oneauth-app.ioak.io","/#/space/").concat(e.space.spaceId,"/login?type=signin&appId=").concat("e8debb00e3b16b4b32222639")}},c.a.createElement("div",{className:"space-list-item--link"},c.a.createElement("div",{className:"typography-6"},e.space.name)),c.a.createElement("div",{className:"typography-4"},e.space.description))}),Ae=function(e){var t,a=Object(l.c)((function(e){return e.space}));return c.a.createElement("div",{className:"list-spaces"},c.a.createElement(ge,{title:"Choose a space to proceed"}),c.a.createElement("div",{className:"list-spaces--content"},null===a||void 0===a||null===(t=a.spaces)||void 0===t?void 0:t.map((function(t){return c.a.createElement(we,{space:t,history:e.history,key:t.id})}))))},Ce=(a(244),function(e){return c.a.createElement("div",{className:"oak-page"},c.a.createElement("div",{className:"oak-page-container"},e.children))}),Ie=(a(245),function(e){var t=Object(l.c)((function(e){return e.profile}));return c.a.createElement("button",{className:"oak-button ".concat(function(){var a,n=e.theme?e.theme:"";return n+=(null===t||void 0===t||null===(a=t.theme)||void 0===a?void 0:a.includes("theme_light"))?" light":" dark",n+=e.variant?" ".concat(e.variant):"","icon"===e.shape&&(n+=" icon"),n+=e.align?" align-".concat(e.align):"",n+=e.size?" size-".concat(e.size):" size-small",n+=e.shape?" shape-".concat(e.shape):" shape-rectangle"}()),onClick:e.action,disabled:"disabled"===e.variant},c.a.createElement("div",{className:"button-label-container"},e.children&&e.children))}),Re=function(e){return c.a.createElement("div",{className:"getting-started"},c.a.createElement("div",null,c.a.createElement(ge,{title:"Getting Started"}),c.a.createElement("div",{className:"getting-started--steps space-top-2"},c.a.createElement("div",{className:"typography-7"},"Create Space"),c.a.createElement("div",{className:"typography-4"},"An asset represents an application or product being supported. Create an asset to get started with the process of onboarding your product into Expenso."),c.a.createElement("div",{className:"typography-7"},"Set Expenso URL in your product"),c.a.createElement("div",{className:"typography-4"},"To provide seemless experience to your users, add a link from your product to Expenso. By triggering a button for example from your product, your users will be securely transferred to Expenso with their details."),c.a.createElement("div",{className:"typography-7"},"Securely transmit user information to Expenso"),c.a.createElement("div",{className:"typography-4"},"When you redirect from your product, transmit the user information like email and name securely using JWT tokens. Password for JWT is set by you during the asset creation process."))),c.a.createElement("div",{className:"action-footer position-center"},c.a.createElement(Ie,{theme:"primary",variant:"disappear",action:function(){e.history.push("/asset/create")}},"Create a new space")))},Se=function(e){Object(l.c)((function(e){return e.authorization}));return c.a.createElement(Ce,null,c.a.createElement("div",{className:"landing"},c.a.createElement(Ae,{history:e.history}),c.a.createElement("hr",null),c.a.createElement(Re,{history:e.history})))},Te=a(9),Pe=(a(246),a(413));function Ue(e){return null===e||void 0===e||null!==e.toString().match(/^ *$/)}a(247);var xe=function(e){return c.a.createElement("div",{className:"oak-text"},!e.multiline&&c.a.createElement("input",{disabled:e.disabled,autoComplete:"off",className:(e.errorFields&&e.errorFields[e.id]?"error":"")+(e.disabled?" disabled":""),type:e.type?e.type:"text",name:e.id,id:e.id,value:e.data[e.id],onChange:e.handleChange,onFocus:function(){e.handleFocus&&e.handleFocus()}}),e.multiline&&c.a.createElement("textarea",{disabled:e.disabled,className:(e.errorFields&&e.errorFields[e.id]?"error":"")+(e.disabled?" disabled":""),id:e.id,name:e.id,value:e.data[e.id],onChange:e.handleChange}),c.a.createElement("label",{htmlFor:e.id,className:Ue(e.data[e.id])?"":"active"},e.label),e.subtitle&&c.a.createElement("div",{className:"typography-3"},e.subtitle),e.errorData&&e.errorData[e.id]&&c.a.createElement("div",{className:"text-field-error"},c.a.createElement(Pe.a,null),e.errorData[e.id]))};var Le=a(98),De=a.n(Le),ze=a(99),Fe=a.n(ze);function Be(e,t,a){var n={cipher:"aes",iter:"12000",ks:256,salt:Fe.a.enc.Base64.stringify(Fe.a.enc.Utf8.parse(a))};return De.a.encrypt(e,t,n)}var He=function(e){var t=Object(n.useState)({name:"",email:"",password:"",repeatPassword:"",jwtPassword:"",pageNo:1,created:!1}),a=Object(w.a)(t,2),r=a[0],o=a[1],i=Object(n.useState)(null),l=Object(w.a)(i,2),s=l[0],u=l[1],d=Object(n.useState)({name:!1,email:!1,password:!1,repeatPassword:!1,jwtPassword:!1}),p=Object(w.a)(d,2),f=p[0],b=p[1];Object(n.useEffect)((function(){e.getProfile()}),[]);var h=function(e){o(Object(m.a)(Object(m.a)({},r),{},Object(Te.a)({},e.currentTarget.name,e.currentTarget.value)))},E=function(e){b(Object(m.a)(Object(m.a)({},f),{},Object(Te.a)({},e,!0)))},v=function(e){(function(e){var t=new FormData;return t.append("tenantName",e.tenantName),t.append("email",e.email),t.append("jwtPassword",e.jwtPassword),t.append("problem",Be(e.password,e.solution,e.salt)),t.append("solution",e.solution),e.banner&&t.append("banner",e.banner,"banner.jpg"),B(K.API_URL_TENANT_CREATE,t,{"Content-Type":"multipart/form-data"}).then((function(e){return Promise.resolve(e)}))})({tenantName:r.name,email:r.email,password:r.password,jwtPassword:r.jwtPassword,solution:e.solution,salt:e.salt,banner:s}).then((function(e){200===e.status?(R("notification",!0,{type:"success",message:"Tenant has been created. You can proceed now",duration:3e3}),o(Object(m.a)(Object(m.a)({},r),{},{pageNo:r.pageNo+1,created:!0}))):R("notification",!0,{message:"We are facing some problem, please try after sometime",duration:3e3})})).catch((function(e){R("notification",!0,{type:"failure",message:"Unknown error. Please try again or at a later time",duration:3e3})}))};return c.a.createElement("div",{className:"tenant boxed"},!r.created&&c.a.createElement("div",{className:"typography-3 space-bottom-4"},"Tenant creation"),r.created&&c.a.createElement("div",{className:"typography-3 space-bottom-4"},"Tenant [",r.name,"] available now"),1===r.pageNo&&c.a.createElement("div",{className:"form"},c.a.createElement(xe,{id:"name",data:r,label:"Tenant Name",handleChange:function(e){return h(e)},errorFields:f}),c.a.createElement(xe,{id:"email",data:r,label:"Administrator Email",handleChange:function(e){return h(e)},errorFields:f}),c.a.createElement(xe,{id:"password",type:"password",data:r,label:"Administrator Password",handleChange:function(e){return h(e)},errorFields:f}),c.a.createElement(xe,{id:"repeatPassword",type:"password",data:r,label:"Repeat Password",handleChange:function(e){return h(e)},errorFields:f}),c.a.createElement(xe,{id:"jwtPassword",type:"password",data:r,label:"JWT Password",handleChange:function(e){return h(e)},errorFields:f}),c.a.createElement("label",{className:"file-upload space-top-1 space-bottom-4"},c.a.createElement("input",{type:"file",accept:"image/png, image/jpeg",onChange:function(e){u(e.target.files[0])},required:!0}),c.a.createElement("i",{className:"material-icons"},"add_photo_alternate"),!s&&"Choose Banner/Cover Image",s&&s.name),c.a.createElement("div",{className:"action"},c.a.createElement(Ie,{theme:"primary",variant:"appear",action:function(e){e.preventDefault(),R("spinner"),b({name:!1,email:!1,password:!1,repeatPassword:!1,jwtPassword:!1}),(Ue(r.name)?(E("name"),R("notification",!0,{type:"failure",message:"Tenant name cannot be empty",duration:3e3}),0):/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(r.email)?Ue(r.password)?(E("password"),R("notification",!0,{type:"failure",message:"Password cannot be empty",duration:3e3}),0):r.password===r.repeatPassword||(E("repeatPassword"),R("notification",!0,{type:"failure",message:"Password and repeat password should be same",duration:3e3}),0):(E("email"),R("notification",!0,{type:"failure",message:"Email ID is invalid",duration:3e3}),0))&&function(e){return F(K.API_URL+e.name+K.API_KEYS,null).then((function(e){return Promise.resolve(e)}))}({name:r.name}).then((function(e){200===e.status&&v(e.data)}))}},"Create Tenant"))),r.created&&c.a.createElement(Ie,{theme:"primary",variant:"disappear",action:function(){e.history.push("/".concat(r.name,"/home"))}},"Take me to my tenant"))},Me=a(5),Ke=a.n(Me),We=a(10),Ge=function(e){var t=Object(l.c)((function(e){return e.authorization})),a=Object(l.c)((function(e){return e.profile})),n=Object(l.b)(),r=function(e){switch(R("spaceChange",!0,""),e){case"readAuthentication":return i();case"authenticate":return o();case"isAdmin":return u();default:return!0}},o=function(){return s("space")},i=function(){return s("space",!1)},s=function(){var a=Object(We.a)(Ke.a.mark((function a(c){var r,o,i,l,s=arguments;return Ke.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r=!(s.length>1&&void 0!==s[1])||s[1],R("spaceChange",!0,e.match.params.space),!t.isAuth){a.next=4;break}return a.abrupt("return",!0);case 4:if(o="mockback_".concat(e.match.params.space),i=e.cookies.get(o),l="/auth/".concat(e.match.params.space),!i){a.next=11;break}F("".concat(l,"/session/").concat(i),null).then((function(e){200===e.status&&(console.log("@@@@@@@@@"),n(ne({isAuth:!0,token:e.data.data.token,secret:"",firstName:e.data.data.firstName,lastName:e.data.data.lastName,email:e.data.data.email,type:e.data.data.type,userId:e.data.data.userId})))})).catch((function(t){e.cookies.remove(o),r&&404===t.response.status?(R("notification",!0,{type:"failure",message:"Invalid session token",duration:3e3}),m(e.match.params.space)):r&&401===t.response.status&&(R("notification",!0,{type:"failure",message:"Session expired",duration:3e3}),m(e.match.params.space))})),a.next=16;break;case 11:if(!r){a.next=15;break}m(e.match.params.space),a.next=16;break;case 15:return a.abrupt("return",!0);case 16:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),u=function(){return d(),!1},m=function(t){window.location.href="".concat("https://oneauth-app.ioak.io","/#/space/").concat(e.match.params.space,"/login?type=signin&appId=").concat("e8debb00e3b16b4b32222639")},d=function(){e.history.push("/".concat(a.space,"/unauthorized"))};return c.a.createElement(c.a.Fragment,null,function(){var t;return null===(t=e.middleware)||void 0===t||t.forEach((function(e){if(!r(e))return!1})),!0}()&&c.a.createElement(e.component,Object.assign({},e,{profile:a,space:e.match.params.space})))},Je=function(){return c.a.createElement("div",null,c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("br",null),"Unauthorized")},Ve=(a(170),function(e){return c.a.createElement("div",{className:"space-list-item align-horizontal",onClick:function(){window.location.href="".concat("https://oneauth-app.ioak.io","/#/space/").concat(e.space.spaceId,"/login?type=signin&appId=").concat("e8debb00e3b16b4b32222639")}},c.a.createElement("div",{className:"space-list-item--link"},c.a.createElement("div",{className:"typography-6 space-horizontal-1"},e.space.name)),"( ",c.a.createElement("div",{className:"typography-4"},e.space.spaceId)," )")}),qe=a(23),Ye=function(e){var t=Object(l.c)((function(e){return e.authorization})),a=Object(n.useState)(void 0),r=Object(w.a)(a,2),o=r[0],i=r[1],s=Object(n.useState)({text:""}),u=Object(w.a)(s,2),d=u[0],p=u[1];Object(n.useEffect)((function(){var t=qe.parse(e.location.search);t.space&&(window.location.href="".concat("https://oneauth-app.ioak.io","/#/space/").concat(t.space,"/login?type=signin&appId=").concat("e8debb00e3b16b4b32222639","&from=").concat(t.from))}),[]),Object(n.useEffect)((function(){F("/space/introspect",null,"https://api.ioak.io:8010").then((function(e){return Promise.resolve(e.data)})).then((function(e){i(f(e.data,d.text))}))}),[d]);var f=function(e,t){return Ue(t)?e:e.filter((function(e){return-1!==e.name.toLowerCase().indexOf(t.toLowerCase())}))};Object(n.useEffect)((function(){t.isAuth&&e.history.push("/".concat(e.space,"/article"))}),[t]);return c.a.createElement(Ce,null,c.a.createElement(Oe,null,c.a.createElement("div",{className:"view-space-item"},c.a.createElement("div",{className:"page-header"},c.a.createElement(ge,{title:"Login via Oneauth",subtitle:"You will be redirected to oneauth for signing in to your space",links:function(){var t=[];return e.history.length>2&&t.push({label:"Go back",icon:"reply",action:function(){e.history.goBack()}}),t}(),linkSize:"large"})),c.a.createElement(xe,{label:"Type company name to filter",handleChange:function(e){p(Object(m.a)(Object(m.a)({},d),{},Object(Te.a)({},e.target.name,e.target.value)))},id:"text",data:d}),c.a.createElement("div",{className:"list-spaces"},c.a.createElement("div",{className:"list-spaces--content"},null===o||void 0===o?void 0:o.map((function(t){return c.a.createElement(Ve,{history:e.history,space:t,key:t._id})})))))))},$e=(a(171),function(e){return c.a.createElement("div",{className:"login-method",onClick:function(){return e.action()}},e.icon&&c.a.createElement("i",{className:"material-icons"},e.icon),e.svgIcon&&c.a.createElement("img",{className:"login-method--icon",src:e.svgIcon,alt:"Login via ".concat(e.label)}),c.a.createElement("div",{className:"typography-7"},e.label))}),Qe=a(23),Xe=function(e){var t=Object(l.c)((function(e){return e.authorization})),a=(Object(l.c)((function(e){return e.profile})),Object(n.useState)()),r=Object(w.a)(a,2),o=r[0],i=r[1];return Object(n.useEffect)((function(){t.isAuth&&e.history.push("/".concat(e.space,"/home"))}),[t]),Object(n.useEffect)((function(){var t=Qe.parse(e.location.search);t.from?i(t.from):i(void 0)}),[e.location.search]),c.a.createElement(Ce,null,c.a.createElement(Oe,null,c.a.createElement(ge,{title:"Sign in",subtitle:"Choose the preferred authentication method to continue"}),c.a.createElement("div",{className:"view-asset-item"},c.a.createElement("div",{className:"space-top-3 mockback-signin"},c.a.createElement("div",{className:"login-home"},c.a.createElement($e,{action:function(){e.history.push("/".concat(e.space,"/login/oa").concat(o?"?from=".concat(o):""))},icon:"corporate_fare",label:"Enterprise Login"}),c.a.createElement($e,{action:function(){console.log("not yet implemented")},icon:"people",label:"Individual Login"}),c.a.createElement($e,{action:function(){e.history.push("/".concat(e.space,"/login/email").concat(o?"?from=".concat(o):""))},icon:"email",label:"OTP via Email"}))))))},Ze=(a(375),a(376),function(e){return c.a.createElement("div",{className:"project-link",onClick:function(){return e.history.push("/".concat(e.space,"/project/view?id=").concat(e.project._id))}},c.a.createElement("div",{className:"project-link--name"},e.project.name))}),et=function(e){var t=Object(l.c)((function(e){return e.project.projects}));return c.a.createElement(Ce,null,c.a.createElement(Oe,null,c.a.createElement(ge,{title:"List of projects",links:[{label:"New project",icon:"playlist_add",action:function(){return e.history.push("/".concat(e.space,"/project/create"))}}],linkSize:"large"}),c.a.createElement("div",{className:"list-project"},null===t||void 0===t?void 0:t.map((function(t){return c.a.createElement(Ze,{key:t._id,space:e.space,history:e.history,project:t})})))))},tt=(a(377),a(172),function(e){return c.a.createElement("div",{className:"oak-form"},c.a.createElement("div",{className:"oak-form--container"},e.children))}),at=(a(378),function(e){return c.a.createElement("div",{className:"oak-footer ".concat(e.align||"right")},c.a.createElement("div",{className:"oak-footer--container ".concat(e.align||"right")},e.children))}),nt=function(){var e=Object(We.a)(Ke.a.mark((function e(t,a,n){var c;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H("".concat(K.API_URL_PROJECT,"/").concat(t,"/"),n,{headers:{Authorization:a.token}});case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),ct=function(){var e=Object(We.a)(Ke.a.mark((function e(t,a,n){var c;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B("".concat(K.API_URL_PROJECTMEMBER,"/").concat(t,"/"),n,{headers:{Authorization:a.token}});case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),rt=function(){var e=Object(We.a)(Ke.a.mark((function e(t,a,n){var c;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F("".concat(K.API_URL_PROJECTMEMBER,"/").concat(t,"/project/").concat(n),{headers:{Authorization:a.token}});case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),ot=function(){var e=Object(We.a)(Ke.a.mark((function e(t,a,n){var c;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r="".concat(K.API_URL_PROJECTMEMBER,"/").concat(t,"/").concat(n),o={headers:{Authorization:a.token}},i=void 0,z.a.delete(M(r,i),o);case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}var r,o,i}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),it=function(e){var t=Object(n.useState)({name:"",description:"",reference:""}),a=Object(w.a)(t,2),r=a[0],o=a[1],i=(Object(l.b)(),Object(l.c)((function(e){return e.authorization}))),s=function(e){o(Object(m.a)(Object(m.a)({},r),{},Object(Te.a)({},e.currentTarget.name,e.currentTarget.value)))},u=function(){var t=Object(We.a)(Ke.a.mark((function t(){var a,n;return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return R("notification",!0,{id:a=T(),type:"running",message:"Saving project [".concat(r.name,"]")}),t.next=4,nt(e.space,i,Object(m.a)(Object(m.a)({},r),{},{reference:r.reference.toLowerCase().replace(/\s/g,"").replace(/\W/g,"")}));case 4:n=t.sent,console.log(n),200===n.status&&(R("notification",!0,{id:a,type:"success",message:"Project [".concat(r.name,"] saved successfully"),duration:3e3}),e.history.push("/".concat(e.space,"/project")));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return c.a.createElement(Ce,null,c.a.createElement(Oe,null,c.a.createElement(ge,{title:"Create new project",links:[{label:"Back",icon:"reply",action:function(){return e.history.goBack()}}],linkSize:"large"}),c.a.createElement("div",{className:"create-project"},c.a.createElement(tt,null,c.a.createElement(xe,{data:r,id:"name",handleChange:function(e){o(Object(m.a)(Object(m.a)({},r),{},{name:e.currentTarget.value,reference:r.name===r.reference?e.currentTarget.value:r.reference}))},label:"Project name"}),c.a.createElement(xe,{data:Object(m.a)(Object(m.a)({},r),{},{reference:r.reference.toLowerCase().replace(/\s/g,"").replace(/\W/g,"")}),id:"reference",handleChange:s,label:"Reference word for URL path prefix"}),c.a.createElement(xe,{data:r,id:"description",handleChange:s,label:"Short description about the project",multiline:!0})),c.a.createElement(at,null,c.a.createElement(Ie,{theme:"primary",variant:"appear",action:u},"Save"),c.a.createElement(Ie,{theme:"default",variant:"appear"},"Cancel")))))},lt=(a(173),a(23),function(e){var t=Object(l.c)((function(e){return e.authorization})),a=Object(n.useState)({reference:"",description:"",name:""}),r=Object(w.a)(a,2),o=r[0],i=r[1],s=Object(n.useState)(!1),u=Object(w.a)(s,2),d=u[0],p=u[1];Object(n.useEffect)((function(){i(Object(m.a)(Object(m.a)({},o),e.project))}),[e.project]);var f=function(e){i(Object(m.a)(Object(m.a)({},o),{},Object(Te.a)({},e.currentTarget.name,e.currentTarget.value))),p(!0)},b=function(){var a=Object(We.a)(Ke.a.mark((function a(){var n,c;return Ke.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return R("notification",!0,{id:n=T(),type:"running",message:"Saving project [".concat(o.name,"]")}),a.next=4,nt(e.space,t,Object(m.a)(Object(m.a)({},o),{},{reference:o.reference.toLowerCase().replace(/\s/g,"").replace(/\W/g,"")}));case 4:c=a.sent,console.log(c),200===c.status&&(R("notification",!0,{id:n,type:"success",message:"Project [".concat(o.name,"] saved successfully"),duration:3e3}),e.history.push("/".concat(e.space,"/project")));case 7:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return c.a.createElement("div",{className:"project-detail-section"},e.project&&c.a.createElement(tt,null,c.a.createElement(xe,{data:o,id:"name",handleChange:function(e){i(Object(m.a)(Object(m.a)({},o),{},{name:e.currentTarget.value,reference:o.name===o.reference?e.currentTarget.value:o.reference})),p(!0)},label:"Project name"}),c.a.createElement(xe,{data:Object(m.a)(Object(m.a)({},o),{},{reference:o.reference.toLowerCase().replace(/\s/g,"").replace(/\W/g,"")}),id:"reference",handleChange:f,label:"Reference word for URL path prefix"}),c.a.createElement(xe,{data:o,id:"description",handleChange:f,label:"Short description about the project",multiline:!0})),d&&c.a.createElement(at,null,c.a.createElement(Ie,{theme:"primary",variant:"appear",action:b},"Save"),c.a.createElement(Ie,{theme:"default",variant:"appear",action:function(){i(Object(m.a)(Object(m.a)({},o),e.project)),p(!1)}},"Discard")))}),st=(a(379),function(e){var t=Object(n.useState)(""),a=Object(w.a)(t,2),r=a[0],o=a[1],i=Object(n.useState)({}),l=Object(w.a)(i,2),s=l[0],u=l[1],d=Object($.useLocation)();Object(n.useEffect)((function(){p()}),[e.meta,e.children]),Object(n.useEffect)((function(){var t;e.noBookmarking||o(Ue(d.hash)?null===(t=e.meta[0])||void 0===t?void 0:t.slotName:d.hash.substr(1))}),[d.hash]);var p=function(){var t={};c.a.Children.toArray(e.children).forEach((function(e){t=Object(m.a)(Object(m.a)({},t),{},Object(Te.a)({},e.props.slot,e))})),u(t),e.noBookmarking&&!r&&o(Object.keys(t)[0])};return c.a.createElement("div",{className:"oak-tab ".concat(e.variant)},c.a.createElement("div",{className:"oak-tab--header"},e.noBookmarking&&e.meta.map((function(e){return c.a.createElement("button",{key:e.slotName,className:"oak-tab--header--button tab typography-6 ".concat(r===e.slotName?"active":"inactive"),onClick:function(t){return o(e.slotName)}},c.a.createElement("i",{className:"material-icons typography-8 ".concat(r===e.slotName?"active":"")},e.icon),c.a.createElement("div",{className:"label"},e.label))})),!e.noBookmarking&&e.meta.map((function(e){return c.a.createElement("a",{key:e.slotName,className:"tab typography-6 ".concat(r===e.slotName?"active":"inactive"),href:"#".concat(d.pathname).concat(d.search,"#").concat(e.slotName)},c.a.createElement("i",{className:"material-icons typography-8 ".concat(r===e.slotName?"active":"")},e.icon),c.a.createElement("div",{className:"label"},e.label))}))),e.meta.map((function(e){return c.a.createElement("div",{key:e.slotName,className:"content ".concat(r===e.slotName?"active":"inactive")},s[r])})))}),ut=(a(380),function(e){var t=Object(n.useState)(P()),a=Object(w.a)(t,2),r=a[0],o=(a[1],Object(n.useState)(!1)),i=Object(w.a)(o,2),l=i[0],s=i[1],u=Object(n.useState)(Object(Te.a)({},r,"")),m=Object(w.a)(u,2),d=m[0],p=m[1],f=Object(n.useState)(void 0),b=Object(w.a)(f,2),h=b[0],E=b[1];Object(n.useEffect)((function(){v(d[r])}),[e.objects]);var v=function(t){E(e.objects.filter((function(e){var a;return null===(a=e.value)||void 0===a?void 0:a.toLowerCase().includes(t.toLowerCase())})))};return Object(n.useEffect)((function(){window.addEventListener("click",(function(e){var t;(null===(t=document.getElementById(r))||void 0===t?void 0:t.contains(e.target))||s(!1)}))}),[]),c.a.createElement("div",{className:"oak-auto-complete",id:r},c.a.createElement("div",{className:"search-bar"},c.a.createElement(xe,{id:r,data:d,label:e.label,handleFocus:function(){s(!0)},handleChange:function(e){p(Object(Te.a)({},e.target.name,e.target.value)),v(e.target.value)},placeholder:e.placeholder})),l&&h&&h.length>0&&c.a.createElement("div",{className:"results"},null===h||void 0===h?void 0:h.map((function(t){return c.a.createElement("div",{className:"element",key:t.key,onClick:function(){return a=t.key,s(!1),void e.handleChange(a);var a}},t.value)}))))}),mt=(a(381),function(e){var t,a,r=Object(l.c)((function(e){return e.authorization})),o=Object(n.useState)(!1),i=Object(w.a)(o,2),s=i[0],u=i[1],m=function(){var t=Object(We.a)(Ke.a.mark((function t(){var a;return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return R("notification",!0,{id:a=T(),type:"running",message:"Removing member from project"}),t.next=4,ot(e.space,r,e.member._id);case 4:200===t.sent.status&&(R("notification",!0,{id:a,type:"success",message:"Member removed from project successfully",duration:3e3}),e.refresh());case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return c.a.createElement("div",{className:"project-member-link"},c.a.createElement("div",null,"".concat(null===(t=e.user)||void 0===t?void 0:t.firstName," ").concat(null===(a=e.user)||void 0===a?void 0:a.lastName)),c.a.createElement("div",{className:"project-member-link--action"},!s&&c.a.createElement(Ie,{theme:"primary",variant:"regular",action:function(){return u(!0)}},"Remove"),s&&c.a.createElement(c.a.Fragment,null,c.a.createElement(Ie,{theme:"default",variant:"regular",action:function(){return u(!1)}},"Cancel"),c.a.createElement(Ie,{theme:"primary",variant:"regular",action:m},"Confirm"))))}),dt=function(e){var t=Object(l.c)((function(e){return e.user.users})),a=Object(l.c)((function(e){return e.authorization})),r=Object(n.useState)({}),o=Object(w.a)(r,2),i=o[0],s=o[1];Object(n.useEffect)((function(){var e={};null===t||void 0===t||t.forEach((function(t){return e[t._id]=t})),s(e)}),[t]);var u=function(){var t=Object(We.a)(Ke.a.mark((function t(n){var c;return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return R("notification",!0,{id:c=T(),type:"running",message:"Adding member to project"}),t.next=4,ct(e.space,a,{userId:n,projectId:e.project._id,type:e.type});case 4:200===t.sent.status&&(R("notification",!0,{id:c,type:"success",message:"Member added to project successfully",duration:3e3}),e.refresh());case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return c.a.createElement("div",{className:"project-member-section"},t&&c.a.createElement(ut,{handleChange:u,objects:null===t||void 0===t?void 0:t.map((function(e){return{key:e._id,value:"".concat(e.firstName," ").concat(e.lastName)}})),label:"Search for users to add"}),e.project&&c.a.createElement("div",{className:"project-member-section--content"},e.members.filter((function(t){return t.type===e.type})).map((function(t){return c.a.createElement(mt,{user:i[t.userId],member:t,key:t._id,space:e.space,refresh:e.refresh})}))))},pt=a(23),ft=function(e){var t=Object(l.c)((function(e){return e.authorization})),a=pt.parse(e.location.search),r=Object(l.c)((function(e){return e.project.projects.find((function(e){return e._id===a.id}))})),o=Object(n.useState)([]),i=Object(w.a)(o,2),s=i[0],u=i[1];Object(n.useEffect)((function(){Object(We.a)(Ke.a.mark((function e(){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=3;break}return e.next=3,m();case 3:case"end":return e.stop()}}),e)})))()}),[r]);var m=function(){var a=Object(We.a)(Ke.a.mark((function a(){var n;return Ke.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,rt(e.space,t,r._id);case 2:200===(n=a.sent).status&&u(n.data.data);case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return c.a.createElement(Ce,null,c.a.createElement(st,{meta:[{slotName:"overview",label:"Overview",icon:"dehaze"},{slotName:"member",label:"Members",icon:"people"},{slotName:"administrator",label:"Administrators",icon:"admin_panel_settings"}],variant:"fullpage"},c.a.createElement("div",{slot:"overview"},c.a.createElement(Oe,null,c.a.createElement(lt,{project:r,space:e.space,history:e.history}))),c.a.createElement("div",{slot:"member"},c.a.createElement(Oe,null,c.a.createElement(dt,{project:r,space:e.space,history:e.history,members:s,type:"MEMBER",refresh:m}))),c.a.createElement("div",{slot:"administrator"},c.a.createElement(Oe,null,c.a.createElement(dt,{project:r,space:e.space,history:e.history,members:s,type:"ADMINISTRATOR",refresh:m})))))},bt=(a(174),a(382),function(){var e=Object(We.a)(Ke.a.mark((function e(t,a,n){var c;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H("".concat(K.API_URL_ENDPOINT,"/").concat(t,"/"),n,{headers:{Authorization:a.token}});case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()),ht=(a(383),a(384),a(385),a(414)),Et=function(e){var t=Object(n.useState)(!1),a=Object(w.a)(t,2),r=a[0],o=a[1];Object(n.useEffect)((function(){r!==e.visible&&(e.visible?o(e.visible):setTimeout((function(){return o(e.visible)}),250))}),[e.visible]),Object(n.useEffect)((function(){return document.addEventListener("keydown",i,!1),function(){return document.removeEventListener("keydown",i,!1)}}),[r]);var i=function(t){27===t.keyCode&&r&&e.toggleVisibility()},l=function(){var t="";return t+=e.noheader?" noheader":"",t+=e.fullscreen?" fullscreen":"",t+=e.donotMobilize?"":" mobilize"};return c.a.createElement(c.a.Fragment,null,r&&c.a.createElement("div",{className:e.visible?"modal-root show ".concat(l()):"modal-root hide ".concat(l())},c.a.createElement("div",{className:"backdrop-fade",onClick:e.toggleVisibility}),c.a.createElement("div",{className:"oak-modal"},c.a.createElement("div",{className:"modal"},c.a.createElement("div",{className:e.visible?"container":"container hidetext"},c.a.createElement("div",{className:"modal-header"},c.a.createElement("div",{className:"left"},c.a.createElement("div",{className:"label one-liner"},e.label)),c.a.createElement("div",{className:"right"},c.a.createElement("div",{onClick:e.toggleVisibility},c.a.createElement(ht.a,{className:"modal-close-icon"})))),e.children)))))},vt=(a(386),function(e){var t,a,r=Object(n.useState)(!1),o=Object(w.a)(r,2),i=o[0],l=o[1],s=function(t,a){t.target.name=e.id,t.target.value=a,e.handleChange(t),l(!i)};return e.elements?e.elements.map((function(e){return c.a.createElement("div",{className:"option",key:e,onClick:function(t){return s(t,e)}},e)})):e.objects&&e.objects.map((function(e){return c.a.createElement("div",{className:"option",key:e.key,onClick:function(t){return s(t,e.key)}},e.value)})),c.a.createElement("div",{className:"oak-select"},c.a.createElement("select",{onChange:e.handleChange,name:e.id,className:"select",value:e.data[e.id],disabled:e.disabled},c.a.createElement("option",{value:""}," "),e.firstAction&&c.a.createElement("option",{value:e.firstAction},e.firstAction),null===(t=e.elements)||void 0===t?void 0:t.map((function(e){return c.a.createElement("option",{value:e,key:e},e)})),null===(a=e.objects)||void 0===a?void 0:a.map((function(e){return c.a.createElement("option",{value:e.key,key:e.key},e.value)}))),e.label&&c.a.createElement("label",{htmlFor:e.id,className:e.data[e.id]?"active":""},e.label))});a(387);var jt=function(e){return c.a.createElement("div",{className:"oak-check-box ".concat(function(){var t=e.theme?e.theme:"";return t+=e.variant?" ".concat(e.variant):""}())},c.a.createElement("div",{className:"checkbox-container"},c.a.createElement("label",{className:"checkbox"},c.a.createElement("input",{type:"checkbox",name:e.id,checked:e.data[e.id],id:e.id,onChange:function(t){return a=t,void e.handleChange(a);var a},disabled:e.disabled}),c.a.createElement("label",{className:"typography-5",htmlFor:e.id},e.label))))},gt=function(e){var t=Object(n.useState)({name:"",datatype:"",lower:1,upper:2,startSequenceFrom:0,enumValues:"",delimiter:",",array:!1}),a=Object(w.a)(t,2),r=a[0],o=a[1];Object(n.useEffect)((function(){o(Object(m.a)(Object(m.a)({},r),e.data))}),[e.data]);var i=function(e){o(Object(m.a)(Object(m.a)({},r),{},Object(Te.a)({},e.currentTarget.name,e.currentTarget.value)))},l=function(e){o(Object(m.a)(Object(m.a)({},r),{},Object(Te.a)({},e.currentTarget.name,parseInt(e.currentTarget.value,10))))};return c.a.createElement(Et,{visible:e.visible,toggleVisibility:e.toggleVisibility,label:"Attribute setting"},c.a.createElement("div",{slot:"modal-body",className:"modal-body"},c.a.createElement(tt,null,c.a.createElement(xe,{data:r,id:"name",handleChange:i,label:"Field name"}),c.a.createElement(vt,{data:r,id:"datatype",handleChange:i,label:"Datatype",elements:["object","integer","decimal","char","word","sentence","alphanumeric","boolean","enum","sequence_number"]}),["sequence_number"].includes(r.datatype)&&c.a.createElement(xe,{data:r,id:"startSequenceFrom",handleChange:l,type:"number",label:"Start from"}),r.datatype&&!["sequence_number","boolean","enum","object"].includes(r.datatype)&&c.a.createElement(c.a.Fragment,null,c.a.createElement(xe,{data:r,id:"lower",handleChange:l,type:"number",label:"Lower bound"}),c.a.createElement(xe,{data:r,id:"upper",handleChange:l,type:"number",label:"Upper bound"})),["enum"].includes(r.datatype)&&c.a.createElement(c.a.Fragment,null,c.a.createElement(xe,{data:r,id:"enumValues",handleChange:i,label:"Possible values"}),c.a.createElement(xe,{data:r,id:"delimiter",handleChange:i,label:"Possible values delimited by"})),r.datatype&&c.a.createElement(jt,{id:"array",data:r,handleChange:function(e){o(Object(m.a)(Object(m.a)({},r),{},Object(Te.a)({},e.currentTarget.name,e.currentTarget.checked)))},theme:"primary",variant:"circle",label:"Array type"}))),c.a.createElement("div",{className:"modal-footer"},c.a.createElement(Ie,{theme:"primary",variant:"appear",action:function(){e.onSave(r)}},"Update")))},Ot={name:"",datatype:"",lower:1,upper:2,array:!1,id:""},yt=function e(t){var a=Object(n.useState)(),r=Object(w.a)(a,2),o=r[0],i=r[1],l=Object(n.useState)(),s=Object(w.a)(l,2),u=s[0],d=s[1],p=Object(n.useState)(!1),f=Object(w.a)(p,2),b=f[0],h=f[1],E=Object(n.useState)(Object(m.a)(Object(m.a)({},Ot),{},{parentReference:t.reference,reference:P(),id:t.id})),v=Object(w.a)(E,2),j=v[0],g=v[1];Object(n.useEffect)((function(){i(t.data.find((function(e){return e.reference===t.reference}))),d(t.data.filter((function(e){return e.parentReference===t.reference})))}),[t.data,t.reference]),Object(n.useEffect)((function(){b||g(Object(m.a)(Object(m.a)({},Ot),{},{parentReference:t.reference,reference:P()}))}),[b]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"field-element"},c.a.createElement("div",{className:"field-element-parent"},c.a.createElement("div",{className:"field-element-parent--title typography-5"},o&&c.a.createElement("div",null,null===o||void 0===o?void 0:o.name),!o&&c.a.createElement("div",null,"Root")),o&&c.a.createElement("div",{className:"field-element-parent--subtitle typography-4"},c.a.createElement("div",null,"Datatype: ".concat(o.datatype).concat(o.array?" [ ]":"")),!o&&c.a.createElement("div",null,"Root")),c.a.createElement("div",{className:"field-element-parent--action typography-4"},o&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"field-element-action hyperlink",onClick:function(){g(o),h(!0)}},"edit"),c.a.createElement("div",{className:"field-element-action hyperlink",onClick:function(){t.handleChange("remove",t.reference,t.id)}},"delete")),(!o||"object"===o.datatype)&&c.a.createElement("div",{className:"field-element-action hyperlink",onClick:function(){h(!0)}},"new-attribute"))),(null===u||void 0===u?void 0:u.length)>0&&c.a.createElement("div",{className:"field-element-children"},u.map((function(a){return c.a.createElement("div",{className:"field-element-children--element",key:a.reference},c.a.createElement(e,{id:t.id,data:t.data,reference:a.reference,handleChange:t.handleChange}))})))),c.a.createElement(gt,{visible:b,toggleVisibility:function(){return h(!b)},data:j,onSave:function(e){t.handleChange("edit",e,t.id),h(!1)}}))},Nt=function(e){return c.a.createElement("div",{className:"data-structure-builder"},c.a.createElement("div",{className:"data-structure-builder--label"},e.label),c.a.createElement(yt,{data:e.data[e.id],id:e.id,reference:null,handleChange:e.handleChange}))},kt=function(e){var t=Object(n.useState)(Object(m.a)(Object(m.a)({},e.data),{},{projectId:e.projectId,name:"",description:"",responseType:"None",payloadType:"None",method:"GET",response:[],payload:[]})),a=Object(w.a)(t,2),r=a[0],o=a[1],i=Object(l.b)(),s=Object(l.c)((function(e){return e.authorization}));Object(n.useEffect)((function(){e.data,o(Object(m.a)(Object(m.a)(Object(m.a)({},r),e.data),{},{projectId:e.projectId}))}),[e.projectId,e.data]);var u=function(e){o(Object(m.a)(Object(m.a)({},r),{},Object(Te.a)({},e.currentTarget.name,e.currentTarget.value)))},d=function(){var t=Object(We.a)(Ke.a.mark((function t(){var a,n;return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),R("notification",!0,{id:a=T(),type:"running",message:"Saving custom endpoint [".concat(r.name,"]")}),t.next=5,bt(e.space,s,Object(m.a)(Object(m.a)({},r),{},{type:"custom",projectId:e.projectId,alias:[]}));case 5:n=t.sent,console.log(n),200===n.status&&(i(G(e.space,s)),R("notification",!0,{id:a,type:"success",message:"Domain endpoint [".concat(r.name,"] saved successfully"),duration:3e3}),e.history.push("/".concat(e.space,"/endpoint?projectId=").concat(e.projectId)));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement(tt,null,e.projectId&&c.a.createElement(c.a.Fragment,null,c.a.createElement(xe,{data:r,handleChange:function(e){o(Object(m.a)(Object(m.a)({},r),{},{name:e.currentTarget.value.toLowerCase().replace(/\s/g,"").replace(/\W/g,"")}))},id:"name",label:"Endpoint name"}),c.a.createElement(vt,{id:"method",data:r,handleChange:u,label:"Request method",elements:["GET","POST","PUT"]}))),e.projectId&&c.a.createElement(c.a.Fragment,null,c.a.createElement(tt,null,c.a.createElement(vt,{data:r,handleChange:u,elements:["None","Object","Array"],id:"responseType",label:"Response type"}),["Object","Array"].includes(r.responseType)&&c.a.createElement(Nt,{data:r,id:"response",label:"Response data structure",handleChange:function(e,t,a){console.log(e,t,a);var n=[];switch(e){case"remove":n=r[a].filter((function(e){return e.parentReference!==t&&e.reference!==t}));break;case"edit":(n=r[a].filter((function(e){return e.reference!==t.reference}))).push(Object(m.a)({},t))}o(Object(m.a)(Object(m.a)({},r),{},Object(Te.a)({},a,n)))}}))),c.a.createElement(at,null,c.a.createElement(Ie,{theme:"primary",variant:"appear",action:d},"Save"),c.a.createElement(Ie,{theme:"default",variant:"appear",action:function(){return e.history.goBack()}},"Close")))},_t=(a(388),function(e){var t=Object(n.useState)(!1),a=Object(w.a)(t,2),r=a[0],o=a[1],i=Object(n.useState)(P()),l=Object(w.a)(i,2),s=l[0];l[1];Object(n.useEffect)((function(){S().subscribe((function(e){"clipboard-updated"===e.name&&e.data!==s&&o(!1)}))}),[]);return c.a.createElement("div",{className:"api-specification-link"},c.a.createElement("div",{className:"api-specification-link--left"},c.a.createElement("div",{className:"api-specification-link--left--type ".concat(e.type)},e.type),c.a.createElement("div",null,e.baseUrl+(e.extendedUrl||""))),c.a.createElement("div",{className:"api-specification-link--right"},c.a.createElement("div",{className:"api-specification-link--right--copied typography-3 ".concat(r?"copied-indicator-on":"")},"Copied to clipboard"),e.handleRemoveAlias&&c.a.createElement("div",null,c.a.createElement("i",{className:"material-icons",onClick:function(){return e.handleRemoveAlias(e.extendedUrl)}},"delete")),c.a.createElement("div",null,c.a.createElement("i",{className:"material-icons",onClick:function(){navigator.clipboard.writeText(e.baseUrl+(e.extendedUrl||"")),o(!0),R("clipboard-updated",!0,s),setTimeout((function(){o(!1)}),2e3)}},"content_copy"))))}),wt=(a(389),function(e){var t=Object(l.c)((function(e){return e.authorization})),a=Object(n.useState)(!1),r=Object(w.a)(a,2),o=(r[0],r[1]),i=Object(n.useState)({alias:"",addNewAlias:!1}),s=Object(w.a)(i,2),u=s[0],d=s[1],p=Object(n.useState)(P()),f=Object(w.a)(p,2),b=f[0];f[1];Object(n.useEffect)((function(){S().subscribe((function(e){"clipboard-updated"===e.name&&e.data!==b&&o(!1)}))}),[]);var h=function(){var a=Object(We.a)(Ke.a.mark((function a(n){var c;return Ke.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return R("notification",!0,{id:c=T(),type:"running",message:"Saving endpoint [".concat(e.endpoint.name,"]")}),a.next=4,bt(e.space,t,Object(m.a)(Object(m.a)({},e.endpoint),{},{alias:e.endpoint.alias.filter((function(t){return t.pathKey!==e.pathKey||t.path!==n}))}));case 4:200===a.sent.status&&R("notification",!0,{id:c,type:"success",message:"Endpoint [".concat(e.endpoint.name,"] saved successfully"),duration:3e3}),E();case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),E=function(){d(Object(m.a)(Object(m.a)({},u),{},{alias:"",addNewAlias:!1}))};return c.a.createElement("div",{className:"api-specification"},c.a.createElement(_t,{baseUrl:e.baseUrl,extendedUrl:e.extendedUrl,endpoint:e.endpoint,pathKey:e.pathKey,type:e.type}),!e.noAlias&&c.a.createElement(c.a.Fragment,null,e.endpoint.alias.filter((function(t){return t.pathKey===e.pathKey})).map((function(t){return c.a.createElement(_t,{baseUrl:e.baseUrl+(e.extendedUrl||""),extendedUrl:"".concat(t.path),endpoint:e.endpoint,pathKey:e.pathKey,type:"ALIAS",handleRemoveAlias:h,key:"".concat(e.pathKey,"-").concat(t.path)})}))))}),At=(a(23),function(e){return c.a.createElement(c.a.Fragment,null,e.project&&e.endpoint&&c.a.createElement("div",{className:"api-specification"},c.a.createElement(wt,{type:e.endpoint.method,baseUrl:"".concat("https://api.ioak.io:8040","/api/").concat(e.space,"/").concat(e.project.reference,"/").concat(e.endpoint.type,"/").concat(e.endpoint.name),pathKey:"PRIMARY",endpoint:e.endpoint,space:e.space,history:e.history})))}),Ct=a(23),It=function(e){var t=Object(n.useState)({id:""}),a=Object(w.a)(t,2),r=a[0],o=a[1],i=(Object(l.b)(),Object(l.c)((function(e){return e.authorization})),Object(l.c)((function(e){return e.endpoint.endpoints.find((function(e){return e._id===r.id}))}))),s=Object(l.c)((function(e){return e.project.projects.find((function(e){return e._id===(null===i||void 0===i?void 0:i.projectId)}))}));Object(n.useEffect)((function(){var t=Ct.parse(e.location.search);o(t)}),[e.location.search]);var u=Object(n.useState)([]),m=Object(w.a)(u,2);m[0],m[1];return c.a.createElement(Ce,null,c.a.createElement(st,{noBookmarking:!0,variant:"fullpage",meta:[{slotName:"endpoints",label:"API Spec",icon:"link"},{slotName:"settings",label:"Settings",icon:"settings"}]},c.a.createElement("div",{slot:"settings"},i&&c.a.createElement(Oe,null,c.a.createElement(kt,{data:i,history:e.history,space:e.space,projectId:null===i||void 0===i?void 0:i.projectId}))),c.a.createElement("div",{slot:"endpoints"},c.a.createElement(Oe,null,c.a.createElement(At,{space:e.space,history:e.history,endpoint:i,project:s})))))},Rt=(a(175),a(390),function(e){var t=Object(n.useState)({projectId:e.projectId,name:"",description:"",key:"",response:[]}),a=Object(w.a)(t,2),r=a[0],o=a[1],i=Object(n.useState)([{key:"None",value:"None - We do not have a unique identifier"}]),s=Object(w.a)(i,2),u=s[0],d=s[1],p=Object(l.b)(),f=Object(l.c)((function(e){return e.authorization}));Object(n.useEffect)((function(){e.data?o(Object(m.a)(Object(m.a)(Object(m.a)({},r),e.data),{},{projectId:e.projectId})):o(Object(m.a)(Object(m.a)({},r),{},{projectId:e.projectId}))}),[e.projectId,e.data]),Object(n.useEffect)((function(){d([{key:"None",value:"None - We do not have a unique identifier"}].concat(Object(_.a)(r.response.filter((function(e){if(!e.parentReference&&"object"!==e.datatype&&!e.array)return!0})).map((function(e){return{key:e.reference,value:e.name}})))))}),[r.response]);var b=function(){var t=Object(We.a)(Ke.a.mark((function t(){var a,n;return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),R("notification",!0,{id:a=T(),type:"running",message:"Saving domain endpoint [".concat(r.name,"]")}),t.next=5,bt(e.space,f,Object(m.a)(Object(m.a)({},r),{},{type:"domain",projectId:e.projectId,alias:[]}));case 5:n=t.sent,console.log(n),200===n.status&&(p(G(e.space,f)),R("notification",!0,{id:a,type:"success",message:"Domain endpoint [".concat(r.name,"] saved successfully"),duration:3e3}),e.history.push("/".concat(e.space,"/endpoint?projectId=").concat(e.projectId)));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,e.projectId&&c.a.createElement(tt,null,c.a.createElement(xe,{data:r,id:"name",handleChange:function(e){o(Object(m.a)(Object(m.a)({},r),{},{name:e.currentTarget.value.toLowerCase().replace(/\s/g,"").replace(/\W/g,"")}))},label:"Name of the domain"}),c.a.createElement(Nt,{data:r,id:"response",label:"Domain data structure",handleChange:function(e,t){console.log(e,t);var a=[];switch(e){case"remove":a=r.response.filter((function(e){return e.parentReference!==t&&e.reference!==t}));break;case"edit":(a=r.response.filter((function(e){return e.reference!==t.reference}))).push(Object(m.a)({},t))}o(Object(m.a)(Object(m.a)({},r),{},{response:a}))}}),c.a.createElement(vt,{data:r,id:"key",handleChange:function(e){o(Object(m.a)(Object(m.a)({},r),{},Object(Te.a)({},e.currentTarget.name,e.currentTarget.value)))},objects:u,label:"Primary key"})),c.a.createElement(at,null,c.a.createElement(Ie,{theme:"primary",variant:"appear",action:b},"Save"),c.a.createElement(Ie,{theme:"default",variant:"appear",action:function(){return e.history.goBack()}},"Close")))}),St=(a(23),function(e){var t=Object(n.useState)("".concat("https://api.ioak.io:8040","/api/").concat(e.space,"/").concat(e.project.reference,"/").concat(e.endpoint.type,"/").concat(e.endpoint.name)),a=Object(w.a)(t,2),r=a[0],o=a[1];return Object(n.useEffect)((function(){o("".concat("https://api.ioak.io:8040","/api/").concat(e.space,"/").concat(e.project.reference,"/").concat(e.endpoint.type,"/").concat(e.endpoint.name))}),[e]),c.a.createElement(c.a.Fragment,null,e.project&&e.endpoint&&c.a.createElement("div",{className:"api-specification-list"},c.a.createElement(wt,{type:"GET",pathKey:"GET_ALL",baseUrl:r,space:e.space,history:e.history,endpoint:e.endpoint,minAliasLength:2}),c.a.createElement(wt,{type:"GET",pathKey:"GET_BY_ID",baseUrl:r,extendedUrl:"/:id",space:e.space,history:e.history,endpoint:e.endpoint,noAlias:!0}),c.a.createElement(wt,{type:"PUT",pathKey:"PUT",baseUrl:r,space:e.space,history:e.history,endpoint:e.endpoint}),c.a.createElement(wt,{type:"POST",pathKey:"POST",baseUrl:r,space:e.space,history:e.history,endpoint:e.endpoint}),c.a.createElement(wt,{type:"DELETE",pathKey:"DELETE_BY_ID",baseUrl:r,extendedUrl:"/:id",space:e.space,history:e.history,endpoint:e.endpoint})))}),Tt=a(23),Pt=function(e){var t=Object(n.useState)({id:""}),a=Object(w.a)(t,2),r=a[0],o=a[1],i=(Object(l.b)(),Object(l.c)((function(e){return e.authorization})),Object(l.c)((function(e){return e.endpoint.endpoints.find((function(e){return e._id===r.id}))}))),s=Object(l.c)((function(e){return e.project.projects.find((function(e){return e._id===(null===i||void 0===i?void 0:i.projectId)}))})),u=Object(n.useState)({projectId:"",name:"",description:"",response:[]}),d=Object(w.a)(u,2),p=(d[0],d[1]);Object(n.useEffect)((function(){i&&p(Object(m.a)({},i))}),[i]),Object(n.useEffect)((function(){var t=Tt.parse(e.location.search);o(t)}),[e.location.search]);var f=Object(n.useState)([]),b=Object(w.a)(f,2);b[0],b[1];return c.a.createElement(Ce,null,c.a.createElement(st,{noBookmarking:!0,variant:"fullpage",meta:[{slotName:"endpoints",label:"API Spec",icon:"link"},{slotName:"settings",label:"Settings",icon:"settings"}]},c.a.createElement("div",{slot:"settings"},i&&c.a.createElement(Oe,null,c.a.createElement(Rt,{data:i,history:e.history,space:e.space,projectId:null===i||void 0===i?void 0:i.projectId}))),c.a.createElement("div",{slot:"endpoints"},c.a.createElement(Oe,null,c.a.createElement(St,{space:e.space,history:e.history,endpoint:i,project:s})))))},Ut=(a(391),a(23)),xt=function(e){var t=Object(l.c)((function(e){return e.project.projects})),a=Object(n.useState)({type:"Domain endpoint",projectId:""}),r=Object(w.a)(a,2),o=r[0],i=r[1];Object(n.useEffect)((function(){var t=Ut.parse(e.location.search);i(Object(m.a)(Object(m.a)({},o),{},{projectId:null===t||void 0===t?void 0:t.projectId,type:null===t||void 0===t?void 0:t.type}))}),[e.location.search]);var s=Object(n.useState)([]),u=Object(w.a)(s,2),d=u[0],p=u[1];Object(n.useEffect)((function(){var e=[];t.map((function(t){e.push({key:t._id,value:t.name})})),p(e)}),[t]);return c.a.createElement(Ce,null,c.a.createElement(Oe,null,c.a.createElement(ge,{title:"New Endpoint",links:[{label:"Back",icon:"reply",action:function(){return e.history.goBack()}}],linkSize:"large"}),c.a.createElement(tt,null,c.a.createElement(ye,{title:"Basic details"}),c.a.createElement(vt,{id:"projectId",data:o,handleChange:function(t){e.history.push("/".concat(e.space,"/endpoint/create?projectId=").concat(t.currentTarget.value,"&type=").concat(o.type))},label:"Project",objects:d}),c.a.createElement(vt,{id:"type",data:o,handleChange:function(t){e.history.push("/".concat(e.space,"/endpoint/create?projectId=").concat(o.projectId,"&type=").concat(t.currentTarget.value))},label:"Endpoint type",objects:[{key:"domain",value:"Domain endpoint"},{key:"custom",value:"Custom endpoint"}]})),o.projectId&&"domain"===o.type&&c.a.createElement(Rt,{space:e.space,history:e.history,projectId:o.projectId}),o.projectId&&"custom"===o.type&&c.a.createElement(kt,{space:e.space,history:e.history,projectId:o.projectId})))},Lt=(a(392),a(393),function(e){return c.a.createElement("div",{className:"endpoint-link",onClick:function(){return e.history.push("/".concat(e.space,"/endpoint/").concat(e.endpoint.type,"/view?id=").concat(e.endpoint._id))}},c.a.createElement("div",{className:"endpoint-link--left typography-6"},c.a.createElement("div",null,e.endpoint.name),c.a.createElement("div",{className:"endpoint-link--left--method typography-3"},e.endpoint.method)),c.a.createElement("div",{className:"endpoint-link--type typography-3"},e.endpoint.type.toUpperCase()))}),Dt=function(e){return c.a.createElement("div",{className:"oak-form-row"},c.a.createElement("div",{className:"oak-form-row--container"},e.children))},zt=a(23),Ft=function(e){var t=Object(l.c)((function(e){return e.project.projects})),a=Object(n.useState)({projectId:""}),r=Object(w.a)(a,2),o=r[0],i=r[1],s=Object(n.useState)(),u=Object(w.a)(s,2),d=u[0],p=u[1],f=Object(n.useState)([]),b=Object(w.a)(f,2),h=b[0],E=b[1],v=Object(l.c)((function(e){return e.endpoint.endpoints}));Object(n.useEffect)((function(){p(v.filter((function(e){return e.projectId===o.projectId})))}),[o.projectId,v]),Object(n.useEffect)((function(){var t=zt.parse(e.location.search);i(Object(m.a)(Object(m.a)({},o),{},{projectId:null===t||void 0===t?void 0:t.projectId}))}),[e.location.search]),Object(n.useEffect)((function(){var e=[];t.map((function(t){e.push({key:t._id,value:t.name})})),E(e)}),[t]);return c.a.createElement(Ce,null,c.a.createElement(Oe,null,c.a.createElement(ge,{title:"Endpoint management console",subtitle:"Creation and maintainance of your project API endpoints"}),c.a.createElement(Dt,null,c.a.createElement(vt,{id:"projectId",data:o,handleChange:function(t){e.history.push("/".concat(e.space,"/endpoint?projectId=").concat(t.currentTarget.value))},label:"Choose project",objects:h})),o.projectId&&c.a.createElement(c.a.Fragment,null,c.a.createElement(at,null,c.a.createElement(Ie,{action:function(){return e.history.push("/".concat(e.space,"/endpoint/create?projectId=").concat(o.projectId))},theme:"primary",variant:"appear"},"New endpoint")),c.a.createElement("div",{className:"list-domain"},null===d||void 0===d?void 0:d.map((function(t){return c.a.createElement(Lt,{key:t._id,space:e.space,endpoint:t,history:e.history})})),!d||0===d.length&&c.a.createElement("div",{className:"typography-4"},"No endpoints yet")))))},Bt=function(e){return c.a.createElement("div",{className:"router-view"},c.a.createElement($.Route,{path:"/login",render:function(t){return c.a.createElement(Ge,Object.assign({},t,e,{component:_e}))}}),c.a.createElement($.Route,{path:"/:space/unauthorized",render:function(t){return c.a.createElement(Ge,Object.assign({},t,e,{component:Je,middleware:["isAuthenticated"]}))}}),c.a.createElement($.Route,{path:"/",exact:!0,render:function(t){return c.a.createElement(Ge,Object.assign({},t,e,{component:Se}))}}),c.a.createElement($.Route,{path:"/home",exact:!0,render:function(t){return c.a.createElement(Ge,Object.assign({},t,e,{component:Se}))}}),c.a.createElement($.Route,{path:"/tenant",exact:!0,render:function(t){return c.a.createElement(Ge,Object.assign({},t,e,{component:He}))}}),c.a.createElement($.Route,{path:"/:space/home",render:function(t){return c.a.createElement(Ge,Object.assign({},t,e,{component:Ne,middleware:["authenticate"]}))}}),c.a.createElement($.Route,{path:"/:space/login/home",render:function(t){return c.a.createElement(Ge,Object.assign({},t,e,{component:Xe,middleware:["readAuthentication"]}))}}),c.a.createElement($.Route,{path:"/:space/login/oa",render:function(t){return c.a.createElement(Ge,Object.assign({},t,e,{component:Ye,middleware:["readAuthentication"]}))}}),c.a.createElement($.Route,{path:"/:space/project",exact:!0,render:function(t){return c.a.createElement(Ge,Object.assign({},t,e,{component:et,middleware:["authenticate"]}))}}),c.a.createElement($.Route,{path:"/:space/project/view",render:function(t){return c.a.createElement(Ge,Object.assign({},t,e,{component:ft,middleware:["authenticate"]}))}}),c.a.createElement($.Route,{path:"/:space/project/create",render:function(t){return c.a.createElement(Ge,Object.assign({},t,e,{component:it,middleware:["authenticate"]}))}}),c.a.createElement($.Route,{path:"/:space/endpoint",exact:!0,render:function(t){return c.a.createElement(Ge,Object.assign({},t,e,{component:Ft,middleware:["authenticate"]}))}}),c.a.createElement($.Route,{path:"/:space/endpoint/create",render:function(t){return c.a.createElement(Ge,Object.assign({},t,e,{component:xt,middleware:["authenticate"]}))}}),c.a.createElement($.Route,{path:"/:space/endpoint/domain/view",render:function(t){return c.a.createElement(Ge,Object.assign({},t,e,{component:Pt,middleware:["authenticate"]}))}}),c.a.createElement($.Route,{path:"/:space/endpoint/custom/view",render:function(t){return c.a.createElement(Ge,Object.assign({},t,e,{component:It,middleware:["authenticate"]}))}}))},Ht=function(e){Object(l.c)((function(e){return e.authorization}));var t=Object(l.c)((function(e){return e.profile})),a=Object(n.useState)(""),r=Object(w.a)(a,2);r[0],r[1],Object(l.b)();return c.a.createElement("div",{className:"body-container"},c.a.createElement("div",{className:"body-container--content ".concat(t.sidebar?"sidebar-shown":"sidebar-hidden")},c.a.createElement(Bt,e)))},Mt=Object(k.a)((function(e){var t=Object(l.c)((function(e){return e.profile})),a=Object(l.b)();return Object(n.useEffect)((function(){a((function(e){z.a.get("".concat("https://api.ioak.io:8010","/space/introspect")).then((function(t){console.log(t.data.data),e({type:"REFRESH_SPACES",payload:{spaces:t.data.data}})}))}))}),[]),Object(n.useEffect)((function(){y.a.defaults.global.defaultFontColor="theme_dark"===t.theme?"#e0e0e0":"#626262"}),[t]),c.a.createElement("div",{className:"App ".concat(t.theme," ").concat(t.textSize," ").concat(t.themeColor)},c.a.createElement(N.HashRouter,null,c.a.createElement(J,null),c.a.createElement(L,null),c.a.createElement(pe,{cookies:e.cookies}),c.a.createElement(ve,null),c.a.createElement(Ht,e)))})),Kt=function(e){return c.a.createElement(l.a,{store:g},c.a.createElement(Mt,e))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(i.a,null,c.a.createElement(Kt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},58:function(e,t,a){}},[[184,1,2]]]);
//# sourceMappingURL=main.e99a83b0.chunk.js.map